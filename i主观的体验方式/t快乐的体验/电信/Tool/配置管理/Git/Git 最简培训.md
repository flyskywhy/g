Li Zheng <flyskywhy@gmail.com>

# Git 最简培训
本文以 git 的图形界面进行培训，相比记忆各种 git 的终端命令，可以达到最简而仍能完成日常 git 操作。本培训不包含中心仓库的建立方法而只是使用方法。

在 Linux 终端或者 Windows 的`D:\msysgit\msys.bat`所打开的终端中，进入某个 git 管理的目录后，输入`git gui`或者`gitk --all`命令，即可打开图形界面。只有打开着图形界面对照操作，培训才有效果。最好是自己找个测试目录进去`git init`然后随便折腾。

要做一个最简单的 Git 使用培训的话，除了说第一次要`git clone`或是`git init`一把，并且日常慢慢熟悉`git gui`图形界面中的菜单、按钮和`gitk --all`图形界面中的`F2`按键、各种按钮、分支名为粗体的是当前分支、分支名上的右键菜单、commit 注释上的右键菜单外，日常使用无非如下步骤：

1. 远端更新：每次做一个新任务之前运行`git pull`命令将中心仓库上最新的代码拉过来并合并（你可以认为`git pull`是`git fetch`和`git merge`两个命令的合体），使用`gitk --all`图形界面了解当前的分支状态，使用`git gui`图形界查看哪些可能的冲突需要解决。

2. 本地提交：使用`gitk --all`图形界面在本地随意开个分支比如叫 test 然后随便怎么折腾去完成任务，过程中随便用`git gui`图形界面进行多次“提交”，只要不“上传”就行。

3. 代码审查：完成任务并“提交”后，让相关人员进行代码审查。

4. 合并提交：代码审查完成后，如果 test 分支中提交了很多次，则建议将这些提交合并成一个提交记录，方法是在`gitk --all`图形界面中先鼠标左键选择到`test`分支的根部（还没有做过提交的那里）应用`commit`注释上的右键菜单中的`Reset->Soft`功 能，此时`git gui`图形界面中就会发现 test 分支又是需要提交的状态了，“提交”即可。

5. 远端上传：在“上传”前，再次`git pull`以便保证等一会儿能够上传成功。接着使用`gitk --all`图形界面中的右键菜单`Check out this branch`切换到主分支（一般叫做`master`，如果项目成员认定叫其它名字的才是主分支也可以），然后在`git gui`图形界面中选择“合并->本地合并”将 test 分支合并过来。此时如果刚才`git pull`有更新并导致有冲突且冲突较大的话，解决完冲突后应再次代码审查。最后，“上传”即可。

注：第 4 和 5 的操作中，可以摸索一下 commit 注释上的右键菜单中的`Cherry-pick`功能，可能你会更喜欢该逐点合并功能带来的视觉效果。