"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7129],{746:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>x,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Cpu/Riscv/LicheeRV\u4f7f\u7528\u8be6\u89e3","title":"LicheeRV\u4f7f\u7528\u8be6\u89e3","description":"Li Zheng flyskywhy@gmail.com","source":"@site/../g/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Cpu/Riscv/LicheeRV\u4f7f\u7528\u8be6\u89e3.md","sourceDirName":"i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Cpu/Riscv","slug":"/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Cpu/Riscv/LicheeRV\u4f7f\u7528\u8be6\u89e3","permalink":"/g/docs/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Cpu/Riscv/LicheeRV\u4f7f\u7528\u8be6\u89e3","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4e3a\u4ec0\u4e48\u666e\u901a\u7f8e\u56fd\u4eba\u5bf9\u4e2d\u56fd\u73b0\u5b9e\u6709\u8fd9\u4e48\u5927\u504f\u89c1","permalink":"/g/docs/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u653f/\u4e3a\u4ec0\u4e48\u666e\u901a\u7f8e\u56fd\u4eba\u5bf9\u4e2d\u56fd\u73b0\u5b9e\u6709\u8fd9\u4e48\u5927\u504f\u89c1"},"next":{"title":"stm\u5f00\u53d1\u73af\u5883\u8be6\u89e3","permalink":"/g/docs/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Cpu/stm/stm\u5f00\u53d1\u73af\u5883\u8be6\u89e3"}}');var c=n(4848),r=n(8453);const t={},d="Lichee RV \u4f7f\u7528\u8be6\u89e3",l={},o=[{value:"\u5728 x86 Windows \u4e0a\u70e7\u5f55 risc-v Linux \u5230 SD \u5361",id:"\u5728-x86-windows-\u4e0a\u70e7\u5f55-risc-v-linux-\u5230-sd-\u5361",level:3},{value:"\u5728 x86 Linux \u4e0a\u4fee\u590d SD \u5361\u4e2d\u7684\u5206\u533a",id:"\u5728-x86-linux-\u4e0a\u4fee\u590d-sd-\u5361\u4e2d\u7684\u5206\u533a",level:3},{value:"\u8fd0\u884c risc-v Linux",id:"\u8fd0\u884c-risc-v-linux",level:3},{value:"\u5728 x86 Linux \u4e0a\u5b89\u88c5<code>riscv64-unknown-linux-gnu-gcc</code>",id:"\u5728-x86-linux-\u4e0a\u5b89\u88c5riscv64-unknown-linux-gnu-gcc",level:2},{value:"\u5728 risc-v Linux \u4e0a\u8fd0\u884c go + c \u7a0b\u5e8f",id:"\u5728-risc-v-linux-\u4e0a\u8fd0\u884c-go--c-\u7a0b\u5e8f",level:2},{value:"\u5728 risc-v Linux \u4e0a\u8fd0\u884c js \u7a0b\u5e8f",id:"\u5728-risc-v-linux-\u4e0a\u8fd0\u884c-js-\u7a0b\u5e8f",level:2}];function h(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(i.p,{children:["Li Zheng ",(0,c.jsx)(i.a,{href:"mailto:flyskywhy@gmail.com",children:"flyskywhy@gmail.com"})]}),"\n",(0,c.jsx)(i.header,{children:(0,c.jsx)(i.h1,{id:"lichee-rv-\u4f7f\u7528\u8be6\u89e3",children:"Lichee RV \u4f7f\u7528\u8be6\u89e3"})}),"\n",(0,c.jsx)(i.h3,{id:"\u5728-x86-windows-\u4e0a\u70e7\u5f55-risc-v-linux-\u5230-sd-\u5361",children:"\u5728 x86 Windows \u4e0a\u70e7\u5f55 risc-v Linux \u5230 SD \u5361"}),"\n",(0,c.jsxs)(i.p,{children:["\u63d2\u4e0a SD \u5361\uff0c\u7528 Debian \u955c\u50cf",(0,c.jsx)(i.a,{href:"https://wiki.sipeed.com/hardware/zh/lichee/RV/flash.html",children:"\u70e7\u5f55\u7cfb\u7edf"}),"\u3002"]}),"\n",(0,c.jsx)(i.h3,{id:"\u5728-x86-linux-\u4e0a\u4fee\u590d-sd-\u5361\u4e2d\u7684\u5206\u533a",children:"\u5728 x86 Linux \u4e0a\u4fee\u590d SD \u5361\u4e2d\u7684\u5206\u533a"}),"\n",(0,c.jsxs)(i.p,{children:["\u540e\u9762\u8fd0\u884c risc-v Linux \u65f6\u7528",(0,c.jsx)(i.code,{children:"df -h"}),"\u547d\u4ee4\u4f1a\u53d1\u73b0\u6839\u5206\u533a\u53ea\u6709",(0,c.jsx)(i.code,{children:"3.6GB"}),"\uff0c\u4e3a\u907f\u514d\u540e\u7eed\u5b89\u88c5\u66f4\u591a\u8f6f\u4ef6\u65f6\u51fa\u73b0",(0,c.jsx)(i.code,{children:"No space left on device"}),"\uff0c\u9700\u4f7f\u7528 GParted \u6253\u5f00 SD \u5361\uff0c\u5728\u91cc\u9762\u7684 rootfs \u4e0a\u201c\u53f3\u952e\u83dc\u5355->\u4fe1\u606f\u201d\uff0c\u6839\u636e\u63d0\u793a\u201c\u5206\u533a->\u68c0\u67e5\u201d\u6765\u6269\u5927\u6587\u4ef6\u7cfb\u7edf\u81f3\u6574\u4e2a",(0,c.jsx)(i.code,{children:"8GB"}),"\u7684\u5206\u533a\u3002"]}),"\n",(0,c.jsx)(i.h3,{id:"\u8fd0\u884c-risc-v-linux",children:"\u8fd0\u884c risc-v Linux"}),"\n",(0,c.jsx)(i.p,{children:"\u63d2\u4e0a HDMI \u548c USB \u952e\u76d8\uff0c\u4f7f\u7528\u7528\u6237\u540d root \u548c\u5bc6\u7801 licheepi \u767b\u5f55\u7cfb\u7edf\u3002"}),"\n",(0,c.jsxs)(i.p,{children:["\u5982\u679c\u6ca1\u6709 USB HUB \u6765\u540c\u65f6\u63d2\u4e0a USB \u9f20\u6807\uff0c\u5219\u53ef\u4f7f\u7528",(0,c.jsx)(i.code,{children:"CTRL+ESC"}),"\u6765\u6253\u5f00\u7cfb\u7edf\u83dc\u5355\u627e\u5230\u7ec8\u7aef\u7a0b\u5e8f\u3002"]}),"\n",(0,c.jsxs)(i.p,{children:["\u5728\u7ec8\u7aef\u7a0b\u5e8f\u4e2d",(0,c.jsx)(i.code,{children:"vi /etc/ssh/sshd_config"}),"\u7136\u540e\u6dfb\u52a0",(0,c.jsx)(i.code,{children:"PermitRootLogin yes"}),"\u4ee5\u89e3\u51b3\u65e0\u6cd5\u4ee5 root \u8d26\u53f7 ssh \u7684\u95ee\u9898\uff0c\u5982\u6b64\u5c31\u53ef\u4ee5\u62d4\u4e0b HDMI \u548c USB \u952e\u76d8\u4e86\u3002"]}),"\n",(0,c.jsxs)(i.p,{children:[(0,c.jsx)(i.code,{children:"vi /etc/apt/sources.list"}),"\u7136\u540e\u4fee\u6539\u4e3a\u5982\u4e0b"]}),"\n",(0,c.jsxs)(i.p,{children:["#deb ",(0,c.jsx)(i.a,{href:"http://ftp.ports.debian.org/debian-ports/",children:"http://ftp.ports.debian.org/debian-ports/"})," sid main\ndeb ",(0,c.jsx)(i.a,{href:"http://deb.debian.org/debian-ports",children:"http://deb.debian.org/debian-ports"})," sid main\ndeb ",(0,c.jsx)(i.a,{href:"http://deb.debian.org/debian-ports",children:"http://deb.debian.org/debian-ports"})," unreleased main\ndeb-src ",(0,c.jsx)(i.a,{href:"http://deb.debian.org/debian",children:"http://deb.debian.org/debian"})," sid main"]}),"\n",(0,c.jsxs)(i.p,{children:["\u518d\u53c2\u8003 ",(0,c.jsx)(i.a,{href:"https://www.ports.debian.org/archive",children:"https://www.ports.debian.org/archive"})," \uff0c\u8fd0\u884c"]}),"\n",(0,c.jsxs)(i.p,{children:["gpg --keyserver ",(0,c.jsx)(i.a,{href:"http://keyserver.ubuntu.com",children:"http://keyserver.ubuntu.com"})," --recv-keys 01C2D6F3D1A46AD1C0DC2F3D8D69674688B6CB36\ngpg --export 01C2D6F3D1A46AD1C0DC2F3D8D69674688B6CB36 | apt-key add -"]}),"\n",(0,c.jsxs)(i.p,{children:["\u8fd9\u6837\u5c31\u53ef\u4ee5\u987a\u5229",(0,c.jsx)(i.code,{children:"apt update"}),"\u4e86\uff0c\u800c\u4e14\u9694\u4e0a\u51e0\u5929\u4e86\u5c31\u8981\u5148",(0,c.jsx)(i.code,{children:"apt update"}),"\uff0c\u5426\u5219\u5728",(0,c.jsx)(i.code,{children:"apt install"}),"\u65f6\u5f88\u5bb9\u6613",(0,c.jsx)(i.code,{children:"404"}),"\u3002"]}),"\n",(0,c.jsxs)(i.h2,{id:"\u5728-x86-linux-\u4e0a\u5b89\u88c5riscv64-unknown-linux-gnu-gcc",children:["\u5728 x86 Linux \u4e0a\u5b89\u88c5",(0,c.jsx)(i.code,{children:"riscv64-unknown-linux-gnu-gcc"})]}),"\n",(0,c.jsxs)(i.p,{children:["git clone ",(0,c.jsx)(i.a,{href:"https://github.com/riscv-collab/riscv-gnu-toolchain",children:"https://github.com/riscv-collab/riscv-gnu-toolchain"}),"\ncd riscv-gnu-toolchain\n./configure --prefix=/opt/riscv\nmake linux"]}),"\n",(0,c.jsx)(i.h2,{id:"\u5728-risc-v-linux-\u4e0a\u8fd0\u884c-go--c-\u7a0b\u5e8f",children:"\u5728 risc-v Linux \u4e0a\u8fd0\u884c go + c \u7a0b\u5e8f"}),"\n",(0,c.jsxs)(i.p,{children:["\u6bd4\u5982\u7f16\u8bd1 ",(0,c.jsx)(i.a,{href:"https://github.com/flyskywhy/textiot/commit/046914e",children:"https://github.com/flyskywhy/textiot/commit/046914e"})," \uff0c\u7136\u540e\u5728 risc-v Linux \u4e0a\u8fd0\u884c\u65f6\u5982\u679c\u51fa\u73b0\u6ca1\u5934\u6ca1\u8111\u7684",(0,c.jsx)(i.code,{children:"Segmentation fault"}),"\uff0c\u5219"]}),"\n",(0,c.jsx)(i.p,{children:"apt install gdb\ngdb textile-riscv\nrun"}),"\n",(0,c.jsxs)(i.p,{children:["\u5c31\u53ef\u4ee5\u770b\u5230\u8f83\u8be6\u7ec6\u7684",(0,c.jsx)(i.code,{children:"SIGSEGV, Segmentation fault. transcmp at dcigettext.c:290"}),"\uff0c\u5206\u6790\u5224\u65ad\u662f\u7f16\u8bd1\u5668\u95ee\u9898\uff0c\u5c31\u8fdb\u5165",(0,c.jsx)(i.code,{children:"riscv-gnu-toolchain/glibc/"}),"\u8fdb\u884c",(0,c.jsx)(i.code,{children:"git reset hard"}),"\u5230",(0,c.jsx)(i.code,{children:"2.37"}),"\u7248(\u6ce8\uff1a",(0,c.jsx)(i.code,{children:"riscv-gnu-toolchain"}),"\u4e5f\u5df2\u5728",(0,c.jsx)(i.code,{children:"2023-02-19"}),"\u7684\u63d0\u4ea4\u70b9\u4e2d\u66f4\u6539\u4e3a\u4e86",(0,c.jsx)(i.code,{children:"2.37"}),"\u7248)\uff0c\u7136\u540e\u91cd\u65b0",(0,c.jsx)(i.code,{children:"make linux"}),"\u7f16\u8bd1\u51fa\u7f16\u8bd1\u5668\uff0c\u518d\u4ee5\u4e4b\u7f16\u8bd1\u7a0b\u5e8f\u540e\u8fd0\u884c\u5c31\u6b63\u5e38\u4e86\u3002"]}),"\n",(0,c.jsx)(i.h2,{id:"\u5728-risc-v-linux-\u4e0a\u8fd0\u884c-js-\u7a0b\u5e8f",children:"\u5728 risc-v Linux \u4e0a\u8fd0\u884c js \u7a0b\u5e8f"}),"\n",(0,c.jsx)(i.p,{children:"apt install nodejs npm"}),"\n",(0,c.jsxs)(i.p,{children:["\u7136\u540e\u5c31\u53ef\u4ee5\u8fdb\u884c nodejs \u5f00\u53d1\u4e86\uff0c\u6bd4\u5982",(0,c.jsx)(i.code,{children:"npx http-server some_www_folder"}),"\u5c31\u53ef\u4ee5\u5c06 Lichee RV \u4f5c\u4e3a\u4e00\u4e2a Web \u670d\u52a1\u5668\u6765\u4f7f\u7528\u4e86\u3002"]})]})}function x(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,c.jsx)(i,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>d});var s=n(6540);const c={},r=s.createContext(c);function t(e){const i=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);