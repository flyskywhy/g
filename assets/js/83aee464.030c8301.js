"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1087],{3598:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Tool/\u7f16\u7a0b\u8bed\u8a00/JavaScript/React\u4f7f\u7528\u8be6\u89e3","title":"React\u4f7f\u7528\u8be6\u89e3","description":"Li Zheng flyskywhy@gmail.com","source":"@site/../g/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Tool/\u7f16\u7a0b\u8bed\u8a00/JavaScript/React\u4f7f\u7528\u8be6\u89e3.md","sourceDirName":"i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Tool/\u7f16\u7a0b\u8bed\u8a00/JavaScript","slug":"/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Tool/\u7f16\u7a0b\u8bed\u8a00/JavaScript/React\u4f7f\u7528\u8be6\u89e3","permalink":"/g/docs/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Tool/\u7f16\u7a0b\u8bed\u8a00/JavaScript/React\u4f7f\u7528\u8be6\u89e3","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ReactNative\u9879\u76ee\u4e2d\u628a\u4efb\u610f\u4e8c\u8fdb\u5236\u6587\u4ef6\u6253\u5305\u8fdbAPP\u7684\u65b9\u6cd5","permalink":"/g/docs/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Tool/\u7f16\u7a0b\u8bed\u8a00/JavaScript/ReactNative\u9879\u76ee\u4e2d\u628a\u4efb\u610f\u4e8c\u8fdb\u5236\u6587\u4ef6\u6253\u5305\u8fdbAPP\u7684\u65b9\u6cd5"},"next":{"title":"emsdk\u4f7f\u7528\u8be6\u89e3","permalink":"/g/docs/i\u4e3b\u89c2\u7684\u4f53\u9a8c\u65b9\u5f0f/t\u5feb\u4e50\u7684\u4f53\u9a8c/\u7535\u4fe1/Tool/\u7f16\u7a0b\u8bed\u8a00/JavaScript/emsdk\u4f7f\u7528\u8be6\u89e3"}}');var o=r(4848),d=r(8453);const s={},c="React \u4f7f\u7528\u8be6\u89e3",t={},l=[{value:"\u5b89\u88c5 node.js \u53ca\u5176\u81ea\u5e26\u7684\u5305\u4e0b\u8f7d\u5de5\u5177 npm",id:"\u5b89\u88c5-nodejs-\u53ca\u5176\u81ea\u5e26\u7684\u5305\u4e0b\u8f7d\u5de5\u5177-npm",level:2},{value:"\u914d\u7f6e npm \u955c\u50cf",id:"\u914d\u7f6e-npm-\u955c\u50cf",level:3},{value:"\u5b89\u88c5 watchman",id:"\u5b89\u88c5-watchman",level:2},{value:"\u5b89\u88c5\u4f9d\u8d56",id:"\u5b89\u88c5\u4f9d\u8d56",level:3},{value:"\u5b89\u88c5 watchman, \u5982\u679c\u51fa\u9519, \u67e5\u770b\u5b89\u88c5\u4f9d\u8d56\u7684\u8be6\u7ec6\u6587\u6863",id:"\u5b89\u88c5-watchman-\u5982\u679c\u51fa\u9519-\u67e5\u770b\u5b89\u88c5\u4f9d\u8d56\u7684\u8be6\u7ec6\u6587\u6863",level:3},{value:"\u5b89\u88c5 flow",id:"\u5b89\u88c5-flow",level:2},{value:"\u9879\u76ee\u540d\u79f0\u9650\u5236",id:"\u9879\u76ee\u540d\u79f0\u9650\u5236",level:2},{value:"\u5b89\u88c5 react-native-cli",id:"\u5b89\u88c5-react-native-cli",level:2},{value:"\u521b\u5efa react-native \u9879\u76ee",id:"\u521b\u5efa-react-native-\u9879\u76ee",level:2},{value:"\u5173\u4e8e react-native \u7248\u672c\u5347\u7ea7",id:"\u5173\u4e8e-react-native-\u7248\u672c\u5347\u7ea7",level:2},{value:"RN \u81ea\u8eab\u7684\u5347\u7ea7\u65b9\u6cd5",id:"rn-\u81ea\u8eab\u7684\u5347\u7ea7\u65b9\u6cd5",level:3},{value:"\u5176\u5b83\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5347\u7ea7",id:"\u5176\u5b83\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5347\u7ea7",level:3},{value:"\u914d\u7f6e Android \u5f00\u53d1\u73af\u5883",id:"\u914d\u7f6e-android-\u5f00\u53d1\u73af\u5883",level:2},{value:"debug \u5728\u7ebf\u8fd0\u884c Android",id:"debug-\u5728\u7ebf\u8fd0\u884c-android",level:2},{value:"release \u79bb\u7ebf\u6253\u5305 Android",id:"release-\u79bb\u7ebf\u6253\u5305-android",level:2},{value:"\u751f\u6210\u7b7e\u540d\u5e93,\u62f7\u8d1d\u81f3 android/app/",id:"\u751f\u6210\u7b7e\u540d\u5e93\u62f7\u8d1d\u81f3-androidapp",level:3},{value:"\u8bbe\u7f6e\u5168\u5c40\u53d8\u91cf <code>~/.gradle/gradle.properties</code>",id:"\u8bbe\u7f6e\u5168\u5c40\u53d8\u91cf-gradlegradleproperties",level:3},{value:"\u66f4\u6539 android/app/build.gradle",id:"\u66f4\u6539-androidappbuildgradle",level:3},{value:"\u751f\u6210 apk",id:"\u751f\u6210-apk",level:3},{value:"\u751f\u6210 aab",id:"\u751f\u6210-aab",level:3},{value:"release \u5728\u7ebf\u66f4\u65b0\uff08\u70ed\u66f4\u65b0\uff09",id:"release-\u5728\u7ebf\u66f4\u65b0\u70ed\u66f4\u65b0",level:2},{value:"\u5b89\u88c5 react-dom",id:"\u5b89\u88c5-react-dom",level:2},{value:"RN &gt;= 0.60 \u7684\u5b89\u88c5 react-native-web",id:"rn--060-\u7684\u5b89\u88c5-react-native-web",level:2},{value:"<code>react-scripts@3</code>",id:"react-scripts3",level:3},{value:"Upgrade to <code>react-scripts@5</code> and Add Web Workers support",id:"upgrade-to-react-scripts5-and-add-web-workers-support",level:3},{value:"Upgrade in <code>package.json</code>",id:"upgrade-in-packagejson",level:4},{value:"Upgrade in <code>config-overrides.js</code> <code>index.web.js</code> and other files",id:"upgrade-in-config-overridesjs-indexwebjs-and-other-files",level:4},{value:"Q&amp;A",id:"qa",level:3},{value:"<code>Unexpected token &#39;&lt;&#39;</code>",id:"unexpected-token-",level:4},{value:"<code>npm ERR! ERESOLVE unable to resolve dependency tree</code>",id:"npm-err-eresolve-unable-to-resolve-dependency-tree",level:4},{value:"<code>FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory</code>",id:"fatal-error-ineffective-mark-compacts-near-heap-limit-allocation-failed---javascript-heap-out-of-memory",level:4},{value:"<code>Module not found: Error: Can&#39;t resolve &#39;react-native/package.json&#39;</code>",id:"module-not-found-error-cant-resolve-react-nativepackagejson",level:4},{value:"<code>Cannot find module &#39;ajv/dist/compile/codegen&#39;</code>",id:"cannot-find-module-ajvdistcompilecodegen",level:3},{value:"<code>Uncaught Error: Cannot find module &#39;react-native-playtorch&#39;</code>",id:"uncaught-error-cannot-find-module-react-native-playtorch",level:4},{value:"warning <code>Module not found: Error: Can&#39;t resolve &#39;react-native-pytorch-core&#39;</code>",id:"warning-module-not-found-error-cant-resolve-react-native-pytorch-core",level:4},{value:"RN &lt; 0.60 \u7684\u5b89\u88c5 react-web",id:"rn--060-\u7684\u5b89\u88c5-react-web",level:2},{value:"\u914d\u7f6e iOS \u5f00\u53d1\u73af\u5883",id:"\u914d\u7f6e-ios-\u5f00\u53d1\u73af\u5883",level:2},{value:"Xcode \u7f16\u8bd1\u8fc7\u7a0b\u95ee\u9898\u96c6\u9526",id:"xcode-\u7f16\u8bd1\u8fc7\u7a0b\u95ee\u9898\u96c6\u9526",level:2},{value:"App Store \u53cd\u4eba\u7c7b\u96c6\u9526",id:"app-store-\u53cd\u4eba\u7c7b\u96c6\u9526",level:2},{value:"App Store \u66f4\u65b0 APP \u6d41\u7a0b",id:"app-store-\u66f4\u65b0-app-\u6d41\u7a0b",level:2},{value:"\u4f7f\u7528 Cocoapods \u5b89\u88c5 iOS \u7b2c\u4e09\u65b9\u5e93",id:"\u4f7f\u7528-cocoapods-\u5b89\u88c5-ios-\u7b2c\u4e09\u65b9\u5e93",level:2},{value:"\u4e00\u4e9b Cocoapods \u4f7f\u7528\u6280\u5de7",id:"\u4e00\u4e9b-cocoapods-\u4f7f\u7528\u6280\u5de7",level:3},{value:"Redux",id:"redux",level:2},{value:"Isolating Redux Sub-Apps",id:"isolating-redux-sub-apps",level:3},{value:"react-native-unistyles 3",id:"react-native-unistyles-3",level:2},{value:"react-native-unimodules",id:"react-native-unimodules",level:2},{value:"install react-native-unimodules without install expo",id:"install-react-native-unimodules-without-install-expo",level:3},{value:"\u4e00\u4e9b BUG \u7684\u89e3\u51b3\u65b9\u6cd5",id:"\u4e00\u4e9b-bug-\u7684\u89e3\u51b3\u65b9\u6cd5",level:2},{value:"fixed <code>TypeError: Network request failed</code> when upload file to http not https with Android debug builds",id:"fixed-typeerror-network-request-failed-when-upload-file-to-http-not-https-with-android-debug-builds",level:3},{value:"Fixed x/mobile: Calling net.InterfaceAddrs() fails on Android SDK 30 if use GO on Android &gt;= 11",id:"fixed-xmobile-calling-netinterfaceaddrs-fails-on-android-sdk-30-if-use-go-on-android--11",level:3},{value:"<code>$rootDir/../node_modules/react-native/android</code> as React-Native Android import from node_modules directory does not working",id:"rootdirnode_modulesreact-nativeandroid-as-react-native-android-import-from-node_modules-directory-does-not-working",level:3},{value:"Recompile with -Xlint for details",id:"recompile-with--xlint-for-details",level:3},{value:"Compile some 3rd lib got <code>Read timed out</code> <code>Could not GET &#39;https://maven.google.com/com/facebook/react/react-native/maven-metadata.xml&#39;</code>",id:"compile-some-3rd-lib-got-read-timed-out-could-not-get-httpsmavengooglecomcomfacebookreactreact-nativemaven-metadataxml",level:3},{value:"<code>AAPT: error: resource android:attr/colorError not found</code>",id:"aapt-error-resource-androidattrcolorerror-not-found",level:3},{value:"<code>Could not resolve org.webkit:android-jsc:+</code>",id:"could-not-resolve-orgwebkitandroid-jsc",level:3},{value:"\u4e13\u6cbb\u5404\u79cd\u7f51\u7edc\u4e0d\u670d",id:"\u4e13\u6cbb\u5404\u79cd\u7f51\u7edc\u4e0d\u670d",level:3}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Li Zheng ",(0,o.jsx)(n.a,{href:"mailto:flyskywhy@gmail.com",children:"flyskywhy@gmail.com"})]}),"\n",(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"react-\u4f7f\u7528\u8be6\u89e3",children:"React \u4f7f\u7528\u8be6\u89e3"})}),"\n",(0,o.jsxs)(n.p,{children:["React \u5e76\u4e0d\u662f\u7b80\u5355\u5730\u5728 Javascript \u4e2d\u5d4c\u5165 HTML \uff0c\u800c\u662f\u5bf9 UI \uff08\u5305\u62ec web \u548c APP\uff09\u6e32\u67d3\u7684\u65b9\u5f0f\u8fdb\u884c\u4e86\u9769\u65b0\u3002\u800c\u4e14\uff0c ",(0,o.jsx)(n.a,{href:"https://developer.aliyun.com/article/115052",children:"\u9009\u62e9 React \u662f\u5546\u4e1a\u95ee\u9898\u800c\u4e0d\u662f\u6280\u672f\u95ee\u9898"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u672c\u6587\u7684\u5de5\u5177\u5b89\u88c5\u4ee5 Linux \u4e3a\u4f8b\uff0c\u5176\u5b83\u5e73\u53f0\u8be6\u89c1 ",(0,o.jsx)(n.a,{href:"http://reactnative.cn/docs/0.27/getting-started.html",children:"\u5f00\u59cb\u4f7f\u7528React Native - react native \u4e2d\u6587\u7f51"})]}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5-nodejs-\u53ca\u5176\u81ea\u5e26\u7684\u5305\u4e0b\u8f7d\u5de5\u5177-npm",children:"\u5b89\u88c5 node.js \u53ca\u5176\u81ea\u5e26\u7684\u5305\u4e0b\u8f7d\u5de5\u5177 npm"}),"\n",(0,o.jsxs)(n.p,{children:["\u4ece ",(0,o.jsx)(n.a,{href:"https://nodejs.org/dist/",children:"nodejs \u5b98\u7f51"})," \u4e0b\u8f7d\u5b89\u88c5\u3002 React Native \u7684\u67d0\u4e9b 0.6x \u7248\u672c\u8fd8\u80fd\u5728 nodejs v10 \u4e0a\u9762\u5de5\u4f5c\uff0c\u66f4\u9ad8\u7684\u5219\u81f3\u5c11\u9700\u8981 nodejs v15\uff08nodejs \u4ece v16 \u5f00\u59cb\u4e0d\u80fd\u518d\u6b63\u5e38\u8fd0\u884c\u4e8e Win7 \uff09\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u662f Linux \u7528\u6237\uff0c\u9700\u8981\u624b\u52a8\u5c06 node \u5b89\u88c5\u4f4d\u7f6e\u7684 ",(0,o.jsx)(n.code,{children:"bin"})," \u76ee\u5f55\u6dfb\u52a0\u5230 ",(0,o.jsx)(n.code,{children:"$PATH"})," \u4e2d\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u914d\u7f6e-npm-\u955c\u50cf",children:"\u914d\u7f6e npm \u955c\u50cf"}),"\n",(0,o.jsxs)(n.p,{children:["\u4e3a\u907f\u514d\u540e\u7eed\u6267\u884c ",(0,o.jsx)(n.code,{children:"npm install"})," \u65f6\u56e0\u7f51\u7edc\u95ee\u9898\u5bfc\u81f4\u7684\u4e0b\u8f7d\u5931\u8d25\uff0c\u6700\u597d\u662f\u914d\u7f6e\u4e00\u4e0b\u955c\u50cf\uff1a"]}),"\n",(0,o.jsxs)(n.p,{children:["npm config set registry ",(0,o.jsx)(n.a,{href:"https://registry.npm.taobao.org",children:"https://registry.npm.taobao.org"})]}),"\n",(0,o.jsxs)(n.p,{children:["\u6216\u662f\u6682\u65f6\u8ba9\u7535\u8111\u8fdb\u884c\u7cfb\u7edf\u6027\u7ffb\u5899\u6bd4\u5982\u8fd0\u884c\u7ffb\u5899 VPN \u6216\u662f\u5728\u7cfb\u7edf\u4ee3\u7406\u8bbe\u7f6e\u4e2d\u8bbe\u7f6e\u7ffb\u5899\u670d\u52a1\u5668\u7684\u4ee3\u7406 ",(0,o.jsx)(n.code,{children:"IP:port"})]}),"\n",(0,o.jsxs)(n.p,{children:["\u6216\u662f\u6682\u65f6\u8ba9\u7535\u8111\u53ea\u5728 ",(0,o.jsx)(n.code,{children:"npm install"})," \u65f6\u624d\u7ffb\u5899\uff0c\u4e5f\u5c31\u662f\u5728 ",(0,o.jsx)(n.code,{children:"~/.npmrc"})," \u4e2d\u6dfb\u52a0"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    //timeout=200000\n    https-proxy=http://\u7ffb\u5899\u670d\u52a1\u5668\u7684\u4ee3\u7406IP:port\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5-watchman",children:"\u5b89\u88c5 watchman"}),"\n",(0,o.jsx)(n.p,{children:"watchman \u662f\u7531 Facebook \u63d0\u4f9b\u7684\u76d1\u89c6\u6587\u4ef6\u7cfb\u7edf\u53d8\u66f4\u7684\u5de5\u5177\u3002\u5b89\u88c5\u6b64\u5de5\u5177\u53ef\u4ee5\u63d0\u9ad8\u5f00\u53d1\u65f6\u7684\u6027\u80fd\uff08 React Native \u7684 packager \u53ef\u4ee5\u5feb\u901f\u6355\u6349\u6587\u4ef6\u7684\u53d8\u5316\u4ece\u800c\u5b9e\u73b0\u5b9e\u65f6\u5237\u65b0\uff09"}),"\n",(0,o.jsx)(n.h3,{id:"\u5b89\u88c5\u4f9d\u8d56",children:"\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,o.jsx)(n.p,{children:"sudo apt-get install autoconf automake python-dev libtool pkg-config libssl-dev"}),"\n",(0,o.jsx)(n.h3,{id:"\u5b89\u88c5-watchman-\u5982\u679c\u51fa\u9519-\u67e5\u770b\u5b89\u88c5\u4f9d\u8d56\u7684\u8be6\u7ec6\u6587\u6863",children:"\u5b89\u88c5 watchman, \u5982\u679c\u51fa\u9519, \u67e5\u770b\u5b89\u88c5\u4f9d\u8d56\u7684\u8be6\u7ec6\u6587\u6863"}),"\n",(0,o.jsxs)(n.p,{children:["git clone ",(0,o.jsx)(n.a,{href:"https://github.com/facebook/watchman.git",children:"https://github.com/facebook/watchman.git"}),"\ncd watchman\ngit checkout v4.6.0  # \u4e5f\u53ef\u4ee5\u662f\u5176\u5b83\u7684\u6700\u65b0\u7248\u672c\u53f7\n./autogen.sh\n./configure\nmake\nsudo make install"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5-flow",children:"\u5b89\u88c5 flow"}),"\n",(0,o.jsx)(n.p,{children:"flow \u662f\u4e00\u4e2a\u9759\u6001\u7684 js \u7c7b\u578b\u68c0\u67e5\u5de5\u5177\u3002\u4f60\u5728\u5f88\u591a\u793a\u4f8b\u4e2d\u770b\u5230\u7684\u5947\u5947\u602a\u602a\u7684\u5192\u53f7\u95ee\u53f7\uff0c\u4ee5\u53ca\u65b9\u6cd5\u53c2\u6570\u4e2d\u50cf\u7c7b\u578b\u4e00\u6837\u7684\u5199\u6cd5\uff0c\u90fd\u662f\u5c5e\u4e8e\u8fd9\u4e2a flow \u5de5\u5177\u7684\u8bed\u6cd5\u3002\u8fd9\u4e00\u8bed\u6cd5\u5e76\u4e0d\u5c5e\u4e8e ES \u6807\u51c6\uff0c\u53ea\u662f Facebook \u81ea\u5bb6\u7684\u4ee3\u7801\u89c4\u8303\u3002\u6240\u4ee5\u65b0\u624b\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\uff08\u5373\u4e0d\u9700\u8981\u5b89\u88c5\u8fd9\u4e00\u5de5\u5177\uff0c\u4e5f\u4e0d\u5efa\u8bae\u53bb\u8d39\u529b\u5b66\u4e60 flow \u76f8\u5173\u8bed\u6cd5\uff09\u3002"}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u6765\u5b89\u88c5flow:"}),"\n",(0,o.jsx)(n.p,{children:"npm install -g flow-bin"}),"\n",(0,o.jsx)(n.h2,{id:"\u9879\u76ee\u540d\u79f0\u9650\u5236",children:"\u9879\u76ee\u540d\u79f0\u9650\u5236"}),"\n",(0,o.jsx)(n.p,{children:"\u9879\u76ee\u540d\u79f0\u4e2d\u4e0d\u80fd\u6709 - \u8fd9\u4e2a\u7b26\u53f7\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5-react-native-cli",children:"\u5b89\u88c5 react-native-cli"}),"\n",(0,o.jsx)(n.p,{children:"npm install -g react-native-cli"}),"\n",(0,o.jsx)(n.h2,{id:"\u521b\u5efa-react-native-\u9879\u76ee",children:"\u521b\u5efa react-native \u9879\u76ee"}),"\n",(0,o.jsx)(n.p,{children:"\u6bd4\u5982\u9879\u76ee\u540d\u79f0\u4e3a AwesomeProject \uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    npx @react-native-community/cli init AwesomeProject --package-name com.foobar.awesome --version 0.71.6 --pm npm\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u8fd9\u4f1a\u81ea\u52a8\u521b\u5efa AwesomeProject \u76ee\u5f55\u53ca\u5176\u4e2d\u4e00\u4e9b\u6587\u4ef6\u3002"}),"\n",(0,o.jsx)(n.p,{children:"\u65e2\u7136 react native \u5f00\u53d1\u56e2\u961f\u73b0\u5728\u63a8\u8350\u4f7f\u7528 expo \uff0c\u90a3\u4e48\u4e00\u822c\u6765\u8bf4\u8fd8\u9700\u8981\u5b89\u88c5 expo \uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    npx install-expo-modules\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5b83\u4f1a\u81ea\u52a8\u6839\u636e AwesomeProject \u7684 package.json \u4e2d\u7684 react-native \u7684\u7248\u672c\u6309\u7167 ",(0,o.jsx)(n.a,{href:"https://github.com/expo/expo/blob/main/packages/install-expo-modules/src/utils/expoVersionMappings.ts",children:"VersionInfo"})," \u4e2d\u7684\u89c4\u5219\u5b89\u88c5\u5339\u914d\u7684 expo \uff0c\u4ee5\u53ca\u66f4\u6539\u5404\u79cd\u6e90\u4ee3\u7801\uff0c\u6240\u4ee5\u4e0b\u6b21\u5347\u7ea7 react-native \u65f6\u8bb0\u5f97\u5148 ",(0,o.jsx)(n.code,{children:"git revert"})," \u8fd9\u4e2a\u63d0\u4ea4\u70b9\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"expo \u81ea\u5df1\u6240\u63d0\u51fa\u7684 EAS \u7684\u7f16\u8bd1\u65b9\u5f0f\uff0c\u4e0e expo \u7684\u670d\u52a1\u5668\u8054\u7cfb\u6709\u70b9\u7d27\u5bc6\uff0c\u4e3a\u907f\u514d\u7f16\u8bd1\u73af\u5883\u592a\u8fc7\u4f9d\u8d56\u5916\u90e8\uff0c\u8fd9\u91cc\u4ecd\u4ee5\u4ecb\u7ecd\u4f20\u7edf\u7684 react-native \u7f16\u8bd1\u65b9\u5f0f\u4e5f\u5c31\u662f expo \u6587\u6863\u4e2d\u6240\u8bf4\u7684 bare \u65b9\u5f0f\u4e3a\u4e3b\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u4ece react-native 0.79 \u548c expo 53 \u5f00\u59cb\uff0c\u5bf9\u4e8e Android \u6765\u8bf4\uff0c\u4f1a\u81ea\u52a8\u542f\u7528 expo \u81ea\u5df1\u7f16\u8bd1\u65b9\u5f0f\u6240\u7528\u7684\u4e00\u5957 autolink \u89c4\u5219\uff0c\u6b64\u65f6\u5982\u679c\u76f4\u63a5\u4f7f\u7528 bare \u7684 ",(0,o.jsx)(n.code,{children:"react-native run-android"})," \u5219\u4f1a\u66dd\u51fa\u7f16\u8bd1\u9519\u8bef ",(0,o.jsx)(n.code,{children:"Could not find expo.modules.asset:expo.modules.asset:11.1.7"})," \uff0c\u6b64\u65f6\u5982\u679c\u5f3a\u884c\u5728 ",(0,o.jsx)(n.code,{children:"node_modules/expo/android/build.gradle"})," \u4e2d\u5c06 ",(0,o.jsx)(n.code,{children:"useLegacyAutolinking"})," \u8bbe\u4e3a true \uff0c\u867d\u7136\u80fd\u901a\u8fc7\u7f16\u8bd1\uff0c\u4f46\u662f\u8fd0\u884c\u65f6\u4f1a\u51fa\u73b0 ",(0,o.jsx)(n.code,{children:"java.lang.NoClassDefFoundError: Failed resolution of: Lexpo/modules/core/interfaces/ReactActivityHandler$DelayLoadAppHandler"})," \u7684\u95ea\u9000\u95ee\u9898\uff0c\u6700\u7ec8\u53d1\u73b0\uff0c\u53ea\u8981\u7c7b\u4f3c\u5728 ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/GCanvasRNExamples/blob/master/android/settings.gradle",children:"android/settings.gradle"})," \u4e2d\u6dfb\u52a0"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'        // to fix `Could not find expo.modules.asset:expo.modules.asset`\n        maven { url("$rootDir/../node_modules/expo-asset/local-maven-repo") }\n        maven { url("$rootDir/../node_modules/expo-file-system/local-maven-repo") }\n        maven { url("$rootDir/../node_modules/expo-font/local-maven-repo") }\n        maven { url("$rootDir/../node_modules/expo-keep-awake/local-maven-repo") }\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u5373\u53ef\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0a\u8ff0\u51e0\u4e2a expo \u7ec4\u4ef6\u662f ",(0,o.jsx)(n.code,{children:"npx install-expo-modules"})," \u65f6\u81ea\u5e26\u7684\uff0c\u5982\u679c\u8981\u5b89\u88c5\u5176\u5b83 expo \u7ec4\u4ef6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"npx expo install expo-camera"})," \u8fd9\u6837\u7684\u65b9\u5f0f\u6765\u5b89\u88c5\uff0c\u5982\u679c\u5b89\u88c5\u65f6\u51fa\u73b0 ",(0,o.jsx)(n.code,{children:"--legacy-peer-deps"})," \u62a5\u9519\uff0c\u5219\u9700\u8981 ",(0,o.jsx)(n.code,{children:"npm install --legacy-peer-deps expo-camera"}),"\u3002\u5b89\u88c5\u5b8c\u6210\u540e\u4e5f\u8981\u8c61\u4e0a\u9762\u4e00\u6837\u6dfb\u52a0\u6bd4\u5982"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'        maven { url("$rootDir/../node_modules/expo-camera/local-maven-repo") }\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u81f3\u4e8e\u6709\u4e00\u6761\u547d\u4ee4\u53eb\u505a ",(0,o.jsx)(n.code,{children:"npx expo prebuild"})," \uff0c\u5176\u5b9e\u662f expo \u7684\u975e bare \u65b9\u5f0f\u662f\u4e0d\u5b58\u5728 android \u548c ios \u76ee\u5f55\u7684\uff0c\u7136\u540e\u6b64\u547d\u4ee4\u4f1a\u81ea\u52a8\u6839\u636e ",(0,o.jsx)(n.code,{children:"app.json"})," \u4e2d\u7c7b\u4f3c\u4e0b\u9762 ",(0,o.jsx)(n.code,{children:"+"})," \u65b0\u589e\u7684\u914d\u7f6e\u4fe1\u606f\u751f\u6210\u90a3\u4e24\u4e2a\u76ee\u5f55\uff0c\u53c2\u89c1 ",(0,o.jsx)(n.a,{href:"https://www.cnblogs.com/shengoasis/p/18800767",children:"RN/Expo\u9879\u76ee\u672c\u5730\u6253\u5305\u6210APK"})," \u4e00\u6587\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:' {\n   "name": "FOO BAR",\n-  "displayName": "FOO BAR"\n+  "displayName": "FOO BAR",\n+  "android": {\n+    "package": "com.carefree.foobar"\n+  },\n+  "ios": {\n+    "bundleIdentifier": "com.carefree.foobar"\n+  }\n }\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u5173\u4e8e-react-native-\u7248\u672c\u5347\u7ea7",children:"\u5173\u4e8e react-native \u7248\u672c\u5347\u7ea7"}),"\n",(0,o.jsx)(n.h3,{id:"rn-\u81ea\u8eab\u7684\u5347\u7ea7\u65b9\u6cd5",children:"RN \u81ea\u8eab\u7684\u5347\u7ea7\u65b9\u6cd5"}),"\n",(0,o.jsxs)(n.p,{children:["\u4e00\u4e2a\u7b80\u6d01\u660e\u4e86\u7684\u65b9\u5f0f\u662f\u4f7f\u7528 Git \u81ea\u5e26\u7684 ",(0,o.jsx)(n.code,{children:"cherry-pick"})," \u529f\u80fd\u3002"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"git checkout --orphan gh-pages RnUpgrade"})," \u5728\u81ea\u5df1\u7684\u4ed3\u5e93\u4e2d\u5efa\u7acb\u4e00\u4e2a\u72ec\u7acb\u7684\u5206\u652f ",(0,o.jsx)(n.code,{children:"RnUpgrade"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5728\u4e34\u65f6\u76ee\u5f55\u4e2d\u8fd0\u884c ",(0,o.jsx)(n.code,{children:"npx @react-native-community/cli init AwesomeProject --package-name com.foobar.awesome --version 0.71.6 --pm npm"})," \uff0c\u5c06\u5f97\u5230\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\u9664\u4e86 ",(0,o.jsx)(n.code,{children:".git/"})," \u3001 ",(0,o.jsx)(n.code,{children:"node_modules/"})," \u548c ",(0,o.jsx)(n.code,{children:"package-lock.json"})," \u4ee5\u5916\u7edf\u7edf\u79fb\u8fc7\u6765\u5728 ",(0,o.jsx)(n.code,{children:"RnUpgrade"})," \u5206\u652f\u4e2d\u521b\u5efa\u4e0e\u4f60\u4e3b\u5206\u652f\u76f8\u540c RN \u7248\u672c\u7684\u63d0\u4ea4\u70b9 A"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5220\u9664\u5f53\u524d\u5904\u4e8e ",(0,o.jsx)(n.code,{children:"RnUpgrade"})," \u5206\u652f\u65f6\u9664\u4e86 ",(0,o.jsx)(n.code,{children:".git/"})," \u5916\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u4f46\u4e0d\u8fdb\u884c\u63d0\u4ea4"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5728\u4e34\u65f6\u76ee\u5f55\u4e2d\u8fd0\u884c ",(0,o.jsx)(n.code,{children:"npx @react-native-community/cli init AwesomeProject --package-name com.foobar.awesome --version 0.70.5 --pm npm"}),"  \uff0c\u5c06\u5f97\u5230\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\u9664\u4e86 ",(0,o.jsx)(n.code,{children:".git/"})," \u3001 ",(0,o.jsx)(n.code,{children:"node_modules/"})," \u548c ",(0,o.jsx)(n.code,{children:"package-lock.json"})," \u4ee5\u5916\u7edf\u7edf\u79fb\u8fc7\u6765\u5728 ",(0,o.jsx)(n.code,{children:"RnUpgrade"})," \u5206\u652f\u4e2d\u521b\u5efa\u4f60\u5e0c\u671b\u5347\u7ea7\u5230\u7684 RN \u7248\u672c\u7684\u63d0\u4ea4\u70b9 B"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5207\u6362\u5230\u4e3b\u5206\u652f\uff0c\u7528 Git \u7684 ",(0,o.jsx)(n.code,{children:"cherry-pick"})," \u529f\u80fd\u5c06\u63d0\u4ea4\u70b9 B \u5e94\u7528\u8fc7\u6765\uff0c\u7136\u540e\u5c31\u4f1a\u51fa\u73b0\u5f88\u591a\u51b2\u7a81\uff0c\u6b64\u65f6\u53c2\u8003\u539f\u63d0\u4ea4\u70b9 B \u7684\u53d8\u5316\u6216\u662f\u66f4\u76f4\u89c2\u7684 ",(0,o.jsx)(n.a,{href:"https://react-native-community.github.io/upgrade-helper",children:"React Native Upgrade Helper"})," \u4e2d\u7684\u53d8\u5316\uff0c\u89e3\u51b3\u8fd9\u4e9b\u51b2\u7a81\u5373\u53ef"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\u5176\u5b83\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5347\u7ea7",children:"\u5176\u5b83\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5347\u7ea7"}),"\n",(0,o.jsxs)(n.p,{children:["\u4e00\u822c\u6765\u8bf4\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u7684 ",(0,o.jsx)(n.code,{children:"README.md"})," \u4f1a\u63cf\u8ff0\u7248\u672c\u5bf9\u6bd4\uff0c\u6709\u4e9b\u5219\u53ef\u80fd\u9700\u8981\u67e5\u63a2\u4e00\u756a\u6bd4\u5982 ",(0,o.jsx)(n.a,{href:"https://github.com/software-mansion/react-native-reanimated/blob/main/packages/react-native-reanimated/compatibility.json",children:"react-native-reanimated"})," \u91cc\u5217\u51fa\u4e86\u5bf9\u5e94\u54ea\u4e2a RN \u7248\u672c\u5e94\u8be5\u5b89\u88c5\u54ea\u4e2a\u7248\u672c\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u914d\u7f6e-android-\u5f00\u53d1\u73af\u5883",children:"\u914d\u7f6e Android \u5f00\u53d1\u73af\u5883"}),"\n",(0,o.jsxs)(n.p,{children:["\u4ece ",(0,o.jsx)(n.a,{href:"https://developer.android.com/studio#cmdline-tools",children:"https://developer.android.com/studio#cmdline-tools"})," \u4e0b\u8f7d Command line tools \u6210\u4e3a\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"~/tools/android_sdk/cmdline-tools/latest/"})," \uff0c\u5728 ",(0,o.jsx)(n.code,{children:"~/.bashrc"})," \u4e2d\u6dfb\u52a0 ",(0,o.jsx)(n.code,{children:"export ANDROID_HOME=~/tools/android-sdk"})," \u3002\u540e\u7eed\u5728\u7f16\u8bd1\u5404\u79cd APP \u65f6 ",(0,o.jsx)(n.code,{children:"~/tools/android-sdk/cmdline-tools/latest/bin/sdkmanager"})," \u4f1a\u89c6\u9700\u8981\u81ea\u52a8\u4e0b\u8f7d\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"~/tools/android-sdk/platforms/android-26/"}),' \u7b49\uff0c\u5982\u679c\u5728\u81ea\u52a8\u4e0b\u8f7d\u65f6\u51fa\u73b0 "You have not accepted the license agreements of the following SDK components" \u7684\u9519\u8bef\uff0c\u5219\u9700\u624b\u52a8\u8fd0\u884c\u4e00\u4e0b ',(0,o.jsx)(n.code,{children:"yes | ~/tools/android-sdk/cmdline-tools/latest/bin/sdkmanager --licenses"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e3a\u4e86\u8ba9 android-sdk \u4e2d 32 \u4f4d\u7684 aapt (\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"~/tools/android-sdk/build-tools/26.0.0/aapt"})," ) \u80fd\u591f\u5728 64 \u4f4d\u7684 Linux \u4e2d\u8fd0\u884c\uff0c\u8fd8\u8981\u786e\u4fdd\u5df2\u7ecf\u8fd0\u884c\u8fc7\u5982\u4e0b\u547d\u4ee4\uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"sudo apt install lib32stdc++6 lib32z1"}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u6ca1\u6709\u88c5\u8fc7 jdk \u7684\u8bdd\uff0c\u8fd8\u9700\u8981\uff1a"}),"\n",(0,o.jsx)(n.p,{children:"sudo apt install default-jdk"}),"\n",(0,o.jsxs)(n.p,{children:["\u6216\u662f\u5230 ",(0,o.jsx)(n.a,{href:"https://jdk.java.net/archive/",children:"https://jdk.java.net/archive/"})," \u624b\u52a8\u4e0b\u8f7d\u6240\u9700 JDK \u7248\u672c\u5e76\u914d\u7f6e\u597d",(0,o.jsx)(n.code,{children:"JAVA_HOME"})," \u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u4f4e\u4e8e 0.67 \u7248\u672c\u7684 React Native \u9700\u8981 JDK 1.8 \u7248\u672c\uff08\u5b98\u65b9\u4e5f\u79f0 8 \u7248\u672c\uff09\uff0c\u5426\u5219\u9700\u8981 11 \u7248\u672c\u6216\u66f4\u9ad8\uff0c\u6bd4\u5982 0.73 \u7248\u672c\u5f00\u59cb\u9700\u8981 JDK 17 \u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"echo $SHELL"})," \u53d1\u73b0\u662f dash \u7684\u8bdd\uff0c\u540e\u7eed\u7f16\u8bd1\u65f6\u4f1a\u62a5 ",(0,o.jsx)(n.code,{children:'aapt: Syntax error: newline unexpected (expecting ")"'})," \u7684\u9519\u8bef\uff0c\u6240\u4ee5\u8fd8\u9700\u6362\u6210 bash\uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"sudo dpkg-reconfigure dash"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u662f Win10 \u4e2d\u7684 WSL \uff0c\u540e\u7eed\u7f16\u8bd1\u65f6\u4f1a\u62a5 ",(0,o.jsx)(n.code,{children:"aapt: cannot execute binary file: Exec format error"})," \u7684\u9519\u8bef\uff0c\u8fd9\u662f\u7531\u4e8e ",(0,o.jsx)(n.a,{href:"https://wpdev.uservoice.com/forums/266908-command-prompt-console-bash-on-ubuntu-on-windo/suggestions/13377507-please-add-32-bit-elf-support-to-the-kernel",children:"64 \u4f4d\u7684 Win10 \u53ea\u652f\u6301 64 \u4f4d\u800c\u4e0d\u652f\u6301 32 \u4f4d\u7684 Linux \u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6"})," \uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u5148"]}),"\n",(0,o.jsx)(n.p,{children:"sudo apt install qemu-user"}),"\n",(0,o.jsxs)(n.p,{children:["\u7136\u540e\u4ee5 ",(0,o.jsx)(n.code,{children:"~/tools/android-sdk/build-tools/23.0.1/aapt"})," \u4e3a\u4f8b\uff0c\u628a aapt \u91cd\u547d\u540d\u4e3a aapt-32 \uff0c\u6700\u540e\u539f\u5730\u65b0\u5efa\u53ef\u6267\u884c\u811a\u672c\u6587\u4ef6 aapt \uff0c\u811a\u672c\u5185\u5bb9\u4e3a ",(0,o.jsx)(n.code,{children:"qemu-i386 ~/tools/android-sdk/build-tools/23.0.1/aapt-32 $*"})," \u5373\u53ef\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"debug-\u5728\u7ebf\u8fd0\u884c-android",children:"debug \u5728\u7ebf\u8fd0\u884c Android"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 react-native \u9879\u76ee\u76ee\u5f55\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"AwesomeProject/"})," \u4e2d\u7528\u5982\u4e0b\u547d\u4ee4\u81ea\u52a8\u7f16\u8bd1 apk \u5e76\u8fd0\u884c\uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"react-native run-android"}),"\n",(0,o.jsxs)(n.p,{children:["\u5b83\u4e5f\u4f1a\u540c\u65f6\u542f\u52a8 native packager server , \u5982\u679c\u6ca1\u6709\u81ea\u52a8\u542f\u52a8 server , \u4f1a\u62a5\u9519 ",(0,o.jsx)(n.code,{children:"React Native: ReferenceError: Can't find variable: require (line 1 in the generated bundle)"})," \uff0c\u6b64\u65f6\u5c31\u9700\u8981\u624b\u52a8\u542f\u52a8\uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"react-native start"}),"\n",(0,o.jsxs)(n.p,{children:["\u65b0\u7248\u672c\u7684 ",(0,o.jsx)(n.code,{children:"react-native start"})," \u5df2\u7ecf\u4e0d\u4f1a\u5728\u7ec8\u7aef\u7a97\u53e3\u4e2d\u6253\u5370 ",(0,o.jsx)(n.code,{children:"console.log"})," \u7b49\u8c03\u8bd5\u4fe1\u606f\uff0c\u800c\u662f\u6253\u5370\u5728 chrome \u8c03\u8bd5\u7a97\u53e3\u4e2d\uff0c\u5982\u679c\u60f3\u8981\u7ee7\u7eed\u5728\u7ec8\u7aef\u7a97\u53e3\u4e2d\u6253\u5370\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    react-native --client-logs\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u6216"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    npx @react-native-community/cli start --client-logs\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u6216"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    npx expo start\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u8fd9\u6837\uff0c\u5f53 js \u4ee3\u7801\u4fee\u6539\u540e\uff0c\u5c06 Android \u771f\u673a\u6447\u4e00\u6447\uff0c\u5c31\u80fd Reload \u8fc7\u6765\u6700\u65b0\u4fee\u6539\u7684 js \u4ee3\u7801\u4e86\u3002\u80cc\u540e\u7684\u52a8\u4f5c\u5b9e\u9645\u4e0a\u662f\u5728 Reload \u7684\u65f6\u5019 packager server \u5b9e\u65f6\u751f\u6210\u4e86\u4e00\u4e2a ",(0,o.jsx)(n.code,{children:"index.android.bundle"})," \u88ab\u4e0b\u8f7d\u5230 Android APP \u4e2d\u3002 react native \u7684 LogBox \u4e5f\u5c31\u662f\u51fa\u9519\u65f6\u6216 ",(0,o.jsx)(n.code,{children:"console.warn"})," \u5728 APP \u754c\u9762\u4e0a\u7684\u6253\u5370\u4fe1\u606f\u4e2d\u6709\u6307\u660e\u6587\u4ef6\u540d\u548c\u884c\u6570\uff0c\u5982\u679c\u6587\u4ef6\u540d\u662f ",(0,o.jsx)(n.code,{children:"index.android.bundle"})," \u7684\u8bdd\uff0c\u5219\u53ef\u4ee5\u6bd4\u5982\u7528 ",(0,o.jsx)(n.code,{children:"wget http://localhost:8081/index.android.bundle"})," \u547d\u4ee4\u4e0b\u8f7d\u5230\u7535\u8111\u4e2d\u67e5\u770b\uff0c\u6b64\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\u4e0d\u8981\u4e0b\u8f7d\u5230\u4f60\u542f\u52a8 ",(0,o.jsx)(n.code,{children:"react-native start"})," \u7684\u76ee\u5f55\u4e2d\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"YOUR_PROJECT/index.android.bundle"})," \uff0c\u5426\u5219\u540e\u7eed\u4f60\u5bf9\u4ee3\u7801\u7684\u66f4\u6539\u518d\u4e5f\u4e0d\u4f1a\u88ab\u6253\u5305\u4e3a\u6700\u65b0\u7684 ",(0,o.jsx)(n.code,{children:"index.android.bundle"})," \u56e0\u4e3a ",(0,o.jsx)(n.code,{children:"packager server"})," \u6b64\u65f6\u5c31\u50cf\u4e00\u4e2a web server \u4e00\u6837\u76f4\u63a5\u5c06\u73b0\u5b58\u7684 ",(0,o.jsx)(n.code,{children:"YOUR_PROJECT/index.android.bundle"})," \u63d0\u4f9b\u7ed9 Android APP \u6216 wget \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"react-native run-android"})," \u51fa\u73b0\u9519\u8bef\u63d0\u793a \u201cjava.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\u201d \uff0c\u5219\u9700\u8981"]}),"\n",(0,o.jsx)(n.p,{children:"keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000"}),"\n",(0,o.jsxs)(n.p,{children:["\u5e76\u5c06\u751f\u6210\u7684 debug.keystore \u653e\u5230 ",(0,o.jsx)(n.code,{children:"~/.android/"})," \u4e2d\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"react-native run-android"})," \u65f6\u56e0\u7f51\u7edc\u95ee\u9898\u5bfc\u81f4 gradle \u8fd9\u4e2a\u7f16\u8bd1\u5de5\u5177\u81ea\u8eab\u90fd\u4e0b\u8f7d\u5931\u8d25\uff0c\u5219\u53ef\u4ee5\u6682\u65f6\u8ba9\u7535\u8111\u8fdb\u884c\u7cfb\u7edf\u6027\u7ffb\u5899\u6bd4\u5982\u8fd0\u884c\u7ffb\u5899 VPN \u6216\u662f\u5728\u7cfb\u7edf\u4ee3\u7406\u8bbe\u7f6e\u4e2d\u8bbe\u7f6e\u7ffb\u5899\u670d\u52a1\u5668\u7684\u4ee3\u7406 ",(0,o.jsx)(n.code,{children:"IP:port"})," \uff0c\u6216\u662f\u5728\u6b64\u65f6\u4f1a\u53d1\u73b0\u65b0\u751f\u6210\u4e86\u4e00\u4e2a\u76ee\u5f55\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"~/.gradle/wrapper/dists/gradle-6.2-all/dvufqs6kielxeao781pmk5huj/"})," \uff0c\u4f60\u53ef\u4ee5\u5220\u9664\u8be5\u76ee\u5f55\u4e2d\u7684 ",(0,o.jsx)(n.code,{children:"gradle-6.2-all.zip.part.0"})," \uff0c\u7136\u540e\u5728\u53ef\u4ee5\u7ffb\u5899\u7684\u6d4f\u89c8\u5668\u4e2d\u4e0b\u8f7d ",(0,o.jsx)(n.code,{children:"android/gradle/wrapper/gradle-wrapper.properties"})," \u4e2d\u7684 ",(0,o.jsx)(n.code,{children:"services.gradle.org/distributions/gradle-6.2-all.zip"})," \u6587\u4ef6\u5230\u8be5\u76ee\u5f55\u4e2d\uff0c\u6700\u540e\u91cd\u65b0 ",(0,o.jsx)(n.code,{children:"react-native run-android"})," \u5373\u53ef\uff0c\u6216\u8005\u5e72\u8106\u4f7f\u7528\u955c\u50cf\u5730\u5740 ",(0,o.jsx)(n.code,{children:"mirrors.cloud.tencent.com/gradle/gradle-6.2-all.zip"})," \u66ff\u6362\u8fdb ",(0,o.jsx)(n.code,{children:"gradle-wrapper.properties"})," \u4e2d\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"react-native run-android"})," \u65f6\u56e0\u7f51\u7edc\u95ee\u9898\u5bfc\u81f4 gradle \u8fd9\u4e2a\u7f16\u8bd1\u5de5\u5177\u62a5\u51fa\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u4e0b\u8f7d\u5931\u8d25\uff0c\u5219\u53ef\u4ee5\u6682\u65f6\u8ba9\u7535\u8111\u8fdb\u884c\u7cfb\u7edf\u6027\u7ffb\u5899\u6bd4\u5982\u8fd0\u884c\u7ffb\u5899 VPN \u6216\u662f\u5728\u7cfb\u7edf\u4ee3\u7406\u8bbe\u7f6e\u4e2d\u8bbe\u7f6e\u7ffb\u5899\u670d\u52a1\u5668\u7684\u4ee3\u7406 ",(0,o.jsx)(n.code,{children:"IP:port"})," \uff0c\u6216\u662f\u6682\u65f6\u8ba9\u7535\u8111\u53ea\u5728\u8fd0\u884c gradle \u65f6\u624d\u7ffb\u5899\uff0c\u4e5f\u5c31\u662f\u5728 ",(0,o.jsx)(n.code,{children:"~/.gradle/gradle.properties"})," \u4e2d\u6dfb\u52a0"]}),"\n",(0,o.jsx)(n.p,{children:"systemProp.https.proxyHost=\u7ffb\u5899\u670d\u52a1\u5668\u7684\u4ee3\u7406IP\nsystemProp.https.proxyPort=\u7ffb\u5899\u670d\u52a1\u5668\u7684\u4ee3\u7406port"}),"\n",(0,o.jsxs)(n.p,{children:["\u6216\u662f\u5728 ",(0,o.jsx)(n.code,{children:"build.gradle"})," \u4e2d\u6dfb\u52a0\u4e0b\u9762\u955c\u50cf\u4ed3\u5e93\u5730\u5740\u4e4b\u4e00"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    maven { url 'https://mirrors.cloud.tencent.com/nexus/repository/maven-public/'}\n    maven { url 'https://mirrors.163.com/maven/repository/maven-public/'}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"react-native start"})," \u51fa\u73b0\u9519\u8bef\u63d0\u793a \u201cincrease the fs.inotify.max_user_watches sysctl\u201d \uff0c\u5219\u53ef\u6309 ",(0,o.jsx)(n.a,{href:"https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers",children:"Increasing the amount of inotify watchers"})," \u8fdb\u884c\u64cd\u4f5c\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0a\u9762\u7684 ",(0,o.jsx)(n.code,{children:"react-native run-android"})," \u5b9e\u9645\u4e0a\u6267\u884c\u7684\u547d\u4ee4\u662f ",(0,o.jsx)(n.code,{children:"./android/gradlew installDebug -p ./android/"})," \uff0c\u8fd9\u4e2a\u547d\u4ee4\u6bcf\u6b21\u6267\u884c\u65f6\u90fd\u4f1a\u5c1d\u8bd5\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u7684\u6700\u65b0\u7248\u3002\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u4f18\u5316\u8fd9\u4e2a\u547d\u4ee4\uff0c\u6bd4\u5982\u4e0d\u60f3\u6bcf\u6b21\u90fd\u5c1d\u8bd5\u7f51\u4e0a\u4e0b\u8f7d\u800c\u662f\u79bb\u7ebf\u7f16\u8bd1\u65f6\u6dfb\u52a0 ",(0,o.jsx)(n.code,{children:"--offline"})," \uff0c\u5c31\u50cf\u8fd9\u4e2a\u547d\u4ee4 ",(0,o.jsx)(n.code,{children:"./android/gradlew installDebug --offline -x lint -x lintVitalRelease -p ./android/"})," \u4e2d\u505a\u7684\u90a3\u6837\uff0c\u4e0d\u8fc7\u5f53\u79bb\u7ebf\u7f16\u8bd1\u51fa\u73b0\u6bd4\u5982"]}),"\n",(0,o.jsx)(n.p,{children:"Could not resolve com.android.tools.lint:lint-gradle:26.5.3"}),"\n",(0,o.jsxs)(n.p,{children:["\u8fd9\u6837\u9519\u8bef\u65f6\uff0c\u5c31\u9700\u8981\u4e34\u65f6\u53bb\u6389 ",(0,o.jsx)(n.code,{children:"--offline"})," \u6765\u8fd0\u884c\u4e00\u6b21\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u7f16\u8bd1\u65f6\u51fa\u73b0\u5982\u4e0b\u9519\u8bef"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'CMake Error at android/app/build/generated/autolinking/src/main/jni/Android-autolinking.cmake:9 (add_subdirectory):\nadd_subdirectory given source\n"node_modules/@budzworthy/react-native-multi-ble-peripheral/android/build/generated/source/codegen/jni/"\nwhich is not an existing directory.\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5219\u9700\u8981\u5148 ",(0,o.jsx)(n.code,{children:"./android/gradlew clean -p ./android/"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c APP \u542f\u52a8\u5c31\u95ea\u9000\u51fa\u73b0\uff0c\u5e76\u4e14 logcat \u4e2d\u6709\u9519\u8bef\u63d0\u793a \u201cjava.lang.UnsatisfiedLinkError: couldn't find DSO to load: libfbjni.so result: 0\u201d \uff0c\u5219\u9700\u8981 ",(0,o.jsx)(n.code,{children:"./android/gradlew assembleDebug --rerun-tasks -p ./android/"})," \u6216\u8005\u662f ",(0,o.jsx)(n.code,{children:"./android/gradlew clean -p ./android/; react-native run-android; react-native start --reset-cache"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u662f Win10 \u4e2d\u7684 WSL \uff0c\u7531\u4e8e Windows \u7684\u9632\u706b\u5899\u65e0\u6cd5\u81ea\u52a8\u5728 WSL \u4e2d\u7684 Linux \u5f00\u542f\u7aef\u53e3\u65f6\u5f39\u51fa\u5bf9\u8bdd\u6846\u8ba9\u7528\u6237\u9009\u62e9\u662f\u5426\u5141\u8bb8\uff0c\u6240\u4ee5\u53ea\u6709 Win10 \u672c\u673a\u624d\u80fd\u8bbf\u95ee\u8be5\u7aef\u53e3\u3002\u4e3a\u4e86\u8ba9\u5176\u5b83\u4e3b\u673a\u6bd4\u5982 Android \u771f\u673a\u6447\u4e00\u6447\u540e ",(0,o.jsx)(n.code,{children:"Dev Setting | Debug server host & port for device"})," \u8bbe\u7f6e\u80fd\u591f\u6210\u529f Reload \u5230 js \u4ee3\u7801\uff0c\u9700\u8981\u624b\u52a8\u5728\u9632\u706b\u5899\u4e2d\u5f00\u542f native packager server \u6240\u76d1\u542c\u7684 8081 \u7aef\u53e3\uff0c\u65b9\u6cd5\u662f\u5728 ",(0,o.jsx)(n.code,{children:"\u63a7\u5236\u9762\u677f | Windows Defender \u9632\u706b\u5899 | \u9ad8\u7ea7\u5b89\u5168 Windows Defender \u9632\u706b\u5899 | \u5165\u7ad9\u89c4\u5219 | \u65b0\u5efa\u89c4\u5219"})," \u4e2d\u9009\u62e9 ",(0,o.jsx)(n.code,{children:"\u7aef\u53e3 | 8081 | \u5141\u8bb8\u8fde\u63a5 "})," \uff0c\u6700\u540e\u586b\u5199\u540d\u79f0\u6bd4\u5982\u4e3a ",(0,o.jsx)(n.code,{children:"Allow localhost port 8081"})," \u4ee5\u53ca\u586b\u5199\u63cf\u8ff0\u6bd4\u5982\u4e3a ",(0,o.jsx)(n.code,{children:"port forwarding to allow external machine to access Windows 10's Windows Subsystem Linux servers"})," \u5373\u53ef\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"release-\u79bb\u7ebf\u6253\u5305-android",children:"release \u79bb\u7ebf\u6253\u5305 Android"}),"\n",(0,o.jsx)(n.h3,{id:"\u751f\u6210\u7b7e\u540d\u5e93\u62f7\u8d1d\u81f3-androidapp",children:"\u751f\u6210\u7b7e\u540d\u5e93,\u62f7\u8d1d\u81f3 android/app/"}),"\n",(0,o.jsx)(n.p,{children:"keytool -genkey -v -keystore rn-apk.keystore -alias rn-apk -keyalg RSA -keysize 2048 -validity 10000"}),"\n",(0,o.jsxs)(n.h3,{id:"\u8bbe\u7f6e\u5168\u5c40\u53d8\u91cf-gradlegradleproperties",children:["\u8bbe\u7f6e\u5168\u5c40\u53d8\u91cf ",(0,o.jsx)(n.code,{children:"~/.gradle/gradle.properties"})]}),"\n",(0,o.jsx)(n.p,{children:"MYAPP_RELEASE_STORE_FILE=rn-apk.keystore\nMYAPP_RELEASE_KEY_ALIAS=rn-apk\nMYAPP_RELEASE_STORE_PASSWORD=130777\nMYAPP_RELEASE_KEY_PASSWORD=130777"}),"\n",(0,o.jsx)(n.h3,{id:"\u66f4\u6539-androidappbuildgradle",children:"\u66f4\u6539 android/app/build.gradle"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    signingConfigs {\n        release {\n            storeFile file(MYAPP_RELEASE_STORE_FILE)\n            storePassword MYAPP_RELEASE_STORE_PASSWORD\n            keyAlias MYAPP_RELEASE_KEY_ALIAS\n            keyPassword MYAPP_RELEASE_KEY_PASSWORD\n        }\n    }\n    buildTypes {\n        release {\n            ...\n            signingConfig signingConfigs.release\n        }\n    }\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u751f\u6210-apk",children:"\u751f\u6210 apk"}),"\n",(0,o.jsx)(n.p,{children:"cd android\n./gradlew assembleRelease"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u5728\u6b64\u8fc7\u7a0b\u4e2d\u62a5\u51fa ",(0,o.jsx)(n.code,{children:"Out of Memory Error"})," \u7684\u9519\u8bef\uff0c\u5219\u9700\u8981\u5728 ",(0,o.jsx)(n.code,{children:"~/.gradle/gradle.properties"})," \u4e2d\u6dfb\u52a0\u7c7b\u4f3c\u5982\u4e0b\u5185\u5bb9\uff1a"]}),"\n",(0,o.jsxs)(n.p,{children:["org.gradle.jvmargs=-Xmx2048m -XX",":MaxPermSize","=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8"]}),"\n",(0,o.jsxs)(n.p,{children:["\u66f4\u591a\u7528\u6cd5\u53c2\u89c1 ",(0,o.jsx)(n.a,{href:"http://alihub.org/14659907331638.html",children:"React-Native \u79bb\u7ebf\u6253\u5305"})," \u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u751f\u6210-aab",children:"\u751f\u6210 aab"}),"\n",(0,o.jsx)(n.p,{children:"./android/gradlew bundleRelease --offline -x lint -x lintVitalRelease -p ./android/"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u751f\u6210\u597d\u7684 aab \u5728\u4e0a\u4f20\u5230 Google Play \u65f6\u62a5\u9519\u8bf4\u201c\u60a8\u4e0a\u4f20\u7684 APK \u6216 Android App Bundle \u5185\u542b\u6d3b\u52a8\u3001\u6d3b\u52a8\u522b\u540d\u3001\u670d\u52a1\u6216\u5e7f\u64ad\u63a5\u6536\u5668\uff0c\u8fd9\u4e9b\u9879\u76ee\u6709 intent \u8fc7\u6ee4\u5668\uff0c\u4f46\u6ca1\u6709\u201candroid",":exported","\u201d\u5c5e\u6027\u8bbe\u7f6e\u3002\u6b64\u6587\u4ef6\u65e0\u6cd5\u5728 Android 12 \u6216\u66f4\u9ad8\u7248\u672c\u4e0a\u5b89\u88c5\u201d\uff0c\u4e14\u5c06\u81ea\u5df1 APP \u7684 ",(0,o.jsx)(n.code,{children:"android:exported"})," \u8bbe\u4e3a true \u540e\u4ecd\u7136\u5982\u6b64\uff0c\u5219\u5c06 ",(0,o.jsx)(n.code,{children:"compileSdkVersion"})," \u8bbe\u4e3a 31 \u518d\u6b21\u8fdb\u884c\u7f16\u8bd1\u65f6\u5c31\u53ef\u4ee5\u4f9d\u636e ",(0,o.jsxs)(n.a,{href:"https://github.com/facebook/react-native/issues/35232#issuecomment-1324619149",children:["Apps targeting Android 12 and higher are required to specify an explicit value for android",":exported"," when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details"]})," \u4e2d\u6240\u8bf4\u7684\u9519\u8bef\u5b9a\u4f4d\u5230\u67d0\u4e2a\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u4e86\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u5c06 ",(0,o.jsx)(n.code,{children:"compileSdkVersion"})," \u8bbe\u4e3a 31 \u540e\u7f16\u8bd1\u65f6\u78b0\u5230 ",(0,o.jsx)(n.code,{children:"Installed Build Tools revision 31.0.0 is corrupted"})," \u9519\u8bef\uff0c\u5219\u9700\u8981\u4ece\u4f4e\u7248\u672c\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"android-sdk/build-tools/30.0.0/"})," \u4e2d\u590d\u5236\u51fa ",(0,o.jsx)(n.code,{children:"d8"})," \u548c ",(0,o.jsx)(n.code,{children:"d8.jar"})," \u6765\uff0c\u6216\u662f\u53c2\u8003 ",(0,o.jsx)(n.a,{href:"https://stackoverflow.com/a/68430992/6318705",children:"https://stackoverflow.com/a/68430992/6318705"})]}),"\n",(0,o.jsxs)(n.p,{children:["cd ~/tools/android-sdk/build-tools/31.0.0\nmv d8 dx ",(0,o.jsx)(n.br,{}),"\n","cd lib  ",(0,o.jsx)(n.br,{}),"\n","mv d8.jar dx.jar"]}),"\n",(0,o.jsx)(n.h2,{id:"release-\u5728\u7ebf\u66f4\u65b0\u70ed\u66f4\u65b0",children:"release \u5728\u7ebf\u66f4\u65b0\uff08\u70ed\u66f4\u65b0\uff09"}),"\n",(0,o.jsxs)(n.p,{children:["\u53c2\u89c1 ",(0,o.jsx)(n.a,{href:"https://segmentfault.com/a/1190000009642563",children:"React Native CodePush\u5b9e\u8df5\u5c0f\u7ed3"})," \u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u9488\u5bf9\u540e\u7aef API \u7248\u672c\u66f4\u65b0\u95ee\u9898\uff0c\u5728\u7f51\u4e0a\u641c\u4e86\u4e00\u5708\u7f57\u5217\u5728\u4e0b\u9762\uff0c\u53ef\u4ee5\u53d1\u73b0\u516c\u8bf4\u516c\u6709\u7406\u3001\u5a46\u8bf4\u5a46\u6709\u7406\uff0c\u6211\u89c9\u5f97\u8fd8\u4e0d\u5982\u7edf\u4e00\u4f7f\u7528\u6700\u7b80\u5355\u7684 react-native \u524d\u7aef\u70ed\u66f4\u65b0\u3002"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\u5bf9\u4e8e\u5b9e\u5728\u6ca1\u6709\u529e\u6cd5\u9700\u8981\u5168\u9762\u5347\u7ea7\u63a5\u53e3\u7684\u3002\u5982\u679c\u53ef\u80fd\uff0c\u4fdd\u6301\u539f\u6709\u7684\u4e1a\u52a1\u3001\u539f\u6709\u7684\u63a5\u53e3\u8fd0\u8f6c\u6b63\u5e38\u3002\u7136\u540e\u6784\u5efa\u4e00\u5957\u5168\u65b0\u7684\u9694\u79bb\u7684\u63a5\u53e3\u3002\u6700\u540e\u505a\u4e0b\u7248\u672c\u4f7f\u7528\u76d1\u63a7\u3002\u5f53\u89c2\u5bdf\u5230\u6240\u6709\u7528\u6237\u90fd\u4f7f\u7528\u65b0\u7248\u672c\u7684\u5ba2\u6237\u7aef\u7684\u65f6\u5019\uff0c\u5e76\u4fdd\u6301\u4e00\u6bb5\u65f6\u95f4\u7684\u65f6\u5019\u3002\u653e\u5f03\u5bf9\u8001\u7248\u672c\u7684\u7ef4\u62a4\uff0c\u7ee7\u800c\u4e0b\u6389\u8001\u7248\u672c\u7684\u8d44\u6e90\u3002\u5f53\u7136\uff0c\u4e07\u4e0d\u5f97\u5df2\u7684\u65f6\u5019\uff0c\u8fd8\u53ef\u4ee5\u7528\u5f3a\u5236\u66f4\u65b0\u3002\n\u6709\u7684\u516c\u53f8\uff0c\u6bcf\u6b21\u53d1\u5e03\u5b8c APP \uff0c\u5c31\u5f3a\u5236\u7528\u6237\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c\u3002\u4e0d\u63a8\u8350\u8fd9\u6837\uff0c\u56e0\u4e3a\u7528\u6237\u4f53\u9a8c\u592a\u5dee\u3002\n\u5c31\u7b97\u662f\u7528\u5f3a\u5236\u66f4\u65b0\uff0c\u5728\u82f9\u679c\u5ba1\u6838\u671f\u95f4\uff0c\u65b0\u7684 APP \u63a5\u53e3\u548c\u8001\u7684\u63a5\u53e3\u4e5f\u5fc5\u987b\u80fd\u540c\u65f6\u4f7f\u7528\u3002\n\u4e00\u822c\u5411\u4e0b\u517c\u5bb9 2 \u4e2a\u7248\u672c\u3002\n\u5982\u679c\u8d35\u53f8\u7684 API \u662f\u516c\u5f00\u7684\uff0c\u4f9b\u7b2c\u4e09\u65b9\u5f00\u53d1\u8005\u4f7f\u7528\u7684\u8bdd\uff0c\u8bf7\u4e00\u5b9a\u8bb0\u7740\u7ef4\u6301\u517c\u5bb9\u6027\uff0c\u4e0d\u7136\u6bcf\u6b21\u5347\u7ea7\u90fd\u5927\u6539\u7684\u8bdd\uff0c\u5f00\u53d1\u8005\u53ea\u4f1a\u6000\u7591\u4f60\u4eec\u4e00\u5f00\u59cb\u5c31\u6ca1\u8bbe\u8ba1\u597d\uff0c\u7136\u540e\u5c31\u6ca1\u4eba\u7528\u4e86\u3002\u8fd9\u79cd\u60c5\u51b5\u7ed9\u5f00\u53d1\u8005\u4e00\u4e2a\u7f13\u51b2\u9636\u6bb5\uff0c\u8ba9\u4ed6\u4eec\u5728\u671f\u9650\u524d\u5347\u7ea7\u5230\u65b0\u7248\u672c\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u653e\u5f03\u65e7\u7248\u672c\u4e86\u3002\n\u5982\u679c\u4ec5\u4f9b\u81ea\u5df1\u4f7f\u7528\u7684\u8bdd\uff0c\u8981\u6c42\u7528\u6237\u5f3a\u5236\u5347\u7ea7\uff0c\u65e7\u7248\u672c\u76f4\u63a5\u6254\u6389\u5c31\u884c\u4e86\u3002\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5-react-dom",children:"\u5b89\u88c5 react-dom"}),"\n",(0,o.jsxs)(n.p,{children:["\u5b89\u88c5\u540e\u7eed\u8981\u5b89\u88c5\u7684 react-native-web \u6216 react-web \u7684 package.json \u4e2d\u7684 ",(0,o.jsx)(n.code,{children:"peerDependencies"})," \u91cc\u7684 ",(0,o.jsx)(n.code,{children:"react"})," \u548c ",(0,o.jsx)(n.code,{children:"react-dom"}),"\uff0c\u56e0\u4e3a react-native-web \u6216 react-web \u76f8\u5f53\u4e8e\u662f ",(0,o.jsx)(n.code,{children:"react"})," \u548c ",(0,o.jsx)(n.code,{children:"react-dom"})," \u8fd9\u4e24\u4e2a\u5bbf\u4e3b\u7684\u63d2\u4ef6\uff0c\u60f3\u8981\u88c5\u63d2\u4ef6\u5c31\u8981\u5148\u88c5\u5bbf\u4e3b\u3002\u7531\u4e8e\u4e0a\u9762 ",(0,o.jsx)(n.code,{children:"npx @react-native-community/cli init"})," \u5df2\u7ecf\u81ea\u52a8\u5b89\u88c5\u4e86 react \uff0c\u6240\u4ee5\u73b0\u5728\u53ea\u9700\u5b89\u88c5 react-dom \uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"cd AwesomeProject\nnpm install react-dom --save"}),"\n",(0,o.jsx)(n.h2,{id:"rn--060-\u7684\u5b89\u88c5-react-native-web",children:"RN >= 0.60 \u7684\u5b89\u88c5 react-native-web"}),"\n",(0,o.jsx)(n.p,{children:"npm install react-native-web\nnpm install react-app-rewired react-error-overlay@6.0.9 --save-dev"}),"\n",(0,o.jsxs)(n.p,{children:["(",(0,o.jsx)(n.code,{children:"react-error-overlay@6.0.10"})," will cause ",(0,o.jsx)(n.code,{children:"Uncaught ReferenceError: process is not defined"})," when hot reloading)"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Create ",(0,o.jsx)(n.code,{children:"web/aliases/react-native/index.js"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"// ref to https://levelup.gitconnected.com/react-native-typescript-and-react-native-web-an-arduous-but-rewarding-journey-8f46090ca56b\n\nimport {Text as RNText, Image as RNImage} from 'react-native-web';\n// import RNModal from 'modal-enhanced-react-native-web';\n// Let's export everything from react-native-web\nexport * from 'react-native-web';\n\n// And let's stub out everything that's missing!\nexport const ViewPropTypes = {\n  style: () => {},\n};\nRNText.propTypes = {\n  style: () => {},\n};\nRNImage.propTypes = {\n  style: () => {},\n  source: () => {},\n};\n\nexport const Text = RNText;\nexport const Image = RNImage;\n// export const Modal = RNModal;\n// export const ToolbarAndroid = {};\nexport const requireNativeComponent = () => {};\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Create ",(0,o.jsx)(n.code,{children:"public/index.html"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'<!DOCTYPE html>\n<html>\n  <head>\n    <title>React App</title>\n    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>\n    <style>\n      /* These styles make the body full-height */\n      html,\n      body {\n        height: 100%;\n      }\n      /* These styles disable body scrolling if you are using <ScrollView> */\n      body {\n        overflow: hidden;\n      }\n      /* These styles make the root element full-height */\n      #root {\n        display: flex;\n        height: 100%;\n      }\n    </style>\n  </head>\n\n  <body>\n    <div id="root"></div>\n  </body>\n</html>\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Modify ",(0,o.jsx)(n.code,{children:'"index"'})," into ",(0,o.jsx)(n.code,{children:'"index.android"'})," in ",(0,o.jsx)(n.code,{children:"android/app/src/main/java/com/yourprojectname/MainApplication.java"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Modify ",(0,o.jsx)(n.code,{children:'@"index"'})," into ",(0,o.jsx)(n.code,{children:'@"index.ios"'})," in ",(0,o.jsx)(n.code,{children:"/ios/YourProjectName/AppDelegate.m"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Modify"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'    shellScript = "export NODE_BINARY=node\\n../node_modules/react-native/scripts/react-native-xcode.sh";\n'})}),"\n",(0,o.jsx)(n.p,{children:"into"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'    shellScript = "export NODE_BINARY=node\\nexport ENTRY_FILE=index.ios.js\\n../node_modules/react-native/scripts/react-native-xcode.sh\\n";\n'})}),"\n",(0,o.jsxs)(n.p,{children:["in ",(0,o.jsx)(n.code,{children:"ios/PixelShapeRN.xcodeproj/project.pbxproj"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Create ",(0,o.jsx)(n.code,{children:"index.android.js"})," and ",(0,o.jsx)(n.code,{children:"index.ios.js"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"// because index.android.js or index.ios.js can worked in\n// react-native-code-push@5.2.0 and bugsnag-react-native@2.5.1,\n// but not index.native.js\n\nimport {AppRegistry} from 'react-native';\nimport App from './src/index.js';\nimport {name as appName} from './app.json';\n\nAppRegistry.registerComponent(appName, () => App);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"react-scripts3",children:(0,o.jsx)(n.code,{children:"react-scripts@3"})}),"\n",(0,o.jsx)(n.p,{children:"npm install react-scripts@3.4.3 babel-jest@24.9.0 eslint@6.6.0 jest@24.9.0 --save-dev"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Create ",(0,o.jsx)(n.code,{children:"index.web.js"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"import {AppRegistry} from 'react-native';\nimport App from './src/index.js';\nimport {name as appName} from './app.json';\n\nAppRegistry.registerComponent(appName, () => App);\n\nAppRegistry.runApplication(appName, {\n  rootTag: document.getElementById('root'),\n});\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Create ",(0,o.jsx)(n.code,{children:"config-overrides.js"})," in your project root:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"// used by react-app-rewired\n\nconst webpack = require('webpack');\nconst path = require('path');\n\nmodule.exports = {\n  webpack: function (config, env) {\n    // To enable the eslint rules in '.eslintrc.js'\n    config.module.rules[1].use[0].options.baseConfig.extends = [\n      path.resolve('.eslintrc.js'),\n    ];\n\n    // To avoid sometimes react-app-rewired is not honouring your change to the eslint rules\n    // in '.eslintrc.js', you should manually disable the eslint cache, ref to\n    // https://github.com/facebook/create-react-app/issues/9007#issuecomment-628601097\n    config.module.rules[1].use[0].options.cache = false;\n\n    // To enable '.eslintignore'\n    config.module.rules[1].use[0].options.ignore = true;\n\n    // To let alias like 'react-native/Libraries/Components/StaticRenderer'\n    // take effect, must set it before alias 'react-native'\n    delete config.resolve.alias['react-native'];\n    config.resolve.alias['react-native/Libraries/Components/StaticRenderer'] =\n      'react-native-web/dist/vendor/react-native/StaticRenderer';\n    config.resolve.alias['react-native'] = path.resolve(\n      'web/aliases/react-native',\n    );\n\n    // Let's force our code to bundle using the same bundler react native does.\n    config.plugins.push(\n      new webpack.DefinePlugin({\n        __DEV__: env === 'development',\n      }),\n    );\n\n    // Keep all rules except the eslint - note that if they add additional rules this will need updating to match\n    // Consider if this should only apply to the development environment? If so, uncomment the if statement\n    // if (env === 'development') {\n    //   config.module.rules.splice(1, 1);\n    // }\n\n    // Need this rule to prevent `Attempted import error: 'SOME' is not exported from` when `react-app-rewired build`\n    // Need this rule to prevent `TypeError: Cannot assign to read only property 'exports' of object` when `react-app-rewired start`\n    config.module.rules.push({\n      test: /\\.(js|tsx?)$/,\n      // You can exclude the exclude property if you don't want to keep adding individual node_modules\n      // just keep an eye on how it effects your build times, for this example it's negligible\n      // exclude: /node_modules[/\\\\](?!@react-navigation|react-native-gesture-handler|react-native-screens)/,\n      use: {\n        loader: 'babel-loader',\n      },\n    });\n\n    return config;\n  },\n  paths: function (paths, env) {\n    paths.appIndexJs = path.resolve('index.web.js');\n    paths.appSrc = path.resolve('.');\n    paths.moduleFileExtensions.push('ios.js');\n    paths.moduleFileExtensions.push('android.js');\n    paths.moduleFileExtensions.push('native.js');\n    return paths;\n  },\n};\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Add below into ",(0,o.jsx)(n.code,{children:"package.json"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'  "scripts": {\n   "web": "react-app-rewired start",\n   "build-web": "react-app-rewired build"\n  }\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"npm run web"})," for development, then view it at ",(0,o.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," in web browser"]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"npm run build-web"})," to generate files in ",(0,o.jsx)(n.code,{children:"build/"})," for production, and can use ",(0,o.jsx)(n.code,{children:"npx http-server@13.0.2 build"})," to simply test it at ",(0,o.jsx)(n.a,{href:"http://127.0.0.1:8080",children:"http://127.0.0.1:8080"})," in web browser."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["If some error like below in shell, then you should refactor those lint ",(0,o.jsx)(n.code,{children:"Line"}),", or enable ",(0,o.jsx)(n.code,{children:"config.module.rules.splice(1, 1);"})," in ",(0,o.jsx)(n.code,{children:"config-overrides.js"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Failed to compile\n  Line 11:25:   Insert `,`\nprettier/prettier\n"})}),"\n",(0,o.jsxs)(n.p,{children:["And since there is webpack config ",(0,o.jsx)(n.code,{children:"loader: 'babel-loader'"})," here, maybe need add some in ",(0,o.jsx)(n.code,{children:"babel.config.js"})," ref to APP ReactWebNative8Koa ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/ReactWebNative8Koa/commit/a87437ad0527edaa4a2f643708938accabb26a8d",children:"RN 0.63.2 -> 0.70.5: works well on Web"})]}),"\n",(0,o.jsxs)(n.h3,{id:"upgrade-to-react-scripts5-and-add-web-workers-support",children:["Upgrade to ",(0,o.jsx)(n.code,{children:"react-scripts@5"})," and Add Web Workers support"]}),"\n",(0,o.jsxs)(n.p,{children:["At the very first, after upgrade react-scripts from 3 to 5 and related babel upgrade (or modify webpack config?), the most important thing is ",(0,o.jsx)(n.code,{children:"rm -fr node_modules/.cache/*"})," first, otherwise will meet many strange error and can't be solved."]}),"\n",(0,o.jsx)(n.p,{children:"npm install react-app-rewired@2.2.1 react-scripts@5.0.0 codegen.macro react-refresh@0.11.0 react-error-overlay@6.0.9 --save-dev"}),"\n",(0,o.jsxs)(n.p,{children:["(lower version of ",(0,o.jsx)(n.code,{children:"react-refresh"})," comes from ",(0,o.jsx)(n.code,{children:"metro-react-native-babel-preset"})," may cause ",(0,o.jsx)(n.code,{children:"Module not found: Error: Cannot find module 'react-refresh'"}),")"]}),"\n",(0,o.jsxs)(n.h4,{id:"upgrade-in-packagejson",children:["Upgrade in ",(0,o.jsx)(n.code,{children:"package.json"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'  "scripts": {\n    "web": "PLATFORM_OS=web DISABLE_ESLINT_PLUGIN=true react-app-rewired start",\n    "web-fresh": "rm -fr node_modules/.cache/*; PLATFORM_OS=web DISABLE_ESLINT_PLUGIN=true react-app-rewired start",\n    "build-web": "PLATFORM_OS=web DISABLE_ESLINT_PLUGIN=true react-app-rewired build",\n    "build-web-PixelShapeRN": "PUBLIC_URL=/PixelShapeRN PLATFORM_OS=web DISABLE_ESLINT_PLUGIN=true react-app-rewired build"\n  }\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"npm run web"})," for development, then view it at ",(0,o.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," in web browser."]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"npm run web-fresh"})," for development to automatically ",(0,o.jsx)(n.code,{children:"rm -fr node_modules/.cache/*"})," first."]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"npm run build-web"})," to generate files in ",(0,o.jsx)(n.code,{children:"build/"})," for production, and can use ",(0,o.jsx)(n.code,{children:"npx http-server@13.0.2 build"})," to simply test it at ",(0,o.jsx)(n.a,{href:"http://127.0.0.1:8080",children:"http://127.0.0.1:8080"})," in web browser."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"PUBLIC_URL=/PixelShapeRN"})," here is to ",(0,o.jsxs)(n.a,{href:"https://github.com/flyskywhy/PixelShapeRN/commit/6f5ce184c8d5cfbaee596a3ec8169bfd3c4828fb",children:["fix ",(0,o.jsx)(n.code,{children:"build-web-PixelShapeRN"})," ",(0,o.jsx)(n.code,{children:"GET https://flyskywhy.github.io/PixelShapeRN/PixelShapeRN/static/js/main.b043a6c7.js net::ERR_ABORTED 404"})]}),", you should replace ",(0,o.jsx)(n.code,{children:"PixelShapeRN"})," here with your github repo name."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"DISABLE_ESLINT_PLUGIN=true"})," here is to avoid ",(0,o.jsx)(n.a,{href:"https://stackoverflow.com/questions/70397587/failed-to-load-plugin-flowtype-declared-in-package-json-eslint-config-react",children:"Failed to load plugin 'flowtype' declared in 'package.json \xbb eslint-config-react-app': Cannot find module 'eslint/use-at-your-own-risk'"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"PLATFORM_OS=web"})," here work with codegen.macro is to avoid ",(0,o.jsx)(n.code,{children:"SyntaxError: import.meta is only valid inside modules."}),' with react-native, ref to "import.meta.url" in ',(0,o.jsx)(n.code,{children:"https://github.com/flyskywhy/PixelShapeRN/blob/v1.1.27/src/workers/workerPool.js"})]}),"\n",(0,o.jsxs)(n.p,{children:["If not define ",(0,o.jsx)(n.code,{children:"DISABLE_ESLINT_PLUGIN=true"})," , and nodejs version < 14 , will cause ",(0,o.jsx)(n.code,{children:"ERROR in Error: Child compilation failed: Module.createRequire is not a function"})," . If define ",(0,o.jsx)(n.code,{children:"DISABLE_ESLINT_PLUGIN=true"})," , then nodejs version can < 14 because only ",(0,o.jsx)(n.code,{children:"eslint@8"})," is using ",(0,o.jsx)(n.code,{children:"Module.createRequire"})," ."]}),"\n",(0,o.jsxs)(n.h4,{id:"upgrade-in-config-overridesjs-indexwebjs-and-other-files",children:["Upgrade in ",(0,o.jsx)(n.code,{children:"config-overrides.js"})," ",(0,o.jsx)(n.code,{children:"index.web.js"})," and other files"]}),"\n",(0,o.jsxs)(n.p,{children:["Ref to APP ReactWebNative8Koa ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/ReactWebNative8Koa/commit/8adc7bbf43d225b790de88a177aa438ccea8dabc",children:"RN 0.63.2 -> 0.70.5: let Web Worker with Support for CRA v5 (and Webpack 5)"})," , and your project may need ",(0,o.jsx)(n.code,{children:"npm run stream-browserify process --save-dev"})," as described in ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/ReactWebNative8Koa/blob/8adc7bbf43d225b790de88a177aa438ccea8dabc/config-overrides.js#L25",children:"config-overrides.js"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"qa",children:"Q&A"}),"\n",(0,o.jsx)(n.h4,{id:"unexpected-token-",children:(0,o.jsx)(n.code,{children:"Unexpected token '<'"})}),"\n",(0,o.jsxs)(n.p,{children:["If the url in web browser is ",(0,o.jsx)(n.code,{children:"http://localhost:3000/Foo/Bar"})," not ",(0,o.jsx)(n.code,{children:"http://localhost:3000"}),", and\n",(0,o.jsx)(n.code,{children:"Uncaught SyntaxError: Unexpected token '<'"})," in shell, then you need remove homepage in ",(0,o.jsx)(n.code,{children:"package.json"})," like:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'  "homepage": "https://github.com/Foo/Bar#readme",\n'})}),"\n",(0,o.jsx)(n.h4,{id:"npm-err-eresolve-unable-to-resolve-dependency-tree",children:(0,o.jsx)(n.code,{children:"npm ERR! ERESOLVE unable to resolve dependency tree"})}),"\n",(0,o.jsxs)(n.p,{children:["Ref to ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/react-native-usb-serialport/issues/2",children:"npm installation version problem"})," , you need use npm version which is below 7, or e.g."]}),"\n",(0,o.jsx)(n.p,{children:"npm install react-native-usb-serialport --legacy-peer-deps"}),"\n",(0,o.jsx)(n.h4,{id:"fatal-error-ineffective-mark-compacts-near-heap-limit-allocation-failed---javascript-heap-out-of-memory",children:(0,o.jsx)(n.code,{children:"FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory"})}),"\n",(0,o.jsxs)(n.p,{children:["If ",(0,o.jsx)(n.code,{children:"npm run build-web"})," got this error, then need change"]}),"\n",(0,o.jsx)(n.p,{children:'"build-web": "react-app-rewired build",'}),"\n",(0,o.jsx)(n.p,{children:"to"}),"\n",(0,o.jsx)(n.p,{children:'"build-web": "node --max_old_space_size=4096 node_modules/.bin/react-app-rewired build",'}),"\n",(0,o.jsx)(n.h4,{id:"module-not-found-error-cant-resolve-react-nativepackagejson",children:(0,o.jsx)(n.code,{children:"Module not found: Error: Can't resolve 'react-native/package.json'"})}),"\n",(0,o.jsxs)(n.p,{children:["If using ",(0,o.jsx)(n.code,{children:"react-native-gesture-handler@2"})," not ",(0,o.jsx)(n.code,{children:"react-native-gesture-handler@1"})," will meet ",(0,o.jsx)(n.code,{children:"ERROR in ./node_modules/react-native-gesture-handler/lib/module/utils.js 1:0-45"})," , then need add"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"    config.resolve.alias['react-native/package.json'] = path.resolve(\n      'node_modules/react-native/package.json',\n    );\n"})}),"\n",(0,o.jsxs)(n.p,{children:["into ",(0,o.jsx)(n.code,{children:"config-overrides.js"})," ."]}),"\n",(0,o.jsx)(n.h3,{id:"cannot-find-module-ajvdistcompilecodegen",children:(0,o.jsx)(n.code,{children:"Cannot find module 'ajv/dist/compile/codegen'"})}),"\n",(0,o.jsx)(n.p,{children:"Need"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npm install ajv@8.17.1\n"})}),"\n",(0,o.jsx)(n.h4,{id:"uncaught-error-cannot-find-module-react-native-playtorch",children:(0,o.jsx)(n.code,{children:"Uncaught Error: Cannot find module 'react-native-playtorch'"})}),"\n",(0,o.jsxs)(n.p,{children:["It maybe ",(0,o.jsx)(n.code,{children:"Uncaught Error: PlayTorchJSIModule not found"})," if ",(0,o.jsx)(n.code,{children:"APP/tsconfig.json"})," exist."]}),"\n",(0,o.jsx)(n.p,{children:"Fix it by:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"-import {Camera, Canvas} from 'react-native-playtorch';\n+if (Platform.OS !== 'web') {\n+  var {Camera, Canvas} = require('react-native-playtorch');\n+}\n"})}),"\n",(0,o.jsxs)(n.h4,{id:"warning-module-not-found-error-cant-resolve-react-native-pytorch-core",children:["warning ",(0,o.jsx)(n.code,{children:"Module not found: Error: Can't resolve 'react-native-pytorch-core'"})]}),"\n",(0,o.jsxs)(n.p,{children:["If use a pure ts package e.g. ",(0,o.jsx)(n.code,{children:'"react-native-pytorch-core": "git+https://github.com/flyskywhy/playtorch#CameraModule"'})," which only has ",(0,o.jsx)(n.code,{children:"src/"})," but no ",(0,o.jsx)(n.code,{children:"lib/"}),", then need ",(0,o.jsx)(n.code,{children:"npm install @tsconfig/react-native@2.0.2"})," and create ",(0,o.jsx)(n.code,{children:"APP/tsconfig.json"})," with the content"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'{\n  "extends": "@tsconfig/react-native/tsconfig.json"\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["thus ",(0,o.jsx)(n.code,{children:"const useTypeScript = fs.existsSync(paths.appTsConfig)"})," in ",(0,o.jsx)(n.code,{children:"node_modules/react-scripts/config/webpack.config.js"})," can be ",(0,o.jsx)(n.code,{children:"true"}),", and patch by"]}),"\n",(0,o.jsx)(n.p,{children:'sed -i -e "s/lib/commonjs/src/" node_modules/react-native-pytorch-core/package.json'}),"\n",(0,o.jsxs)(n.p,{children:["PS: There is already ",(0,o.jsx)(n.code,{children:'"react-native": "src/index"'})," in ",(0,o.jsx)(n.code,{children:"react-native-pytorch-core/package.json"}),", so metro of react native already works fine without the patch."]}),"\n",(0,o.jsx)(n.h2,{id:"rn--060-\u7684\u5b89\u88c5-react-web",children:"RN < 0.60 \u7684\u5b89\u88c5 react-web"}),"\n",(0,o.jsx)(n.p,{children:"npm install -g react-web-cli"}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u9879\u76ee\u6839\u76ee\u5f55\u7684\u4e0a\u5c42\u76ee\u5f55\u4e2d\u521b\u5efa react-web \u9879\u76ee"}),"\n",(0,o.jsx)(n.p,{children:"cd ..\nreact-web init AwesomeProject"}),"\n",(0,o.jsx)(n.p,{children:"\u56e0\u5b98\u65b9 react-web \u5df2\u505c\u6b62\u7ef4\u62a4\uff0c\u6240\u4ee5\u63a5\u4e0b\u6765\u53ef\u4f7f\u7528\u6211\u7ef4\u62a4\u7684\u4ed3\u5e93\u66ff\u4ee3"}),"\n",(0,o.jsxs)(n.p,{children:["cd AwesomeProject\nnpm uninstall react-web\nnpm install ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/react-web.git#f6c63e3",children:"https://github.com/flyskywhy/react-web.git#f6c63e3"})]}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\u542f\u52a8 webpack \u8c03\u8bd5\u670d\u52a1\u5668\uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u6253\u5f00 localhost:3000 \u5373\u53ef\uff1a"}),"\n",(0,o.jsx)(n.p,{children:"react-web start"}),"\n",(0,o.jsx)(n.p,{children:"\u5751\uff1a\u6709\u65f6\u4fee\u6539\u4e86 js \u6587\u4ef6\u4f46\u662f webpack \u8c03\u8bd5\u670d\u52a1\u5668\u6ca1\u6709\u81ea\u52a8\u91cd\u65b0 bundle \uff0c\u8fd9\u4e2a BUG \u53ef\u4ee5\u901a\u8fc7\u91cd\u542f\u7535\u8111\u89e3\u51b3\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u5176\u5b83\u53ef\u53c2\u89c1 ",(0,o.jsx)(n.a,{href:"http://taobaofed.org/blog/2016/03/11/react-web-intro/",children:"\u4e09\u6b65\u5c06 React Native \u9879\u76ee\u8fd0\u884c\u5728 Web \u6d4f\u89c8\u5668\u4e0a\u9762"})]}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\u6253\u5305 Web \u5230 ",(0,o.jsx)(n.code,{children:"web/output/"})," \u76ee\u5f55\u4e2d"]}),"\n",(0,o.jsx)(n.p,{children:"react-web bundle"}),"\n",(0,o.jsx)(n.h2,{id:"\u914d\u7f6e-ios-\u5f00\u53d1\u73af\u5883",children:"\u914d\u7f6e iOS \u5f00\u53d1\u73af\u5883"}),"\n",(0,o.jsxs)(n.p,{children:["\u9664\u4e86\u4e3a React Native ",(0,o.jsx)(n.a,{href:"https://reactnative.cn/docs/environment-setup.html",children:"\u642d\u5efa\u5f00\u53d1\u73af\u5883"})," \uff0c\u8fd8\u9700 ",(0,o.jsx)(n.a,{href:"https://sspai.com/post/42924",children:"\u50cf Mac \u9ad8\u624b\u4e00\u6837\u7ba1\u7406\u5e94\u7528\uff0c\u4ece Homebrew \u5f00\u59cb"})," \u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"brew install"})," \u6216 ",(0,o.jsx)(n.code,{children:"mas install"})," \u5b89\u88c5\u5404\u79cd\u5b9e\u7528\u5de5\u5177\u3002\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u6700\u597d\u4fdd\u6301\u7ffb\u5899\u72b6\u6001\uff0c\u5426\u5219\u901f\u5ea6\u8f83\u6162\u6216\u65e0\u6cd5\u5b89\u88c5\u3002\u53e6\u53ef\u53c2\u8003 ",(0,o.jsx)(n.a,{href:"https://www.cnblogs.com/imzhizi/p/my-apps-on-mac.html",children:"\u6211\u5728 Mac \u4e0a\u90fd\u7528\u4ec0\u4e48"})," \u4ee5\u53ca ",(0,o.jsx)(n.a,{href:"/g/docs/i%E4%B8%BB%E8%A7%82%E7%9A%84%E4%BD%93%E9%AA%8C%E6%96%B9%E5%BC%8F/t%E5%BF%AB%E4%B9%90%E7%9A%84%E4%BD%93%E9%AA%8C/%E7%94%B5%E4%BF%A1/Os/macOS/macOS%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3",children:"macOS\u4f7f\u7528\u8be6\u89e3"})," \u3002"]}),"\n",(0,o.jsx)(n.p,{children:"brew install mas node watchman dos2unix mosh\nbrew install sublime-text double-commander google-chrome the-unarchiver iterm2 xquartz typora meld intelliscape-caffeine bitbar geektool turbovnc-viewer microsoft-remote-desktop flux inkscape gimp"}),"\n",(0,o.jsxs)(n.p,{children:["\u6ce8\uff1a\u5176\u4e2d ",(0,o.jsx)(n.code,{children:"turbovnc-viewer"})," \u7684\u8fd0\u884c\u9700\u8981\u5148\u5b89\u88c5\u4e0b\u9762\u63d0\u5230\u7684 JAVA \u73af\u5883\uff0c\u5e76\u5728 macOS \u81ea\u5e26\u7ec8\u7aef\u4e2d\u8fd0\u884c(\u5728 iterm2 \u4e2d\u8fd0\u884c\u6ca1\u6709\u6548\u679c)\u5982\u4e0b\u8bed\u53e5\uff1a"]}),"\n",(0,o.jsxs)(n.p,{children:["export JAVA_HOME=",(0,o.jsx)(n.code,{children:"/usr/libexec/java_home -v 1.8"}),"\nlaunchctl setenv JAVA_HOME $JAVA_HOME"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5347\u7ea7 node \u7684\u65b9\u6cd5"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u53ef\u4ee5\u91c7\u7528\u5982\u4e0b\u65b9\u6cd5\u5347\u7ea7\u5230\u6bd4\u5982 v16 \u7248\u672c\uff1a"}),"\n",(0,o.jsx)(n.p,{children:"brew install node@16"}),"\n",(0,o.jsxs)(n.p,{children:["\u7136\u540e\u5728 ",(0,o.jsx)(n.code,{children:"~/.zshrc"})," \u6216 ",(0,o.jsx)(n.code,{children:"~/.bash_profile"})," \u4e2d\u6dfb\u52a0\u5982\u4e0b\u8bed\u53e5\u5e76\u91cd\u542f\u7535\u8111\uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"export PATH=/usr/local/opt/node@16/bin:$PATH"}),"\n",(0,o.jsxs)(n.p,{children:["\u6700\u540e\u5728\u8fd0\u884c\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"react-native start"})," \u4e4b\u524d\u5f00\u53d1\u8005\u6709\u65f6\u60f3\u8981\u8fd0\u884c\u7684 ",(0,o.jsx)(n.code,{children:"watchman watch-del-all"})," \u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7c7b\u4f3c"]}),"\n",(0,o.jsx)(n.p,{children:"dyld[23087]:  Library not loaded: /usr/local/opt/icu4c/lib/libicudata.71.dylib\nReferenced from: /usr/local/Cellar/boost/1.79.0_2/lib/libboost_regex-mt.dylib\nsh: line 1: 23087 Abort trap: 6           watchman watch-del-all"}),"\n",(0,o.jsx)(n.p,{children:"\u8fd9\u6837\u7684\u62a5\u9519\uff0c\u5219\u9700\u8981\uff1a"}),"\n",(0,o.jsx)(n.p,{children:"brew upgrade"}),"\n",(0,o.jsx)(n.p,{children:"\u6765\u81ea\u52a8\u5347\u7ea7 boost \u5230\u6700\u65b0\u7248\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u53e6\uff0c\u5728 Xcode \u6253\u5305 release \u65f6\u4f1a\u8c03\u7528 ",(0,o.jsx)(n.code,{children:"/usr/local/bin/node"})," \uff0c\u6240\u4ee5\u8fd8\u9700\u8981\uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"ln -sf $(which node) /usr/local/bin/node"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u89e3\u51b3 ",(0,o.jsx)(n.code,{children:"brew install"})," \u6216 ",(0,o.jsx)(n.code,{children:"npm install -g"})," \u65f6\u51fa\u73b0\u7684 ",(0,o.jsx)(n.code,{children:"/usr/local/"})," \u6743\u9650\u95ee\u9898"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u5f53\u524d\u4e0d\u662f macOS \u7684\u7b2c\u4e00\u4e2a\u7528\u6237\uff0c\u5c31\u7b97\u5df2\u52a0\u5165 admin \u7ec4\uff0c\u4e5f\u8fd8\u9700\u8981\u624b\u52a8\u52a0\u5165 wheel \u7ec4\uff1a"}),"\n",(0,o.jsx)(n.p,{children:"sudo dseditgroup -o edit -a $USER -t user wheel"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u89e3\u51b3 ",(0,o.jsx)(n.code,{children:"brew install"})," \u5361\u4f4f\u5f88\u4e45\u7684\u95ee\u9898"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["brew \u5728\u5b89\u88c5\u8f6f\u4ef6\u524d\u4f1a\u5148\u5c1d\u8bd5\u5347\u7ea7 brew \u81ea\u8eab\uff0c\u8fd9\u91cc\u53ef\u80fd\u662f\u4e2d\u56fd\u7f51\u7edc\u73af\u5883\u7684\u539f\u56e0\u800c\u4f1a\u5361\u4f4f\u5f88\u4e45\uff0c\u5982\u679c\u4e0d\u60f3\u8981\u5347\u7ea7 brew \u81ea\u8eab\u7684\uff0c\u6b64\u65f6\u53ef\u4ee5\u76f4\u63a5 ",(0,o.jsx)(n.code,{children:"CTRL + C"})," \u8df3\u8fc7\uff0c\u5b83\u5c31\u4f1a\u81ea\u52a8\u7ee7\u7eed\u53bb\u5b89\u88c5\u4e86\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u89e3\u51b3 ",(0,o.jsx)(n.code,{children:"brew install"})," \u7684 git-gui \u8fd0\u884c\u65f6\u5bb9\u6613\u5d29\u6e83\u6216\u662f gitk \u65e0\u6cd5\u8c03\u51fa\u9f20\u6807\u53f3\u952e\u83dc\u5355\u7684\u95ee\u9898"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u4f7f\u7528\u5176\u5b83 git \u7684\u56fe\u5f62\u5316\u5ba2\u6237\u7aef\u66ff\u4ee3\uff0c\u6bd4\u5982"}),"\n",(0,o.jsx)(n.p,{children:"brew install fork"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u89e3\u51b3 ",(0,o.jsx)(n.code,{children:"brew install"})," \u65f6\u51fa\u73b0\u7684 ",(0,o.jsx)(n.code,{children:"Error: Your CLT does not support macOS 11.2."})," \u95ee\u9898"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u8be5\u9519\u8bef\u4e00\u822c\u662f\u56e0\u4e3a macOS \u5347\u7ea7\u4e86\u4f46 Xcode \u7684 ",(0,o.jsx)(n.code,{children:"Command Line Tools"})," \u8fd8\u6ca1\u6709\u5339\u914d\u66f4\u65b0\u3002\u8be5\u9519\u8bef\u6709\u65f6\u4e5f\u4f1a\u8868\u73b0\u4e3a ",(0,o.jsx)(n.code,{children:"Error: Your Xcode does not support macOS 11.2."})," \u7684\u5f62\u5f0f\u3002\u89e3\u51b3\u65b9\u6cd5\u4e3a\uff1a"]}),"\n",(0,o.jsx)(n.p,{children:"sudo rm -rf /Library/Developer/CommandLineTools\nsudo xcode-select --install"}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u9519\u8bef\u4f9d\u65e7\uff0c\u5219\uff1a"}),"\n",(0,o.jsx)(n.p,{children:"sudo rm -rf /Library/Developer/CommandLineTools"}),"\n",(0,o.jsxs)(n.p,{children:["\u4e4b\u540e\uff0c\u518d\u53bb ",(0,o.jsx)(n.a,{href:"https://developer.apple.com/download/more/",children:"https://developer.apple.com/download/more/"})," \u4e0b\u8f7d\u5b89\u88c5\u6700\u65b0\u7684 ",(0,o.jsx)(n.code,{children:"Command Line Tools"})," \u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5b89\u88c5 JAVA \u73af\u5883"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u60f3\u5728 macOS \u4e0a\u7f16\u8bd1 Android APP \uff0c\u5219\u8fd8\u9700\u53c2\u8003 ",(0,o.jsx)(n.a,{href:"https://reactnative.dev/docs/0.70/environment-setup?guide=native&os=macos",children:"https://reactnative.dev/docs/0.70/environment-setup?guide=native&os=macos"})," \u4e00\u6587\u5b89\u88c5 JDK11"]}),"\n",(0,o.jsx)(n.p,{children:"brew install --cask zulu@11"}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u7f16\u8bd1 Android NDK \u8fc7\u7a0b\u4e2d\u51fa\u73b0\u5982\u4e0b\u9519\u8bef\u7684"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"> Task :libuvccamera:ndkBuild FAILED\nAndroid NDK: Host 'awk' tool is outdated. Please define NDK_HOST_AWK to point to Gawk or Nawk !\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5219\u9700\u8981\u5728",(0,o.jsx)(n.code,{children:"~/.zshrc"}),"\u4e2d\u6dfb\u52a0"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"export NDK_HOST_AWK=/usr/bin/awk\n"})}),"\n",(0,o.jsx)(n.h2,{id:"xcode-\u7f16\u8bd1\u8fc7\u7a0b\u95ee\u9898\u96c6\u9526",children:"Xcode \u7f16\u8bd1\u8fc7\u7a0b\u95ee\u9898\u96c6\u9526"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:'Signing for "React-Core-AccessibilityResources" requires a development team'})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Xcdoe 14 \u4f1a\u9047\u5230\u8fd9\u4e2a\u9519\u8bef\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u5728 Xcode \u5de6\u8fb9\u7684 ",(0,o.jsx)(n.code,{children:"Project navigator"})," \u4e2d\u70b9\u51fb ",(0,o.jsx)(n.code,{children:"Pods"}),"\uff0c\u7136\u540e\u70b9\u51fb\u6b64\u65f6\u51fa\u73b0\u5728\u53f3\u8fb9\u7684 ",(0,o.jsx)(n.code,{children:"Signing & Capabilities"})," \u5e76\u5728 ",(0,o.jsx)(n.code,{children:"Team"})," \u4e0b\u62c9\u6846\u4e2d\u9009\u62e9\u4e00\u4e2a\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u624b\u5de5\u4e0b\u8f7d ",(0,o.jsx)(n.code,{children:"node_modules/react-native/third-party"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u51fa\u73b0\u8fd9\u4e2a\u9519\u8bef"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Failed to successfully download 'boost_1_63_0.tar.gz'. Debug info:\nls: /Users/lizheng/Library/Caches/com.facebook.ReactNativeBuild/boost_1_63_0.tar.gz: No such file or directory\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5219\u8981\u6309\u7167 ",(0,o.jsx)(n.code,{children:"node_modules/react-native/scripts/ios-install-third-party.sh"})," \u4e2d\u5e95\u90e8\u7684\u51e0\u4e2a\u94fe\u63a5\u624b\u52a8\u4e0b\u8f7d\uff0c\u518d\u5c06\u4e0b\u8f7d\u597d\u7684\u6587\u4ef6\u653e\u5230 ",(0,o.jsx)(n.code,{children:"~/.rncache/"})," \u6216 ",(0,o.jsx)(n.code,{children:"~/Library/Caches/com.facebook.ReactNativeBuild/"})," \u4e2d\u5373\u53ef\u7528 Xcode \u91cd\u65b0\u7f16\u8bd1\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u53e6\uff1a\u5982\u679c\u6309\u540e\u6587\u6240\u8bf4\u201c\u4f7f\u7528 Cocoapods \u5b89\u88c5 iOS \u7b2c\u4e09\u65b9\u5e93\u201d\uff0c\u5219\u4e0d\u4f1a\u5b58\u5728\u672c\u95ee\u9898\u3002"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"'RCTAssert.h' file not found"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u8fd9\u662f react-native \u6700\u57fa\u672c\u7684\u4e00\u4e2a ",(0,o.jsx)(n.code,{children:".h"})," \u6587\u4ef6\uff0c\u4e5f\u4f1a\u62a5\u9519\uff0c\u5bf9\u4e8e\u82f9\u679c\u516c\u53f8\u7684\u4ea7\u54c1\u771f\u662f\u65e0\u8bed\u4e86\u3002\u8fd9\u4e00\u822c\u662f\u56e0\u4e3a Xcode \u6216 macOS \u7684 bug \uff0c\u91cd\u542f macOS \u5c31\u53ef\u4ee5\u4e86\u2026\u2026\u5982\u679c\u4f7f\u7528\u5916\u63a5\u9f20\u6807\u7684\u8bdd\uff0c\u6709\u65f6 macOS \u7a81\u7136\u4f1a\u53d8\u5f97\u5f88\u5361\uff0c\u5f88\u96be\u7528\u9f20\u6807\u8fdb\u884c\u79fb\u52a8\u3001\u70b9\u51fb\u7b49\u64cd\u4f5c\uff0c\u6362\u4e2a\u9f20\u6807\u4ecd\u7136\u5982\u6b64\uff0c\u4e5f\u662f\u91cd\u542f macOS \u5c31\u53ef\u4ee5\u4e86\uff0c\u6216\u662f\u5c06\u9f20\u6807\u63a5\u6536\u5668\u6362\u4e2a USB \u53e3\uff0c\u4f46\u5982\u679c\u6362\u4e86\uff0c\u5269\u4e0b\u7684\u90a3\u4e2a USB \u53e3\u6709\u65f6\u65e0\u6cd5\u6b63\u5e38\u8fde\u63a5 iPhone \u8fdb\u884c\u8c03\u8bd5\u2026\u2026"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"no template named function in namespace std"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Xcode 16 \u53ef\u80fd\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u5728",(0,o.jsx)(n.code,{children:"\u5de5\u7a0b\u6587\u4ef6 | Build Settings (All) | Apple Clang - Language -  C++ | C++ Language Dialect"}),"\u4e2d\u9009\u62e9",(0,o.jsx)(n.code,{children:"C++11[-std=c++11]"}),"\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5c3d\u91cf\u5728 Xcode \u4e2d\u7f16\u8f91\u6587\u4ef6\u5185\u5bb9"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5426\u5219 Xcode \u4f1a\u4e0d\u77e5\u9053\u6587\u4ef6\u5df2\u7ecf\u7f16\u8f91\u8fc7\u4e86\u3002\u5982\u679c\u662f\u5728 Xcode \u4e2d\u7f16\u8f91\u7684\u8bdd\uff0c Xcode \u4f1a\u81ea\u52a8 index \u4e00\u4e0b\uff0c\u7136\u540e build \u65f6\u5c31\u4e0d\u4f1a\u51fa\u9519\u4e86\u3002\u518d\u6b21\u5410\u69fd\u7684\u662f\uff0c index \u548c build \u7684\u901f\u5ea6\u4e5f\u592a\u6162\u4e86\u3002"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Timeout waiting for modules to be invalidated"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u66fe\u7ecf\u5728\u6a21\u62df\u5668\u4e2d\u5b89\u88c5\u8c03\u8bd5\u8fd0\u884c\u65f6\u78b0\u5230\u8fc7\u8fd9\u4e2a\u9519\u8bef\uff0c\u6309 ",(0,o.jsx)(n.a,{href:"https://stackoverflow.com/questions/46206867/timeout-waiting-for-modules-to-be-invalidated",children:"https://stackoverflow.com/questions/46206867/timeout-waiting-for-modules-to-be-invalidated"})," \u4e2d\u7684\u8bf4\u6cd5\u662f\u9700\u8981\u5c06\u771f\u673a\u7684 WiFi \u8fde\u5230\u4e0e macOS \u540c\u4e00\u4e2a\u5c40\u57df\u7f51\u4e2d\uff0c\u4e0d\u8fc7\u6211\u7684\u60c5\u51b5\u662f\u5c06\u6a21\u62df\u5668\u6362\u6210\u771f\u673a\u540e\u5c31\u597d\u4e86\uff0c\u641e\u4e0d\u61c2\u80cc\u540e\u771f\u6b63\u7684\u539f\u56e0\u662f\u5565\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6ce8\uff1a\u53c2\u8003 ",(0,o.jsx)(n.a,{href:"https://www.idownloadblog.com/2022/12/01/how-to-share-mac-wi-fi-internet/",children:"How to share your Mac's internet with iPhone, iPad, Android, etc"})," \u4e00\u6587\u5c06\u4e0a\u7f51\u80fd\u529b\u901a\u8fc7 macOS \u7684 USB \u53e3\u5206\u4eab\u7ed9 iPhone \uff0c\u7531\u4e8e\u662f\u6709\u7ebf\u8fde\u63a5\uff0c\u6240\u4ee5 Hot reloading \u7684\u901f\u5ea6\u5feb\u5230\u98de\u8d77\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u771f\u673a\u8c03\u8bd5\u65f6\u9700\u8981\u5728 Xcode \u7684\u83dc\u5355 ",(0,o.jsx)(n.code,{children:"Preferences | Accounts"})," \u90a3\u91cc\u6dfb\u52a0 Apple ID \uff0c\u5e76\u5728 Xcode \u7684\u4e3b\u754c\u9762\u4e2d\u7684 Project \u7684\u67d0\u4e2a Target \u7684 'Signing & Capabilities' \u90a3\u91cc\u9009\u62e9\u76f8\u5e94\u7684 Team \u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4f46\u662f\uff0c\u5343\u4e07\u8981\u8bb0\u5f97\u6240\u6dfb\u52a0\u7684\u90a3\u4e2a Apple ID \u5c31\u662f\u4eca\u540e\u5c06\u8981\u7528\u6765\u53d1\u5e03\u5230 App Store \u7684\u8d26\u53f7\uff0c\u5426\u5219\u5982\u679c\u5148\u7528\u81ea\u5df1\u4e2a\u4eba\u7684\u514d\u8d39\u8d26\u53f7\u5728\u771f\u673a\u4e0a\u8fdb\u884c\u8c03\u8bd5\u4e86\uff0c\u90a3\u4e48\u82f9\u679c\u670d\u52a1\u5668\u5c31\u4f1a\u81ea\u52a8\u5c06\u4f60\u6240\u8c03\u8bd5\u7684 APP \u7684 PRODUCT_BUNDLE_IDENTIFIER \u6bd4\u5982 com.domainname.appname \u4f5c\u4e3a APP ID \u4fdd\u5b58\u5230\u4f60\u7684\u4e2a\u4eba\u8d26\u53f7\u540d\u4e0b\u4e86\uff0c\u90a3\u6837\u7b49\u4f60\u540e\u7eed\u7528\u516c\u53f8\u7684\u6536\u8d39\u8d26\u53f7\u5728 ",(0,o.jsx)(n.a,{href:"https://developer.apple.com/",children:"https://developer.apple.com/"})," \u4e0a\u7533\u8bf7 Identifiers \u65f6\uff0c\u5b83\u5c31\u4f1a\u8bf4 \"An App ID with Identifier 'com.domainname.appname' is not available\" \uff0c\u800c\u4f60\u7528\u514d\u8d39\u8d26\u53f7\u767b\u5f55 ",(0,o.jsx)(n.a,{href:"https://developer.apple.com/",children:"https://developer.apple.com/"})," \u7684\u8bdd\u6839\u672c\u8fde Identifiers \u7684\u8fdb\u5165\u6309\u94ae\u90fd\u770b\u4e0d\u89c1\u66f4\u522b\u8bf4\u5220\u9664\u8be5 APP ID \u4e86\uff0c\u8fd9\u6837\u4f60\u53ea\u80fd\u8ba9\u4f60\u7684\u516c\u53f8\u8d26\u53f7\u4e0b\u7684 PRODUCT_BUNDLE_IDENTIFIER \u6539\u540d\u2026\u2026\u82f9\u679c\u516c\u53f8\u53c8\u4e00\u4e2a\u53cd\u4eba\u7c7b\u7684\u8bbe\u8ba1\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u7b2c\u4e00\u6b21\u6253\u5305 APP \u4ee5\u4fbf\u5728\u771f\u673a\u4e0a\u8fd0\u884c\u65f6\uff0c Xcode \u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u8ba9\u4f60\u8f93\u5165\u82f9\u679c\u7535\u8111\u767b\u5f55\u5bc6\u7801\u4ee5\u4fbf\u8bbf\u95ee\u94a5\u5319\u4e32\uff0c\u4f60\u786e\u5b9a\u4e00\u6b21\u540e\uff0c\u53c8\u56de\u5f39\u51fa\u4e00\u6b21\uff0c\u518d\u786e\u5b9a\uff0c\u518d\u5f39\u51fa\uff0c\u6b21\u6570\u591a\u5230\u8ba9\u4f60\u4ee5\u4e3a\u4f60\u8f93\u9519\u4e86\u82f9\u679c\u7535\u8111\u767b\u5f55\u5bc6\u7801\u2026\u2026\u4e00\u5171\u4f1a\u5f39\u51fa 10 \u6b21\u5de6\u53f3\u7684\u5bf9\u8bdd\u6846\u2026\u2026"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u6dfb\u52a0 Apple ID \u65f6\u62a5\u9519\u8bf4\u201c\u672a\u77e5\u9519\u8bef\u201d"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u5c40\u57df\u7f51\u4e0d\u592a\u7a33\u5b9a\uff08\u6bd4\u5982\u8def\u7531\u5668\u518d\u52a0\u4e00\u4e2a WiFi \u653e\u5927\u5668\uff09\u5c31\u5bb9\u6613\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e34\u65f6\u8fde\u63a5\u624b\u673a\u70ed\u70b9\u6765\u7b80\u5355\u89e3\u51b3\u4e4b\u3002"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5f00\u53d1\u65f6\u4e5f\u9700\u8981\u8fde\u63a5\u82f9\u679c\u516c\u53f8\u670d\u52a1\u5668"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 Xcode \u4e2d\u70b9\u51fb Run \u6309\u94ae\u7b2c\u4e00\u6b21\u5c06 APP \u5728\u771f\u673a\u4e0a\u8fd0\u884c\u65f6\uff0c\u5f53\u771f\u673a\u754c\u9762\u4e0a\u51fa\u73b0 APP \u56fe\u6807\u65f6\uff0c Xcode \u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\uff0c\u6309\u7167\u5176\u63d0\u793a\u5230\u771f\u673a\u7684 ",(0,o.jsx)(n.code,{children:"\u8bbe\u7f6e | \u901a\u7528 | \u8bbe\u5907\u7ba1\u7406 | \u5f00\u53d1\u8005 APP"})," \u4e2d\u8fdb\u884c\u9a8c\u8bc1\uff0c\u7136\u800c\u63a5\u7740\u5173\u95ed Xcode \u4e2d\u7684\u5bf9\u8bdd\u6846\u540e\uff0c Xcode \u5e76\u4e0d\u4f1a\u63a5\u7740\u7ee7\u7eed\u542f\u52a8 APP \u8fdb\u884c\u8c03\u8bd5\uff0c\u5982\u679c\u4f60\u60f3\u5728 Xcode \u4e2d\u770b\u5230\u8c03\u8bd5\u4fe1\u606f\u7684\u8bdd\uff0c\u4f60\u5c31\u4e0d\u5f97\u4e0d\u518d\u6b21\u70b9\u51fb Run \u6309\u94ae\u81ea\u52a8 build \u5b89\u88c5\u5171 3 \u5206\u949f\u540e\u624d\u884c\uff0c\u771f\u662f\u6d6a\u8d39\u751f\u547d\u3002\u800c\u66f4\u540a\u8be1\u7684\u662f\uff0c\u5982\u679c\u540e\u7eed\u67d0\u4e2a\u65f6\u95f4\u4f60\u7684\u8def\u7531\u5668\u56e0\u67d0\u79cd\u539f\u56e0\u4e0e\u4e92\u8054\u7f51\u8fde\u63a5\u65ad\u5f00\uff0c\u90a3\u4e48\u8fde\u63a5\u5728\u8def\u7531\u5668\u7684 WiFi \u4e0a\u7684\u771f\u673a\u4e2d\u7684 APP \u53c8\u53d8\u6210\u4e86\u9700\u8981\u9a8c\u8bc1\u7684\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u4f60\u6ca1\u6709\u4e92\u8054\u7f51\u7684\u8bdd\u5c31\u8fde\u4ee3\u7801\u8c03\u8bd5\u90fd\u65e0\u6cd5\u505a\u5230\uff0c\u82f9\u679c\u516c\u53f8\u7684\u670d\u52a1\u5668\u65f6\u523b\u5728\u770b\u7740\u4f60\u2026\u2026"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u7528 Debug \u914d\u7f6e\u8fdb\u884c\u8c03\u8bd5"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u7531\u4e8e\u4f7f\u7528 Release \u914d\u7f6e\u70b9\u51fb Run \u6309\u94ae\u7684\u8bdd\u9700\u8981\u7b49\u5f85\u534a\u5c0f\u65f6\uff0c\u6240\u4ee5\u8c03\u8bd5\u65f6\u8bb0\u5f97\u5c06 ",(0,o.jsx)(n.code,{children:"Produce | Scheme | Edit Scheme | Run | Build Configuration"})," \u8bbe\u7f6e\u4e3a Debug \u3002\u5176\u5b9e\u5c31\u7b97\u4f7f\u7528 Debug \uff0c\u8fd0\u884c\u4e5f\u9700\u8981 3 \u5206\u949f\uff0c\u54ea\u50cf react-native \u5f00\u53d1\u65f6\u53ea\u9700\u8981\u624b\u673a\u6447\u4e00\u6447\u82b1 3 \u79d2\u949f\u5c31\u80fd\u770b\u5230 JS \u4ee3\u7801\u6240\u505a\u7684\u6539\u53d8\u3002\u771f\u4e3a\u90a3\u4e9b\u5168\u90e8\u4ee3\u7801\u90fd\u4f7f\u7528 Xcode \u539f\u751f\u7f16\u5199\u7684\u5f00\u53d1\u4eba\u5458\u611f\u5230\u60b2\u54c0\u2014\u2014\u6bcf\u5929\u4e0d\u77e5\u9053\u6d6a\u8d39\u4e86\u591a\u5c11\u4e2a 3 \u5206\u949f\u3002\u8fd8\u597d\u6211\u53ea\u9700\u8981\u634f\u7740\u9f3b\u5b50\u5076\u5c14\u7528\u8fde\u8bed\u6cd5\u90fd\u662f\u53cd\u4eba\u7c7b\u7684 ObjectC \u8bed\u8a00\u5728 Xcode \u4e2d\u505a\u4e00\u4e9b\u539f\u751f\u9002\u914d\uff0c\u5c31\u53c8\u53ef\u4ee5\u6109\u5feb\u5730\u53bb\u5199 JS \u4ee3\u7801\u4e86\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6ce8\uff1a ",(0,o.jsx)(n.a,{href:"https://reactnative.dev/docs/publishing-to-app-store",children:"https://reactnative.dev/docs/publishing-to-app-store"})," \u63d0\u5230 ",(0,o.jsx)(n.code,{children:"export SKIP_BUNDLING=true"})," \u53ef\u4ee5\u8fdb\u4e00\u6b65\u51cf\u5c11 Debug \u7f16\u8bd1\u8fd0\u884c\u7684\u65f6\u95f4\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u9879\u76ee\u6240\u5728\u7edd\u5bf9\u8def\u5f84\u4e2d\u4e0d\u5e94\u8be5\u6709\u7a7a\u683c\uff0c\u5426\u5219\u7f16\u8bd1\u4f1a\u5931\u8d25"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u914d\u7f6e node \u8def\u5f84"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u6ca1\u6709\u6807\u51c6\u5316\u5b89\u88c5 nodejs \uff0c\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"brew install node@10"})," \u8fd9\u79cd\u65b9\u5f0f\u5b89\u88c5\u7684\uff0c\u5219\u5c31\u7b97\u5df2\u7ecf\u5728 ",(0,o.jsx)(n.code,{children:"~/.zshrc"})," \u6216 ",(0,o.jsx)(n.code,{children:"~/.bash_profile"})," \u4e2d ",(0,o.jsx)(n.code,{children:"export PATH=/usr/local/opt/node@10/bin:$PATH"})," \u4e86\uff0c\u4e5f\u8fd8\u662f\u4f1a\u5728\u771f\u673a\u7f16\u8bd1\u65f6\u62a5 ",(0,o.jsx)(n.code,{children:"Can't find 'node' binary to build React Native bundle"})," \u8fd9\u6837\u7684\u9519\u8bef\uff0c\u6b64\u65f6\u9700\u8981\u6309\u63d0\u793a\u5230 Xcode \u7684 Project \u7684 ",(0,o.jsx)(n.code,{children:"Build Phases | Bundle React Native code and images"})," \u90a3\u91cc\u5c06 ",(0,o.jsx)(n.code,{children:"export NODE_BINARY=node"})," \u6539\u4e3a ",(0,o.jsx)(n.code,{children:"export NODE_BINARY=$(which node)"})," \u3002\u6216\u8005\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5 ",(0,o.jsx)(n.code,{children:"ln -s $(which node) /usr/local/bin/node"})," \u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"EMFILE: too many open files"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u5373\u4f7f",(0,o.jsx)(n.a,{href:"https://sspai.com/post/55066",children:"macOS \u5f00\u542f\u6216\u5173\u95ed SIP"}),"\u5173\u95ed SIP \u7136\u540e",(0,o.jsx)(n.code,{children:"launchctl limit maxfiles 16384 16384 && ulimit -n 16384"}),"\u4e86\u4e5f\u6ca1\u7528\uff0c\u90a3\u662f\u56e0\u4e3a\u5bf9\u4e8e M2 \u7684\u82f9\u679c\u7535\u8111\uff0c\u9700\u8981\u505a\u7684\u662f\u53c2\u8003 ",(0,o.jsx)(n.a,{href:"https://github.com/facebook/watchman/issues/923#issuecomment-2550990976",children:"https://github.com/facebook/watchman/issues/923#issuecomment-2550990976"})," \u4e2d\u90a3\u6837\u5728",(0,o.jsx)(n.code,{children:"TARGETS > (your app) > Build Phases > Bundle React Native code and images"}),"\u4e2d\u5c06",(0,o.jsx)(n.code,{children:"/opt/homebrew/bin"}),"\u6dfb\u52a0\u5230",(0,o.jsx)(n.code,{children:"$PATH"}),"\u4e2d\u3002\u53e6\u5916\uff0c\u8fd8\u9700\u5728\u7f16\u8bd1\u524d\u624b\u52a8\u6267\u884c\u4e00\u6b21",(0,o.jsx)(n.code,{children:"watchman watch-del-all"}),"\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"ld: 5 uplicate symbols"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5c06 XCode \u5347\u7ea7\u5230 15 \u4e4b\u540e\uff0c\u6bd4\u5982\u7f16\u8bd1\u4f7f\u7528\u7740",(0,o.jsx)(n.code,{children:"telink sdk v3.3.3.5"}),"\u7684",(0,o.jsx)(n.code,{children:"react-native-btsig-telink@5.0.3"}),"\u65f6\uff0c\u5728\u94fe\u63a5\u9636\u6bb5\u62a5\u4e86\u8be5\u9519\u8bef\uff0c\u4ee5\u5176\u4e2d\u4e00\u4e2a\u4e3a\u4f8b"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"duplicate symbol '_OBJC_IVAR_$_SigECCEncryptHelper._crypto'\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u89e3\u51b3\u65b9\u6cd5\u662f\u5728 Xcode \u7684 Project \u7684",(0,o.jsx)(n.code,{children:"Build Settings(All) | Linking | Other Linker Flags"}),"\u5185\u6dfb\u52a0 ",(0,o.jsx)(n.code,{children:"-ld_classic"}),"\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["release error with ",(0,o.jsx)(n.a,{href:"https://github.com/Andarist/data-uri.macro",children:"data-uri.macro"})]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c APP \u4e2d\u4f7f\u7528\u4e86 ",(0,o.jsx)(n.code,{children:"data-uri.macro"})," \uff0c\u5219 release \u6253\u5305\u65f6\u4f1a\u51fa\u73b0\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"Error: /Users/YOU/proj/YOUR_APP/ios/app/images/gif/index.js: data-uri.macro: ENOENT: no such file or directory, open '/Users/YOU/proj/YOUR_APP/ios/app/images/gif/spot.gif'"})," \uff0c\u6b64\u65f6\u9700\u8981\u5230 Xcode \u7684 Project \u7684 ",(0,o.jsx)(n.code,{children:"Build Phases | Bundle React Native code and images"})," \u90a3\u91cc\u5c06"]}),"\n",(0,o.jsx)(n.p,{children:"../node_modules/react-native/scripts/react-native-xcode.sh"}),"\n",(0,o.jsx)(n.p,{children:"\u6539\u4e3a"}),"\n",(0,o.jsx)(n.p,{children:"cd ..\n./node_modules/react-native/scripts/react-native-xcode.sh"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u4e3a Xcode \u6dfb\u52a0 iOS-DeviceSupport"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u771f\u673a\u8c03\u8bd5\u8fd0\u884c\u65f6\u51fa\u73b0\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"This iPhone 7 (Model 1660, 1778, 1779, 1780) is running iOS 13.2.3 (17B111), which may not be supported by this version of Xcode. An updated version of Xcode may be found on the App Store or at developer.apple.com."})," \u8fd9\u6837\u7684\u9519\u8bef\u63d0\u793a\uff0c\u5b83\u7684\u610f\u601d\u662f\u5f53\u524d\u7248\u672c\u7684 Xcode \u4e0d\u652f\u6301\u771f\u673a\u4e0a\u7684 iOS \u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3002\u8c03\u8bd5\u4e00\u4e2a\u624b\u673a APP \u8fd8\u5fc5\u987b\u8981 IDE \u652f\u6301\u624b\u673a\u64cd\u4f5c\u7cfb\u7edf\u7684\u7248\u672c\uff0c\u8fd9\u6837\u7684\u53cd\u4eba\u7c7b\u8bbe\u8ba1\u6050\u6015\u4e5f\u53ea\u6709\u82f9\u679c\u516c\u53f8\u624d\u505a\u5f97\u51fa\u6765\u3002\u53ef\u4ee5\u5982\u63d0\u793a\u4e2d\u6240\u8bf4\u5347\u7ea7 Xcode \u81ea\u8eab\uff0c\u4f46 Xcode \u5b89\u88c5\u5305\u8981 7 \u4e2a\u591a GB \uff0c\u800c\u4e14\u5076\u5c14\u67d0\u4e2a\u7248\u672c\u7684 Xcode \u4f1a\u51fa\u73b0\u4e00\u4e9b\u5947\u5947\u602a\u602a\u7684 BUG \uff0c\u6240\u4ee5\u6700\u7b80\u6d01\u7684\u65b9\u5f0f\u5176\u5b9e\u662f\u4e3a\u5f53\u524d\u7248\u672c\u7684 Xcode \u7684\u5b89\u88c5\u76ee\u5f55\u67d0\u4e2a\u5730\u65b9\u591a\u6dfb\u52a0\u4e00\u4e2a\u6bd4\u5982 13.2 \u76ee\u5f55\u5373\u53ef\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4ece ",(0,o.jsx)(n.a,{href:"https://github.com/iGhibli/iOS-DeviceSupport/tree/master/DeviceSupport",children:"https://github.com/iGhibli/iOS-DeviceSupport/tree/master/DeviceSupport"})," \u4e0b\u8f7d\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"13.2(FromXcode11.2.1(11B500)).zip"})," \uff0c\u89e3\u538b\u51fa ",(0,o.jsx)(n.code,{children:"13.2"})," \u76ee\u5f55\uff0c ",(0,o.jsx)(n.code,{children:"sudo mv 13.2 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/"})," \uff0c\u6700\u540e\u91cd\u542f Xcode \u5e76\u91cd\u8fde\u624b\u673a\u5373\u53ef\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"dyld: Library not loaded: /usr/local/opt/icu4c/lib/libicui18n.66.dylib"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u5728 Xcode \u6301\u7eed\u5f00\u542f\u7684\u72b6\u6001\u4e0b\uff0c\u6bd4\u5982\u4e3a\u4e86\u6ee1\u8db3 App Store \u4e0a\u9884\u89c8\u89c6\u9891\u7684\u5206\u8fa8\u7387\u8981\u6c42\u800c\u5728\u7ec8\u7aef\u91cc ",(0,o.jsx)(n.code,{children:"brew install ffmpeg"})," \u7528\u4e8e\u89c6\u9891\u8f6c\u7801\uff0c\u7136\u540e\u4e00\u8f6c\u773c Xcode \u8fd0\u884c ",(0,o.jsx)(n.code,{children:"Product | Archive"})," \u6253\u5305\u5230 node \u6b65\u9aa4\u65f6\u5373\u53ef\u80fd\u62a5\u4e0a\u8ff0\u9519\u8bef\uff0c\u5176\u539f\u56e0\u662f node \u548c ffmpeg \u90fd\u4f9d\u8d56 icu4u \uff0c\u800c\u4e00\u822c\u60c5\u51b5\u4e0b node \u662f\u6bd4\u8f83\u65e9\u4e4b\u524d\u5b89\u88c5\u7684\uff0c\u90a3\u65f6\u5019\u81ea\u52a8\u5b89\u88c5\u7684 icu4u \u7248\u672c\u5982\u679c\u6bd4\u73b0\u5728 ffmpeg \u89e6\u53d1\u5b89\u88c5\u7684 icu4u \u7248\u672c\u65e7\u7684\u8bdd\uff0c\u5c31\u4f1a\u51fa\u73b0\u672c\u95ee\u9898\u3002\u89e3\u51b3\u7684\u65b9\u6cd5\u662f\u91cd\u65b0\u542f\u52a8 Xcode \u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Could not build module 'Darwin'"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u5347\u7ea7\u4e86 RN \u7248\u672c\u540e\u518d\u6b21\u7f16\u8bd1\uff0c\u53ef\u80fd\u4f1a\u78b0\u5230\u8fd9\u4e2a\u9519\u8bef\uff0c\u6b64\u65f6\u53ea\u8981"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"rm -rf Pods Podfile.lock\nrm -rf ~/Library/Developer/Xcode/DerivedData/ModuleCache.noindex\nrm -rf ~/Library/Developer/Xcode/DerivedData/SDKStatCaches.noindex\nrm -rf ~/Library/Developer/Xcode/DerivedData/SymbolCache.noindex\ncd ios\npod install\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u5373\u53ef\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"app-store-\u53cd\u4eba\u7c7b\u96c6\u9526",children:"App Store \u53cd\u4eba\u7c7b\u96c6\u9526"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u96be\u4ee5\u7406\u89e3\u7684\u5f00\u53d1\u8bc1\u4e66\u3001\u751f\u4ea7\u8bc1\u4e66\u3001\u63cf\u8ff0\u6587\u4ef6"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0d\u50cf Android \u7684 apk \u53ea\u9700\u8981\u547d\u4ee4\u884c\u751f\u6210\u4e00\u4e2a key \u7528\u6765\u7b7e\u540d\u5c31\u53ef\u4ee5\u53d1\u5e03\u5230 Google PLAY \u4e86\uff0c\u4f60\u9700\u8981\u6d6a\u8d39\u751f\u547d\u4e2d\u7684\u51e0\u4e2a\u5c0f\u65f6\u751a\u81f3\u51e0\u5929\u6765\u7406\u89e3 ",(0,o.jsx)(n.a,{href:"https://blog.csdn.net/Bolted_snail/article/details/80764572",children:"iOS\u5f00\u53d1\u8bc1\u4e66\u3001bundle ID\u3001App ID\u3001\u63cf\u8ff0\u6587\u4ef6\u3001p12\u6587\u4ef6\uff0c\u4f01\u4e1a\u8bc1\u4e66\u6253\u5305\u53d1\u5e03\uff0c\u53ca\u8fc7\u671f\u5904\u7406"})," \u3001 ",(0,o.jsx)(n.a,{href:"https://www.cnblogs.com/ioshe/p/5481456.html",children:"iOS\u5f00\u53d1\u8005\u8bc1\u4e66\u7533\u8bf7\u53ca\u5e94\u7528\u4e0a\u7ebf\u53d1\u5e03\u8be6\u89e3"})," \u3001 ",(0,o.jsx)(n.a,{href:"https://www.jianshu.com/p/a81c01323a89",children:"ios\u5f00\u53d1\u8bc1\u4e66\u7684\u5751"})," \u8fd9\u4e9b\u6587\u7ae0\u5e76\u8fdb\u884c\u76f8\u5173\u64cd\u4f5c\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5176\u4e2d\u4e00\u4e2a\u9700\u8981\u7406\u89e3\u7684\u662f\uff0c Xcode \u7b2c\u4e00\u6b21\u8fde\u63a5\u771f\u673a\u8fdb\u884c\u8c03\u8bd5\u65f6\uff0c\u5b83\u4f1a\u8be2\u95ee\u4f60\u662f\u5426\u5c06\u771f\u673a\u52a0\u5165\u8bbe\u5907\u5217\u8868\u4ee5\u4fbf\u653e\u5165\u63cf\u8ff0\u6587\u4ef6\uff0c\u5728\u4f60\u70b9\u51fb\u786e\u5b9a\u540e\uff0c\u5b83\u5176\u5b9e\u5077\u5077\u6478\u6478\u5c06\u4f60\u7684\u771f\u673a\u7684 UUID \u653e\u5230\u4e86 ",(0,o.jsx)(n.a,{href:"https://developer.apple.com/account/resources/devices/list",children:"https://developer.apple.com/account/resources/devices/list"})," \uff0c\u5e76\u4e14\u81ea\u52a8\u4e3a\u4f60\u751f\u6210\u4e86\u8c03\u8bd5\u7528\u7684\u63cf\u8ff0\u6587\u4ef6\uff0c\u91cc\u9762\u5185\u542b\u771f\u673a\u7684 UUID \u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f7f\u7528\u8fd9\u4e2a\u63cf\u8ff0\u6587\u4ef6\u6253\u5305\u7684 APP \u53ea\u80fd\u5728\u8fd9\u4e2a\u771f\u673a\u8fd0\u884c\uff0c\u800c ",(0,o.jsx)(n.a,{href:"https://developer.apple.com/account/resources/profiles/list",children:"https://developer.apple.com/account/resources/profiles/list"})," \u4e2d\u7684\u662f\u53d1\u5e03\u7528\u7684\u63cf\u8ff0\u6587\u4ef6\uff0c\u91cc\u9762\u4e0d\u542b\u771f\u673a\u7684 UUID \u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f7f\u7528\u8fd9\u4e2a\u63cf\u8ff0\u6587\u4ef6\u6253\u5305\u7684 APP \u53ef\u4ee5\u5728\u4efb\u4f55\u8bbe\u5907\u4e0a\u8fd0\u884c\u3002\u6240\u4ee5\u6211\u4eec\u4e0d\u7528\u5173\u5fc3\u7f51\u9875\u4e0a\u7684\u8bbe\u5907\u5217\u8868\uff0c\u53ea\u9700\u8981\u5173\u5fc3\u5728\u7f51\u9875\u4e0a\u521b\u5efa\u63cf\u8ff0\u6587\u4ef6\u5e76\u4e0b\u8f7d\u4ee5\u4fbf\u53d1\u5e03\u5373\u53ef\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u6ca1\u6709\u63d0\u793a\u81ea\u52a8\u5ba1\u6838"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u5728 Xcode \u4e2d\u7528 ",(0,o.jsx)(n.code,{children:"Window | Organizer | Distribute App"})," \u6210\u529f\u4e0a\u4f20\u5230\u4e86 App Store \u4e2d\uff0c\u4f46\u5374\u65e0\u6cd5\u5728 ",(0,o.jsx)(n.a,{href:"https://appstoreconnect.apple.com/",children:"https://appstoreconnect.apple.com/"})," \u7684\u4efb\u4f55\u5730\u65b9\u627e\u5230\u8be5\u6784\u5efa\u7248\u672c\u7684\u4fe1\u606f\uff0c\u8fd9\u4e00\u822c\u662f\u56e0\u4e3a\u82f9\u679c\u516c\u53f8\u670d\u52a1\u5668\u81ea\u52a8\u5ba1\u6838\u4f60\u4e0a\u4f20\u7684 ipa \u540e\u53d1\u73b0\u4e86\u95ee\u9898\uff0c\u6240\u4ee5\u4f60\u9700\u8981\u5230\u76f8\u5173\u90ae\u7bb1\u4e2d\u7b49\u5f85\u82f9\u679c\u516c\u53f8\u670d\u52a1\u5668\u81ea\u52a8\u53d1\u6765\u7684\u7535\u5b50\u90ae\u4ef6\u3002\u95ee\u9898\u662f\u6ca1\u6709\u4efb\u4f55\u63d0\u793a\u544a\u8bc9\u4f60\u9700\u8981\u5230\u90ae\u7bb1\u4e2d\u7b49\u5f85\u2026\u2026"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u4e0d\u4f1a\u81ea\u52a8\u9009\u62e9\u6784\u5efa\u7248\u672c"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5373\u4fbf\u4f60\u89e3\u51b3\u4e86\u81ea\u52a8\u5ba1\u6838\u63d0\u51fa\u7684\u95ee\u9898\uff0c\u4e5f\u91cd\u65b0\u4e0a\u4f20\u5230 App Store \u4e2d\u4e86\uff0c\u800c\u4e14\u4e5f\u80fd\u5728 ",(0,o.jsx)(n.a,{href:"https://appstoreconnect.apple.com/",children:"https://appstoreconnect.apple.com/"})," \u7684 TestFlight \u548c\u6d3b\u52a8\u4e2d\u770b\u5230\u8be5\u6784\u5efa\u7248\u672c\u7684\u4fe1\u606f\u4e86\uff0c\u4f46\u4f60\u8fd8\u662f\u9700\u8981\u53bb\u70b9\u51fb\u201c\u6784\u5efa\u7248\u672c\u201d\u6587\u5b57\u65c1\u8fb9\u7684 + \u53f7\u8fdb\u884c\u9009\u62e9\u624d\u80fd\u51c6\u5907\u201c\u63d0\u4ea4\u4ee5\u4f9b\u5ba1\u6838\u201d\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u51fa\u53e3\u5408\u89c4\u8bc1\u660e\u4fe1\u606f"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9700\u8981\u5230 ",(0,o.jsx)(n.a,{href:"https://appstoreconnect.apple.com/",children:"https://appstoreconnect.apple.com/"})," \u7684 TestFlight \u4e2d\u8fdb\u884c\u201c\u51fa\u53e3\u5408\u89c4\u8bc1\u660e\u4fe1\u606f\u201d\uff0c\u8bf4\u662f"]}),"\n",(0,o.jsx)(n.p,{children:"\u60a8\u7684 App \u662f\u5426\u4f7f\u7528\u52a0\u5bc6\uff1f\u5373\u4f7f\u60a8\u7684 App \u53ea\u4f7f\u7528\u4e86 Apple \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u6807\u51c6\u52a0\u5bc6\uff0c\u4e5f\u8bf7\u9009\u62e9\u201c\u662f\u201d\u3002\n\u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 ATS \u6216\u8c03\u7528 HTTPS\uff0c\u5219\u60a8\u5fc5\u987b\u5411\u7f8e\u56fd\u653f\u5e9c\u63d0\u4ea4\u5e74\u7ec8\u81ea\u884c\u5206\u7c7b\u62a5\u544a\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0d\u8fc7\u6b63\u50cf ",(0,o.jsx)(n.a,{href:"https://stackoverflow.com/questions/45008590/itunesconnect-requires-me-to-submit-year-end-self-qualification-report",children:"https://stackoverflow.com/questions/45008590/itunesconnect-requires-me-to-submit-year-end-self-qualification-report"})," \u91cc\u9762\u6709\u4eba\u63d0\u5230\u7684\uff0c\u5982\u679c\u7f8e\u56fd\u653f\u5e9c\u76f8\u5173\u673a\u6784\u4e0d\u5bf9\u6211\u4eec\u7684\u7533\u8bf7\u8fdb\u884c\u56de\u590d\uff0c\u96be\u9053\u5c31\u4e0d\u4e0a\u67b6 App Store \u4e86\uff1f\u5b9e\u9645\u4e0a\u4ece ",(0,o.jsx)(n.a,{href:"http://zhanglinhai.com/archives/689",children:"App Store \u4e0a\u67b6\u5173\u952e\u6b65\u9aa4\uff1a\u51fa\u53e3\u5408\u89c4\u4fe1\u606f\u3001\u5185\u5bb9\u7248\u6743\u3001\u5e7f\u544a\u6807\u8bc6\u7b26\u7684\u9009\u62e9"})," \u4e00\u6587\u6765\u770b\uff0c\u8fd9\u4e2a\u73b0\u5728\u53ef\u80fd\u5df2\u7ecf\u6ca1\u4eba\u771f\u6b63\u53bb\u7ba1\u4e86\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u6309\u7167 ",(0,o.jsx)(n.a,{href:"https://www.jianshu.com/p/edc246feed9c",children:"iOS app TestFlight \u7f3a\u5c11\u51fa\u53e3\u5408\u89c4\u8bc1\u660e"})," \u6240\u8bf4\u5728 Info.plist \u4e2d\u8bbe\u7f6e ",(0,o.jsx)(n.code,{children:"<key>ITSAppUsesNonExemptEncryption</key><false/>"})," \u952e\u503c\u5bf9\uff0c\u8fd9\u6837\u6211\u4eec\u4e0b\u6b21\u4e0a\u4f20\u6784\u5efa\u7248\u672c\u540e\u5c31\u4e0d\u4f1a\u770b\u5230\u8fd9\u4e2a\u201c\u51fa\u53e3\u5408\u89c4\u8bc1\u660e\u4fe1\u606f\u201d\u4e86\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"App \u9884\u89c8\u548c\u622a\u5c4f"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u8981\u4e0a\u4f20\u6216\u67e5\u770b\u9884\u89c8\u89c6\u9891\uff0c\u53ea\u80fd\u4f7f\u7528 Safari \u6d4f\u89c8\u5668\uff0c\u7528 Chrome \u90fd\u4e0d\u884c\u2026\u2026"}),"\n",(0,o.jsx)(n.h2,{id:"app-store-\u66f4\u65b0-app-\u6d41\u7a0b",children:"App Store \u66f4\u65b0 APP \u6d41\u7a0b"}),"\n",(0,o.jsx)(n.p,{children:"\u524d\u6587\u63d0\u5230\u4e86\u9996\u6b21\u4e0a\u67b6 APP \u65f6\u7684\u4e00\u4e9b\u7e41\u7410\u64cd\u4f5c\u3002\u8fd9\u91cc\u518d\u7b80\u5355\u7f57\u5217\u4e0b\u66f4\u7ecf\u5e38\u7528\u5230\u7684\u66f4\u65b0 APP \u7684\u6d41\u7a0b\uff0c\u4ee5\u5c3d\u91cf\u4ece\u82f9\u679c\u516c\u53f8\u624b\u91cc\u633d\u56de\u70b9\u5b9d\u8d35\u7684\u751f\u547d\u2026\u2026"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 ",(0,o.jsx)(n.a,{href:"https://appstoreconnect.apple.com/apps",children:"https://appstoreconnect.apple.com/apps"})," \u4e2d\u7684 \u201cApp Store\u201d \u90a3\u91cc\u65b0\u589e\u4e00\u4e2a\u7248\u672c\u53f7\u6bd4\u5982 1.2 \uff0c\u5e76\u5728 project.pbxproj \u4e2d\u7684 MARKETING_VERSION \uff08\u4e5f\u5c31\u662f Xcode \u7684\u4e3b\u754c\u9762\u4e2d\u7684 Project \u7684\u67d0\u4e2a Target \u7684 General \u90a3\u91cc\u7684 Version \uff09\u5904\u4e5f\u5199\u4e0a\u76f8\u540c\u7684\u7248\u672c\u53f7 1.2 \uff0c\u4ee5\u53ca\u5728 CURRENT_PROJECT_VERSION \uff08\u4e5f\u5c31\u662f Xcode \u7684\u4e3b\u754c\u9762\u4e2d\u7684 Project \u7684\u67d0\u4e2a Target \u7684 General \u90a3\u91cc\u7684 Build \uff09\u4e2d\u5199\u4e0a\u6bd4\u5982 1.2.0 \uff08\u5982\u679c\u5ba1\u6838\u88ab\u62d2\u4e86\uff0c\u53ea\u8981\u7b80\u5355\u4fee\u6539\u6210\u6bd4\u5982 1.2.1 \u5c31\u53ef\u4ee5\u518d\u6b21\u4e0a\u4f20\uff09"]}),"\n",(0,o.jsx)(n.p,{children:"cd ios\npod install"}),"\n",(0,o.jsx)(n.p,{children:"\u5728 Xcode \u7684\u4e3b\u754c\u9762\u4e2d\u7684 Project \u7684\u67d0\u4e2a Target \u7684 'Signing & Capabilities' \u90a3\u91cc\u9009\u62e9\u76f8\u5e94\u7684 Team \u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 Xcode \u8fd0\u884c ",(0,o.jsx)(n.code,{children:"Product | Archive"})," \u6253\u5305\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 Xcode \u4e2d\u7528 ",(0,o.jsx)(n.code,{children:"Window | Organizer | Distribute App"})," \u4e0a\u4f20\u5230 App Store \u4e2d\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0a\u4f20\u540e\u53ef\u4ee5\u5728 ",(0,o.jsx)(n.a,{href:"https://appstoreconnect.apple.com/apps",children:"https://appstoreconnect.apple.com/apps"})," \u4e2d\u7684 \u201c\u6d3b\u52a8\u201d \u90a3\u91cc\u770b\u5230\u6b63\u5728\u88ab\u81ea\u52a8\u5ba1\u6838\uff08\u5982\u679c\u6ca1\u770b\u5230\uff0c\u5c31\u8981\u53bb\u67e5\u4f60\u7684\u90ae\u7bb1\u662f\u5426\u6709\u82f9\u679c\u516c\u53f8\u53d1\u6765\u7684\u90ae\u4ef6\u4e86\uff09\uff0c\u7136\u540e\u5927\u6982\u51e0\u5206\u949f\u540e\u81ea\u52a8\u5ba1\u6838\u6210\u529f\uff0c\u5c31\u80fd\u5728 \u201cApp Store\u201d \u90a3\u91cc\u7684 \u201c\u6784\u5efa\u7248\u672c\u201d \u65c1\u8fb9\u770b\u5230\u51fa\u73b0\u4e00\u4e2a + \u53f7\u4e86\uff0c\u70b9\u51fb\u9009\u62e9\u540e\uff0c\u5e76\u4e14\u586b\u5199 \u201c\u6b64\u7248\u672c\u7684\u65b0\u589e\u5185\u5bb9\u201d \uff0c\u5c31\u53ef\u4ee5\u70b9\u51fb\u201c\u5b58\u50a8\u201d\u548c\u201c\u63d0\u4ea4\u4ee5\u4f9b\u5ba1\u6838\u201d\u6309\u94ae\u4e86\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u4f7f\u7528-cocoapods-\u5b89\u88c5-ios-\u7b2c\u4e09\u65b9\u5e93",children:"\u4f7f\u7528 Cocoapods \u5b89\u88c5 iOS \u7b2c\u4e09\u65b9\u5e93"}),"\n",(0,o.jsx)(n.p,{children:"\u9996\u5148\u662f\u5b89\u88c5 cocoapods \u81ea\u8eab"}),"\n",(0,o.jsx)(n.p,{children:"sudo gem install cocoapods"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 ",(0,o.jsx)(n.code,{children:"ios/"})," \u76ee\u5f55\u4e2d\u8fd0\u884c ",(0,o.jsx)(n.code,{children:"pod init"})," \u4ee5\u751f\u6210 Podfile \u6587\u4ef6\uff0c\u7136\u540e\u53ef\u4ee5\u6309\u9700\u4fee\u6539\uff0c\u63a8\u8350\u6309\u7167\u4e0b\u9762\u4f1a\u63d0\u5230\u7684 ",(0,o.jsx)(n.a,{href:"https://github.com/unimodules/react-native-unimodules",children:"react-native-unimodules"})," \u7684 README.md \u8bf4\u7684\u90a3\u6837\u4fee\u6539 ",(0,o.jsx)(n.code,{children:"ios/Podfile"})," \u3002\u9664\u4e86 react-native-unimodules \u5916\uff0c\u5728 react-native@0.60 \u53ca\u66f4\u9ad8\u7248\u672c\u4e00\u822c\u662f\u4e0d\u9700\u8981\u4fee\u6539 ",(0,o.jsx)(n.code,{children:"ios/Podfile"})," \u7684\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6700\u540e\u5c31\u53ef\u4ee5\u8fd9\u6837\u7b80\u5355\u5730\u5b89\u88c5 iOS \u7b2c\u4e09\u65b9\u5e93\u4e86\uff08\u800c\u4e0d\u662f\u50cf\u524d\u6587\u90a3\u6837\u8fd8\u8981\u624b\u5de5\u4e0b\u8f7d ",(0,o.jsx)(n.code,{children:"node_modules/react-native/third-party"})," \uff09:"]}),"\n",(0,o.jsx)(n.p,{children:"pod install"}),"\n",(0,o.jsxs)(n.p,{children:["\u5b89\u88c5\u5b8c\u540e\u5b83\u4f1a\u63d0\u793a\u9000\u51fa Xcode \u8fdb\u7a0b\uff0c\u5e76\u4e14\u4e0b\u6b21 Xcode \u542f\u52a8\u540e\u9700\u8981 ",(0,o.jsx)(n.code,{children:"Open another project..."})," \u6253\u5f00 ",(0,o.jsx)(n.code,{children:"ios/"})," \u76ee\u5f55\u4e2d\u7684 ",(0,o.jsx)(n.code,{children:".xcworkspace"})," \u800c\u975e ",(0,o.jsx)(n.code,{children:".xcodeproj"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"pod install"})," \u65b9\u5f0f\u7684\u8bdd\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u8fd0\u884c\u4ee5\u524d\u5b89\u88c5 react-native \u7b2c\u4e09\u65b9\u7ec4\u4ef6\u7ecf\u5e38\u6240\u9700\u7684 ",(0,o.jsx)(n.code,{children:"react-native link"})," \u547d\u4ee4\uff0c\u5982\u679c\u66fe\u7ecf\u8fd0\u884c\u8fc7\uff0c\u5219\u9700\u8981 ",(0,o.jsx)(n.code,{children:"react-native unlink"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"pod install"})," \u901f\u5ea6\u5f88\u6162\u6216\u8005\u5e72\u8106\u65e0\u6cd5\u5b8c\u6210\uff0c\u53ef\u4ee5\u53c2\u8003 ",(0,o.jsx)(n.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/help/CocoaPods/",children:"\u6e05\u534e\u5927\u5b66\u5f00\u6e90\u8f6f\u4ef6\u955c\u50cf\u7ad9 CocoaPods \u955c\u50cf\u4f7f\u7528\u5e2e\u52a9"})]}),"\n",(0,o.jsxs)(n.p,{children:["\u6ce8\uff1a\u8bb8\u591a\u7f51\u9875\u4ecb\u7ecd\u7684\u6e05\u534e\u955c\u50cf\u4e0b\u8f7d\u901f\u5ea6\u5f88\u6162\u751a\u81f3\u65e0\u6cd5\u4e0b\u8f7d\u5b8c\u6210\uff0c\u6240\u4ee5\u63a8\u8350\u5c06\u4e0b\u9762\u8bed\u53e5\u4e2d\u7684 ",(0,o.jsx)(n.code,{children:"https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git"})," \u66ff\u6362\u4e3a ",(0,o.jsx)(n.code,{children:"https://gitee.com/mirrors/CocoaPods-Specs.git"})," \u3002\u5982\u679c\u4f60\u80fd\u4e0b\u8f7d\u5927\u578b\u7684 github \u4ed3\u5e93\u800c\u4e0d\u4e2d\u9014\u88ab\u65ad\u6389\u7684\u8bdd\uff08\u6bd4\u5982\u901a\u8fc7 ",(0,o.jsx)(n.code,{children:"git config --global http.proxy \u4f60\u7684\u4ee3\u7406\u670d\u52a1\u5668"})," \u7684\u65b9\u5f0f\uff09\uff0c\u5219\u63a8\u8350\u66ff\u6362\u4e3a\u66f4\u52a0\u5b9e\u65f6\u66f4\u65b0\u7684 ",(0,o.jsx)(n.code,{children:"https://github.com/CocoaPods/Specs.git"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["cd ~/.cocoapods/repos\npod repo remove master\ngit clone --depth 1 ",(0,o.jsx)(n.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git",children:"https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git"})," master"]}),"\n",(0,o.jsxs)(n.p,{children:["\u540e\u7eed\u5982\u679c ",(0,o.jsx)(n.code,{children:"pod install"})," \u65f6\u51fa\u73b0 ",(0,o.jsx)(n.code,{children:"CocoaPods could not find compatible versions for pod"})," \u7684\u9519\u8bef\u800c\u60f3\u8981\u66f4\u65b0\uff0c\u53ea\u9700"]}),"\n",(0,o.jsx)(n.p,{children:"cd ~/.cocoapods/repos/master\ngit pull"}),"\n",(0,o.jsx)(n.p,{children:"\u5373\u53ef\u3002\u6700\u540e\u8fdb\u5165\u81ea\u5df1\u7684\u5de5\u7a0b\uff0c\u5728\u81ea\u5df1\u5de5\u7a0b\u7684 Podfile \u7b2c\u4e00\u884c\u52a0\u4e0a\uff1a"}),"\n",(0,o.jsxs)(n.p,{children:["source '",(0,o.jsx)(n.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git",children:"https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git"}),"'"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6216\u662f\u8ba9 Podfile \u4e2d\u4fdd\u6301 ",(0,o.jsx)(n.code,{children:"https://github.com/CocoaPods/Specs.git"})," \u5e76\u4e14\u5c06 ",(0,o.jsx)(n.code,{children:"~/.cocoapods/repos/master/.git/config"})," \u4e2d\u7684 ",(0,o.jsx)(n.code,{children:"https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git"})," \u66ff\u6362\u4e3a ",(0,o.jsx)(n.code,{children:"https://github.com/CocoaPods/Specs.git"})," \uff0c\u5219\u4e5f\u662f\u53ef\u4ee5\u7684\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u7136\u540e\u5c31\u53ef\u4ee5\u6b63\u5e38 ",(0,o.jsx)(n.code,{children:"pod install"})," \u4e86\uff08\u7b2c\u4e00\u6b21\u53ef\u80fd\u9700\u8981\u5220\u9664\u5df2\u7ecf\u5b58\u5728\u7684 Podfile.lock \u6587\u4ef6\uff09\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u53e6\u5916\uff0c\u6709\u65f6\u5019\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"git reset"})," \u5230\u67d0\u4e2a\u63d0\u4ea4\u70b9\u540e\u505a ",(0,o.jsx)(n.code,{children:"pod install"})," \u65f6\u51fa\u73b0"]}),"\n",(0,o.jsxs)(n.p,{children:["NoMethodError - undefined method `each' for nil",":NilClass"]}),"\n",(0,o.jsx)(n.p,{children:"\u7684\u9519\u8bef\uff0c\u8fd9\u4e00\u822c\u4e5f\u662f\u9700\u8981\u5220\u9664 Podfile.lock \u6587\u4ef6\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"pod install"})," \u65f6\u5361\u6b7b\u5728\u67d0\u4e2a ",(0,o.jsx)(n.code,{children:"Installing"})," \u4e0a\uff0c\u6216\u8005\u6700\u7ec8\u5b83\u62a5\u51fa\u6765 ",(0,o.jsx)(n.code,{children:"LibreSSL SSL_connect: Operation timed out in connectiong to github.com:443"}),"\uff0c\u5219\u53ef\u4ee5\u53c2\u7167",(0,o.jsx)(n.a,{href:"https://blog.csdn.net/u011374880/article/details/106327526",children:"pod install/update \u5361\u4f4f"}),"\u4e00\u6587\u91cc\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u6216\u662f\u5728 ",(0,o.jsx)(n.code,{children:"~/.gitconfig"})," \u4e2d\u6dfb\u52a0"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'    [http "https://github.com/"]\n        proxy = http://\u4f60\u7684\u79d1\u5b66\u4e0a\u7f51\u4ee3\u7406IP:\u7aef\u53e3\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"pod install"})," \u65f6\u51fa\u73b0\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"[!] "}),"OpenSSL-Universal",(0,o.jsx)(n.code,{children:"requires CocoaPods version"}),">= 1.9",(0,o.jsx)(n.code,{children:", which is not satisfied by your current version, "}),"1.8.4",(0,o.jsx)(n.code,{children:"."})," \u8fd9\u6837\u7684\u9519\u8bef\uff0c\u5219\u5148\u9700\u8981"]}),"\n",(0,o.jsx)(n.p,{children:"sudo gem install cocoapods -v 1.9.0"}),"\n",(0,o.jsx)(n.p,{children:"\u4f46\u5982\u679c\u6b64\u65f6\u51fa\u73b0\u6bd4\u5982"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Fetching: ffi-1.15.0.gem (100%)\nBuilding native extensions.  This could take a while...\nERROR:  Error installing cocoapods:\n  ERROR: Failed to build gem native extension.\n\n    current directory: /Library/Ruby/Gems/2.3.0/gems/ffi-1.15.0/ext/ffi_c\n/System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/bin/ruby -r ./siteconf20210308-55404-19a0g74.rb extconf.rb\nmkmf.rb can't find header files for ruby at /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/lib/ruby/include/ruby.h\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Library/Ruby/Gems/2.3.0/gems/ffi-1.15.0 for inspection.\nResults logged to /Library/Ruby/Gems/2.3.0/extensions/universal-darwin-18/2.3.0/ffi-1.15.0/gem_make.out\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u8fd9\u6837\u7684\u9519\u8bef\uff0c\u5219\u5148\u9700\u8981\u6bd4\u5982"}),"\n",(0,o.jsx)(n.p,{children:"open /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f46\u5982\u679c\u6b64\u65f6\u51fa\u73b0\u627e\u4e0d\u5230\u8fd9\u4e2a ",(0,o.jsx)(n.code,{children:".pkg"})," \u6587\u4ef6\u7684\u9519\u8bef\uff0c\u5219\u5148\u9700\u8981"]}),"\n",(0,o.jsx)(n.p,{children:"xcode-select --install"}),"\n",(0,o.jsx)(n.p,{children:"\u4f46\u5982\u679c\u6b64\u65f6\u51fa\u73b0"}),"\n",(0,o.jsx)(n.p,{children:'xcode-select: error: command line tools are already installed, use "Software Update" to install updates'}),"\n",(0,o.jsx)(n.p,{children:"\u8fd9\u6837\u7684\u9519\u8bef\uff0c\u5219\u5148\u9700\u8981"}),"\n",(0,o.jsx)(n.p,{children:"rm -rf /Library/Developer/CommandLineTools"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"pod install"})," \u65f6\u51fa\u73b0\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"Could not find 'minitest'"})," \u8fd9\u6837\u7684\u9519\u8bef\uff0c\u5219\u9700\u8981"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"unset GEM_HOME\nunset GEM_PATH\nunset MY_RUBY_HOME\nunset RUBY\nunset IRBRC\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u4e00\u4e9b-cocoapods-\u4f7f\u7528\u6280\u5de7",children:"\u4e00\u4e9b Cocoapods \u4f7f\u7528\u6280\u5de7"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"pod install"})," \u80cc\u540e\u7684\u539f\u7406\u5176\u5b9e\u5c31\u662f\u751f\u6210\u4e86\u4e00\u4e2a ",(0,o.jsx)(n.code,{children:"ios/Pods/"})," \u76ee\u5f55\uff0c\u5e76\u5728\u91cc\u9762\u81ea\u52a8\u653e\u5165\u6216\u5220\u9664\u5404\u4e2a\u7b2c\u4e09\u65b9\u5e93\u7684 ",(0,o.jsx)(n.code,{children:".h"})," \u5934\u6587\u4ef6\u53ca\u7f16\u8bd1\u914d\u7f6e\u6587\u4ef6\u3002 ",(0,o.jsx)(n.code,{children:".h"})," \u5934\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u540d\u5c31\u662f\u76f8\u5e94\u7b2c\u4e09\u65b9\u5e93\u7684 ",(0,o.jsx)(n.code,{children:".podspec"})," \u6587\u4ef6\u4e2d\u5199\u660e\u7684 ",(0,o.jsx)(n.code,{children:"name"})," \u5b57\u6bb5\uff0c\u8fd9\u6837\u4f60\u81ea\u5df1\u7684\u6e90\u4ee3\u7801\u6216\u5176\u5b83\u7b2c\u4e09\u65b9\u5e93\u5c31\u80fd\u7b80\u5355\u5730\u4ee5 ",(0,o.jsx)(n.code,{children:"<SomeName/some.h>"})," \u6765\u8c03\u7528\u8be5\u5e93\u7684\u529f\u80fd\u4e86\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:".podspec"})," \u6587\u4ef6\u4e2d\u7684 ",(0,o.jsx)(n.code,{children:"source"})," \u5b57\u6bb5\u867d\u7136\u662f\u5fc5\u987b\u7684\uff0c\u4f46\u53ea\u8981\u4f60\u81ea\u5df1\u7684\u6e90\u4ee3\u7801\u5e76\u4e0d\u6253\u7b97\u53d1\u5e03\u5230 cocoapods \u5219 ",(0,o.jsx)(n.code,{children:"source"})," \u5b57\u6bb5\u91cc\u9762\u7684\u5185\u5bb9\u662f\u53ef\u4ee5\u778e\u5199\u7684\uff0c\u56e0\u4e3a\u5c31\u7b97\u4f60\u5199\u4e86\u4e2a\u4e0d\u5b58\u5728\u7684 ",(0,o.jsx)(n.code,{children:".git"})," \u7f51\u7edc\u94fe\u63a5\uff0c ",(0,o.jsx)(n.code,{children:"pod install"})," \u4ecd\u7136\u4f1a\u4ece\u5f53\u524d\u786c\u76d8\u4e2d\u8be5 ",(0,o.jsx)(n.code,{children:".podspec"})," \u6587\u4ef6\u6240\u5728\u8def\u5f84\u4e2d\u8f6f\u94fe\u63a5 ",(0,o.jsx)(n.code,{children:"source_files"})," \u5b57\u6bb5\u6307\u5b9a\u7684 ",(0,o.jsx)(n.code,{children:".h"})," \u5934\u6587\u4ef6\u5230 ",(0,o.jsx)(n.code,{children:"ios/Pods/"})," \u76f8\u5e94\u76ee\u5f55\u4e2d\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:".podspec"})," \u6587\u4ef6\u4e2d\u7684 ",(0,o.jsx)(n.code,{children:"source_files"})," \u5b57\u6bb5\u4e2d\u7684\u8def\u5f84\u5fc5\u987b\u662f\u5f53\u524d ",(0,o.jsx)(n.code,{children:".podspec"})," \u6587\u4ef6\u6240\u5728\u8def\u5f84\u53ca\u5176\u5b50\u76ee\u5f55\uff0c\u5982\u679c\u7528 ",(0,o.jsx)(n.code,{children:"../"})," \u6765\u6307\u660e\u4e0a\u5c42\u76ee\u5f55\u7684\u8bdd\uff0c\u867d\u7136 ",(0,o.jsx)(n.code,{children:"pod install"})," \u65f6\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u4efb\u4f55 ",(0,o.jsx)(n.code,{children:".h"})," \u6587\u4ef6\u88ab\u8f6f\u94fe\u63a5\u8fc7\u53bb\u5bfc\u81f4\u540e\u7eed\u7f16\u8bd1\u5931\u8d25\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u6709\u81ea\u5df1\u7684\u5e26\u6709 ",(0,o.jsx)(n.code,{children:"Headers/"})," \u76ee\u5f55\u7684 pod \u5e93\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"SomeFrame.framework"})," \uff0c\u4e5f\u6709\u4f7f\u7528\u5230\u8be5 framework \u7684\u81ea\u5df1\u7684\u53e6\u4e00\u4e2a pod \u6e90\u4ee3\u7801\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"SomeSource"})," \uff0c\u800c\u4e14\u8fd9\u4e24\u8005\u90fd\u4e0d\u6253\u7b97\u53d1\u5e03\u5230 cocoapods \uff0c\u5219\u9664\u4e86\u5728 ",(0,o.jsx)(n.code,{children:"Podfile"})," \u4e2d\u5c06\u8fd9\u4e24\u4e2a pod \u90fd\u5199\u8fdb\u53bb\u4e4b\u5916\uff0c \u8fd8\u9700\u8981\u5728 ",(0,o.jsx)(n.code,{children:"SomeSource"})," \u7684 ",(0,o.jsx)(n.code,{children:".podspec"})," \u6587\u4ef6\u4e2d\u5199\u660e ",(0,o.jsx)(n.code,{children:"s.dependency 'SomeFrame'"})," \u8bed\u53e5\uff0c\u5426\u5219\u867d\u7136 ",(0,o.jsx)(n.code,{children:"pod install"})," \u65f6\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u540e\u7eed\u5728\u7f16\u8bd1\u5230 ",(0,o.jsx)(n.code,{children:"SomeSource"})," \u65f6\u4f1a\u62a5\u9519\u8bf4\u627e\u4e0d\u5230 ",(0,o.jsx)(n.code,{children:"<SomeFrame/some.h>"})," \u6587\u4ef6\u3002\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u770b\u5230\u82f9\u679c\u516c\u53f8\u7f16\u8bd1\u7cfb\u7edf\u4e00\u4e2a\u53cd\u4eba\u7c7b\u7684\u8bbe\u8ba1\uff08\u53e6\u4e00\u4e2a\u53cd\u4eba\u7c7b\u7684\u662f objectC \u4e2d\u7684\u65b9\u62ec\u53f7 [] \u51fd\u6570\u8c03\u7528\u8bed\u6cd5\uff09\uff1a\u4f60\u65e0\u6cd5\u6210\u529f ",(0,o.jsx)(n.code,{children:"#import <SomeFrame.framework/Headers/some.h>"})," \uff0c\u800c\u53ea\u80fd\u5728\u5982\u4e0a\u6240\u8bf4 ",(0,o.jsx)(n.code,{children:"s.dependency 'SomeFrame'"})," \u4e4b\u540e\u624d\u80fd\u6210\u529f ",(0,o.jsx)(n.code,{children:"#import <SomeFrame/some.h>"})," \uff0c\u867d\u7136\u5b9e\u9645\u4e0a\u786c\u76d8\u91cc\u7684 ",(0,o.jsx)(n.code,{children:"some.h"})," \u5e76\u4e0d\u5b58\u5728\u4e8e\u4efb\u4f55\u53eb\u505a ",(0,o.jsx)(n.code,{children:"SomeFrame/"})," \u7684\u76ee\u5f55\u4e2d\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"pod install"})," \u8fd0\u884c\u7ed3\u675f\u540e\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u8b66\u544a\u63d0\u793a ",(0,o.jsx)(n.code,{children:"target overrides"})," \uff0c\u8fd9\u53ef\u4ee5\u53c2\u8003 ",(0,o.jsxs)(n.a,{href:"https://www.jianshu.com/p/dfb2a5834cd0",children:["\u89e3\u51b3\u4f7f\u7528 CocoaPods \u6267\u884c pod install \u65f6\u51fa\u73b0 - Use the ",(0,o.jsx)(n.code,{children:"$\uff08inherited\uff09"})," flag ... \u8b66\u544a"]})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u53ef\u4ee5\u53c2\u9605 ",(0,o.jsx)(n.a,{href:"https://www.jianshu.com/p/b8b889610b7e",children:"Podfile\u6587\u4ef6\u7528\u6cd5\u8be6\u89e3"})," \u7b49\u6587\u7ae0\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"redux",children:"Redux"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://segmentfault.com/a/1190000003099895",children:"\u8fd8\u5728\u7ea0\u7ed3 Flux \u6216 Relay\uff0c\u6216\u8bb8 Redux \u66f4\u9002\u5408\u4f60"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"http://cn.redux.js.org/",children:"Redux \u4e2d\u6587\u6587\u6863 "})}),"\n",(0,o.jsx)(n.p,{children:"npm install --save redux react-redux\nnpm install --save-dev redux-devtools"}),"\n",(0,o.jsx)(n.h3,{id:"isolating-redux-sub-apps",children:"Isolating Redux Sub-Apps"}),"\n",(0,o.jsxs)(n.p,{children:["Want render a react-native APP as a sub-app (library) in other APP? I implement this requirement in ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/PixelShapeRN/commit/9728e45ffe4a5046d7cd8076b2b103c5eef079c5",children:"let other react-native APP can embed PixelShapeRN as sub-app"}),", which ref to ",(0,o.jsx)(n.a,{href:"https://redux.js.org/usage/isolating-redux-sub-apps",children:"Isolating Redux Sub-Apps"})," and ",(0,o.jsx)(n.a,{href:"https://gist.github.com/gaearon/eeee2f619620ab7b55673a4ee2bf8400",children:"Breaking out of Redux paradigm to isolate apps"})]}),"\n",(0,o.jsx)(n.h2,{id:"react-native-unistyles-3",children:"react-native-unistyles 3"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528\u4e86 RN \u65b0\u67b6\u6784\u7684 ",(0,o.jsx)(n.code,{children:"react-native-unistyles@3.x"})," \u53ef\u4ee5\u907f\u514d re-render \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u5728 FlatList \u7684 ref \u4e2d\u4f7f\u7528\u4e86\u53e4\u8001\u7684\u6bd4\u5982 ",(0,o.jsx)(n.code,{children:"ref={view => this.flatListRef = view}"})," \u5199\u6cd5\uff0c\u4f1a ",(0,o.jsx)(n.code,{children:"forwardedRefReturnFn is not a function (it is Object)"})," \u5bfc\u81f4\u5d29\u6e83\uff0c\u5e94\u8be5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"flatListRef = React.createRef(); ... ref={this.flatListRef}"})," \u6216 ",(0,o.jsx)(n.code,{children:"const flatListRef = useRef(null); ... ref={flatListRef}"})," \u7684\u5199\u6cd5\u3002\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"@shopify/flash-list"})," \u66ff\u4ee3\uff08\u81f3\u5c11\u662f RN 0.79.7 \u7248\u672c\u7684\uff09 ",(0,o.jsx)(n.code,{children:"FlatList"})," \u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0a\u8ff0\u5d29\u6e83\u4e0e\u662f\u5426 ",(0,o.jsx)(n.code,{children:"import {StyleSheet} from 'react-native-unistyles'"})," \u4e86\u65e0\u5173\uff0c\u53ea\u4e0e\u8be5 js \u6587\u4ef6\u662f\u5426\u4f4d\u4e8e ",(0,o.jsx)(n.a,{href:"https://www.unistyl.es/v3/other/babel-plugin",children:"Babel plugin _ react-native-unistyles"})," \u5185\u6240\u8ff0 root \u9009\u9879\u4e4b\u5185\u6709\u5173\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u53e6\u5916\uff0c\u5982\u679c\u4e0d ",(0,o.jsx)(n.code,{children:"import {StyleSheet} from 'react-native-unistyles'"})," \uff0c\u5219 ",(0,o.jsx)(n.code,{children:"StyleSheet.create((theme, rt) => {console.log(rt); return {};});"})," \u6ca1\u6709\u4efb\u4f55\u6253\u5370\u8f93\u51fa\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6240\u4ee5\uff0c\u9664\u4e86\u6309\u7167 ",(0,o.jsx)(n.a,{href:"https://www.unistyl.es/v3/start/configuration",children:"Configuration _ react-native-unistyles"})," \u5728 ",(0,o.jsx)(n.code,{children:"index.js"})," \u4e2d\u8fdb\u884c ",(0,o.jsx)(n.code,{children:"StyleSheet.configure({})"})," \u4ee5\u53ca\u8bbe\u7f6e\u597d ",(0,o.jsx)(n.code,{children:"babel.config.js"})," \u4e4b\u5916\uff0c\u8fd8\u9700 ",(0,o.jsx)(n.code,{children:"import {StyleSheet} from 'react-native-unistyles'"})," \u624d\u884c\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"react-native-unimodules",children:"react-native-unimodules"}),"\n",(0,o.jsxs)(n.p,{children:["\u6ce8\uff1a\u6700\u65b0\u7248 RN \u5df2\u7ecf\u88ab\u4e0a\u9762\u63d0\u5230\u7684 ",(0,o.jsx)(n.code,{children:"npx install-expo-modules"})," \u66ff\u4ee3\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["react-native \u5174\u8d77\u4e4b\u521d\uff0c\u5404\u79cd\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u767e\u5bb6\u4e89\u9e23\uff0c\u4f46\u4e5f\u826f\u83a0\u4e0d\u9f50\u3002\u6700\u8fd1\u770b\u6765 react-native-unimodules \u6e10\u6709\u4e00\u7edf\u4e4b\u52bf\uff0c\u5b83\u652f\u6301\u8bb8\u591a\u5f00\u53d1 APP \u65f6\u7528\u5f97\u5230\u7684\u65b9\u65b9\u9762\u9762\u7684 ",(0,o.jsx)(n.a,{href:"https://docs.expo.io/versions/latest/bare/unimodules-full-list/",children:"Packages"})," \uff0c\u800c\u4e14\u5176\u4e2d\u6240\u8c13 bare workflow \u4e5f\u5c31\u662f\u4e0d\u9700\u8981\u548c Expo \u7ed1\u5b9a\u7684\u72ec\u7acb Packages \u5df2\u7ecf\u8db3\u591f\u591a\u4e86\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u662f\u5728 iOS \u4e2d\u4f7f\u7528 react-native-unimodules \uff0c\u5219\u5fc5\u987b\u8981\u4f7f\u7528\u4e0a\u9762\u63d0\u5230\u7684 ",(0,o.jsx)(n.code,{children:"pod install"})," \u624d\u80fd\u6b63\u5e38\u8fd0\u884c\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"install-react-native-unimodules-without-install-expo",children:"install react-native-unimodules without install expo"}),"\n",(0,o.jsx)(n.p,{children:"The worked well version is"}),"\n",(0,o.jsx)(n.p,{children:'"react-native-unimodules": "0.10.1",'}),"\n",(0,o.jsx)(n.p,{children:"and related"}),"\n",(0,o.jsx)(n.p,{children:'"expo-application": "2.4.1",\n"expo-document-picker": "8.3.0",\n"expo-gl": "8.4.0",\n"expo-keep-awake": "8.0.0",\n"expo-location": "10.0.0",'}),"\n",(0,o.jsxs)(n.p,{children:["The installation of ",(0,o.jsx)(n.code,{children:"react-native-unimodules"})," can ref to this commit ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/snakeRN/commit/90983816de3ad2a4da47ffa0f6d1659c2688be3e",children:"expo -> react-native: add react-native-unimodules"}),", and if RN >= 0.65 , to compile react-native-unimodules, need downgrade to gradle-6.7.1-all.zip in ",(0,o.jsx)(n.code,{children:"YOUR_APP/android/gradle/wrapper/gradle-wrapper.properties"})," , and because ",(0,o.jsx)(n.code,{children:"invalidate"})," replaces ",(0,o.jsx)(n.code,{children:"onCatalystInstanceDestroy"})," in RN >= 0.65, ref to ",(0,o.jsx)(n.a,{href:"https://github.com/facebook/react-native/commit/18c8417290823e67e211bde241ae9dde27b72f17",children:"https://github.com/facebook/react-native/commit/18c8417290823e67e211bde241ae9dde27b72f17"}),", you need"]}),"\n",(0,o.jsxs)(n.p,{children:['sed -i -e "s/^}$/public void invalidate() ','}/" node_modules/@unimodules/react-native-adapter/android/src/main/java/org/unimodules/adapters/react/services/CookieManagerModule.java']}),"\n",(0,o.jsx)(n.h2,{id:"\u4e00\u4e9b-bug-\u7684\u89e3\u51b3\u65b9\u6cd5",children:"\u4e00\u4e9b BUG \u7684\u89e3\u51b3\u65b9\u6cd5"}),"\n",(0,o.jsx)(n.h3,{id:"fixed-typeerror-network-request-failed-when-upload-file-to-http-not-https-with-android-debug-builds",children:(0,o.jsxs)(n.a,{href:"https://github.com/facebook/react-native/issues/33217#issuecomment-1159844475",children:["fixed ",(0,o.jsx)(n.code,{children:"TypeError: Network request failed"})," when upload file to http not https with Android debug builds"]})}),"\n",(0,o.jsxs)(n.h3,{id:"fixed-xmobile-calling-netinterfaceaddrs-fails-on-android-sdk-30-if-use-go-on-android--11",children:["Fixed ",(0,o.jsx)(n.a,{href:"https://github.com/golang/go/issues/40569#issuecomment-1190950966",children:"x/mobile: Calling net.InterfaceAddrs() fails on Android SDK 30"})," if use GO on Android >= 11"]}),"\n",(0,o.jsxs)(n.h3,{id:"rootdirnode_modulesreact-nativeandroid-as-react-native-android-import-from-node_modules-directory-does-not-working",children:[(0,o.jsx)(n.code,{children:"$rootDir/../node_modules/react-native/android"})," as ",(0,o.jsx)(n.a,{href:"https://stackoverflow.com/questions/50354939/react-native-android-import-from-node-modules-directory-does-not-working",children:"React-Native Android import from node_modules directory does not working"})]}),"\n",(0,o.jsxs)(n.p,{children:["The 2022-11 issue ",(0,o.jsx)(n.a,{href:"https://github.com/facebook/react-native/issues/35210",children:"No matching variant of com.facebook.react:react-native:0.71.0-rc.0 was found."})," will cause one of Android build/run failures below:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"AAPT: error: resource android:attr/lStar not found\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"java.lang.IncompatibleClassChangeError: Found class com.facebook.react.uimanager.events.EventDispatcher, but interface was expected\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Manifest merger failed : uses-sdk:minSdkVersion 16 cannot be smaller than version 21 declared in library [com.facebook.react:react-native:0.71.0-rc.0] ~/.gradle/caches/transforms-2/files-2.1/b7e5811cc2418a7984972c8ebe02d2c4/jetified-react-native-0.71.0-rc.0-debug/AndroidManifest.xml as the library might be using APIs not available in 16\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Could not download react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0): No cached version available for offline mode\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"/@minar-kotonoha/react-native-threads/android/src/main/java/com/reactlibrary/ReactContextBuilder.java:15: \u9519\u8bef: \u627e\u4e0d\u5230\u7b26\u53f7\nimport com.facebook.react.bridge.NativeModuleCallExceptionHandler;\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Then fix below in ",(0,o.jsx)(n.code,{children:"android/app/build.gradle"})," does not working anymore:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'implementation ("com.facebook.react:react-native:0.63.2") { force = true }\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'implementation "com.facebook.react:react-native:0.63.2!!"\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"android {\n    ....\n    configurations.all {\n        resolutionStrategy {\n            // failOnVersionConflict()\n            // force 'com.facebook.react:react-native:0.63.2'\n            substitude module('com.facebook.react:react-native:+') with module('com.facebook.react:react-native:0.63.2')\n        }\n    }\n}\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"android {\n    ....\n    configurations.all {\n          resolutionStrategy.eachDependency { DependencyResolveDetails details ->\n            if (details.requested.group == 'com.facebook.react'\n                && details.requested.name == 'react-native') {\n                details.useVersion \"0.63.2\"\n                // details.useTarget group:'com.facebook.react', name:'react-native', version:\"0.63.2\"\n                // it.substitute it.module(\"com.facebook.react:react-native:+\") with module(\"com.facebook.react:react-native:0.63.2\")\n            }\n        }\n    }\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Finally fix below in ",(0,o.jsx)(n.code,{children:"android/build.gradle"}),"  can work ref to ",(0,o.jsx)(n.a,{href:"https://github.com/facebook/react-native/issues/35204#issuecomment-1304740228",children:"https://github.com/facebook/react-native/issues/35204#issuecomment-1304740228"})," :"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'    allprojects {\n        repositories {\n            exclusiveContent {\n                filter {\n                    includeGroup "com.facebook.react"\n                }\n                forRepository {\n                    maven {\n                        url "$rootDir/../node_modules/react-native/android"\n                    }\n                }\n            }\n        }\n        ...\n        // actually now can remove below lines\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url("$rootDir/../node_modules/react-native/android")\n        }\n    }\n'})}),"\n",(0,o.jsxs)(n.h3,{id:"recompile-with--xlint-for-details",children:["Recompile with -Xlint",":deprecation"," for details"]}),"\n",(0,o.jsx)(n.p,{children:"If got an error like below:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Note: ... SOME.java uses or overrides a deprecated API\nNote: Recompile with -Xlint:deprecation for details.\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'YOUR_APP/node_modules/react-native/react.gradle' line: 319\n\n* What went wrong:\nExecution failed for task ':app:packageDebug'.\n> react_80jkne8u4hv8b3lwi0xrttidv$_run_closure4$_closure6$_closure10$_closure18\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Then you need remove ",(0,o.jsx)(n.code,{children:"~/.gradle/caches/"}),', if some file in it can\'t be removed for "file is in use" on Windows, you should restart Windows and remove it again. Ref to ',(0,o.jsx)(n.a,{href:"https://github.com/facebook/react-native/issues/28665#issuecomment-826251902",children:"https://github.com/facebook/react-native/issues/28665#issuecomment-826251902"})," ."]}),"\n",(0,o.jsxs)(n.h3,{id:"compile-some-3rd-lib-got-read-timed-out-could-not-get-httpsmavengooglecomcomfacebookreactreact-nativemaven-metadataxml",children:["Compile some 3rd lib got ",(0,o.jsx)(n.code,{children:"Read timed out"})," ",(0,o.jsx)(n.code,{children:"Could not GET 'https://maven.google.com/com/facebook/react/react-native/maven-metadata.xml'"})]}),"\n",(0,o.jsxs)(n.p,{children:["Ref to ",(0,o.jsx)(n.a,{href:"https://github.com/flyskywhy/ReactWebNative8Koa/commit/96fad3d9524e64fa309d0e72a4d9ad4808a1470f",children:"RN 0.63.2 -> 0.70.5: fix Read timed out when compiling on Android"})," , need add below into ",(0,o.jsx)(n.code,{children:"settings.gradle"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"// ref to https://docs.gradle.org/7.5.1/userguide/declaring_repositories.html#sub:centralized-repository-declaration\ndependencyResolutionManagement {\n    // to fix `Read timed out` e.g.\n    //    > Could not resolve com.facebook.react:react-native:0.70.+.\n    //       > Failed to list versions for com.facebook.react:react-native.\n    //          > Unable to load Maven meta-data from https://maven.google.com/com/facebook/react/react-native/maven-metadata.xml.\n    //             > Could not GET 'https://maven.google.com/com/facebook/react/react-native/maven-metadata.xml'.\n    //                > Read timed out\n    //    > Could not download bcprov-jdk15on-1.48.jar (org.bouncycastle:bcprov-jdk15on:1.48)\n    //       > Could not get resource 'https://repo.maven.apache.org/maven2/org/bouncycastle/bcprov-jdk15on/1.48/bcprov-jdk15on-1.48.jar'.\n    //          > Read timed out\n    //    > Could not download guava-17.0.jar (com.google.guava:guava:17.0)\n    //       > Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/17.0/guava-17.0.jar'.\n    //          > Read timed out\n    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)\n    repositories {\n        maven { url 'https://mirrors.cloud.tencent.com/nexus/repository/maven-public/'}\n        maven { url 'https://mirrors.163.com/maven/repository/maven-public/'}\n        maven { url 'https://maven.aliyun.com/repository/google' }\n        maven { url 'https://maven.aliyun.com/repository/jcenter' }\n        maven { url 'https://maven.aliyun.com/repository/central' }\n        // maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }\n        maven { url 'https://maven.aliyun.com/nexus/content/groups/public' }\n\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(\"$rootDir/../node_modules/react-native/android\")\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(\"$rootDir/../node_modules/jsc-android/dist\")\n        }\n        mavenCentral {\n            // We don't want to fetch react-native from Maven Central as there are\n            // older versions over there.\n            content {\n                excludeGroup \"com.facebook.react\"\n            }\n        }\n        google()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["and also remove useless ",(0,o.jsx)(n.code,{children:"allprojects"})," in ",(0,o.jsx)(n.code,{children:"build.gradle"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Now after ",(0,o.jsx)(n.code,{children:"./android/gradlew clean -p ./android/"}),", you can continue your build."]}),"\n",(0,o.jsx)(n.h3,{id:"aapt-error-resource-androidattrcolorerror-not-found",children:(0,o.jsx)(n.code,{children:"AAPT: error: resource android:attr/colorError not found"})}),"\n",(0,o.jsx)(n.p,{children:"If got error like"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"> A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   > Android resource linking failed\n     ERROR: node_modules/@flyskywhy/react-native-locale-detector/android/build/intermediates/merged_res/release/values-v26/values-v26.xml:7: AAPT: error: resource android:attr/colorError not found.\n"})}),"\n",(0,o.jsxs)(n.p,{children:["you may need add below into ",(0,o.jsx)(n.code,{children:"YOUR_APP/android/build.gradle"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'subprojects {\n    afterEvaluate {\n        project ->\n            if (project.hasProperty("android")) {\n                android {\n                    compileSdkVersion = rootProject.compileSdkVersion\n                    buildToolsVersion = rootProject.buildToolsVersion\n                }\n            }\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"could-not-resolve-orgwebkitandroid-jsc",children:(0,o.jsx)(n.code,{children:"Could not resolve org.webkit:android-jsc:+"})}),"\n",(0,o.jsxs)(n.p,{children:["Downgrade gradle-6.7-all.zip (comes from RN 0.64.3) to gradle-6.2-all.zip (comes from RN 0.63.2) in ",(0,o.jsx)(n.code,{children:"android/gradle/wrapper/gradle-wrapper.properties"})," to fix it, ref to ",(0,o.jsx)(n.a,{href:"https://stackoverflow.com/a/76521192/6318705",children:"https://stackoverflow.com/a/76521192/6318705"})]}),"\n",(0,o.jsx)(n.h3,{id:"\u4e13\u6cbb\u5404\u79cd\u7f51\u7edc\u4e0d\u670d",children:(0,o.jsx)(n.a,{href:"https://incoder.org/2020/02/27/fuck-gfw/",children:"\u4e13\u6cbb\u5404\u79cd\u7f51\u7edc\u4e0d\u670d"})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>c});var i=r(6540);const o={},d=i.createContext(o);function s(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);