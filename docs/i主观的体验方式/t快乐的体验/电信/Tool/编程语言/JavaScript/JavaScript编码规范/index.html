<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript编码规范" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">JavaScript编码规范 | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://flyskywhy.github.io/g/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://flyskywhy.github.io/g/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://flyskywhy.github.io/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript编码规范"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JavaScript编码规范 | My Site"><meta data-rh="true" name="description" content="Li Zheng flyskywhy@gmail.com"><meta data-rh="true" property="og:description" content="Li Zheng flyskywhy@gmail.com"><link data-rh="true" rel="icon" href="/g/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://flyskywhy.github.io/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript编码规范"><link data-rh="true" rel="alternate" href="https://flyskywhy.github.io/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript编码规范" hreflang="en"><link data-rh="true" rel="alternate" href="https://flyskywhy.github.io/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript编码规范" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"JavaScript编码规范","item":"https://flyskywhy.github.io/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript编码规范"}]}</script><link rel="alternate" type="application/rss+xml" href="/g/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/g/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/g/assets/css/styles.faf98e1c.css">
<script src="/g/assets/js/runtime~main.6a2871a3.js" defer="defer"></script>
<script src="/g/assets/js/main.9146d61e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/g/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/g/"><div class="navbar__logo"><img src="/g/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/g/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/g/docs/">文档</a><a href="https://github.com/flyskywhy/g" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/g/docs/"><span title="README" class="linkLabel_WmDU">README</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/g/docs/i主观的体验方式/i悲伤的体验/中医/中药的“威力”"><span title="i主观的体验方式" class="categoryLinkLabel_W154">i主观的体验方式</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/i悲伤的体验/中医/中药的“威力”"><span title="i悲伤的体验" class="categoryLinkLabel_W154">i悲伤的体验</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/商/Pm/小团队项目管理软件的的选择"><span title="t快乐的体验" class="categoryLinkLabel_W154">t快乐的体验</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/商/Pm/小团队项目管理软件的的选择"><span title="商" class="categoryLinkLabel_W154">商</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/处世/如何做好人生最重要的事——选择"><span title="处世" class="categoryLinkLabel_W154">处世</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/手机/手机投屏到手机的方法"><span title="手机" class="categoryLinkLabel_W154">手机</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/政/atLJJ"><span title="政" class="categoryLinkLabel_W154">政</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Cpu/Riscv/LicheeRV使用详解"><span title="电信" class="categoryLinkLabel_W154">电信</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Cpu/Riscv/LicheeRV使用详解"><span title="Cpu" class="categoryLinkLabel_W154">Cpu</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Education/"><span title="README" class="linkLabel_WmDU">README</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Fs/Ipfs/Ipfs使用详解"><span title="Fs" class="categoryLinkLabel_W154">Fs</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Net/Vpn/VPN路由设置详解"><span title="Net" class="categoryLinkLabel_W154">Net</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Os/AliOsThings/BoneEngine使用详解"><span title="Os" class="categoryLinkLabel_W154">Os</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Test/Firebase使用详解"><span title="Test" class="categoryLinkLabel_W154">Test</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/Probe/Fs2/mips仿真器gdb调试方法"><span title="Tool" class="categoryLinkLabel_W154">Tool</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/Probe/Fs2/mips仿真器gdb调试方法"><span title="Probe" class="categoryLinkLabel_W154">Probe</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/文件管理/Syncthing/Syncthing在网络化测试机项目中的应用方式"><span title="文件管理" class="categoryLinkLabel_W154">文件管理</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/文档编辑/Maqetta/Maqetta使用详解"><span title="文档编辑" class="categoryLinkLabel_W154">文档编辑</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/C/C语言编码规范"><span title="编程语言" class="categoryLinkLabel_W154">编程语言</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/C/C语言编码规范"><span title="C" class="categoryLinkLabel_W154">C</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/Go/Go使用详解"><span title="Go" class="categoryLinkLabel_W154">Go</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript精选包"><span title="JavaScript" class="categoryLinkLabel_W154">JavaScript</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript精选包"><span title="JavaScript精选包" class="linkLabel_WmDU">JavaScript精选包</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript编码规范"><span title="JavaScript编码规范" class="linkLabel_WmDU">JavaScript编码规范</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/ReactNative优化"><span title="ReactNative优化" class="linkLabel_WmDU">ReactNative优化</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/ReactNative项目中使用Appium进行测试的方法"><span title="ReactNative项目中使用Appium进行测试的方法" class="linkLabel_WmDU">ReactNative项目中使用Appium进行测试的方法</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/ReactNative项目中命令行编译iOS版的方法"><span title="ReactNative项目中命令行编译iOS版的方法" class="linkLabel_WmDU">ReactNative项目中命令行编译iOS版的方法</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/ReactNative项目中把任意二进制文件打包进APP的方法"><span title="ReactNative项目中把任意二进制文件打包进APP的方法" class="linkLabel_WmDU">ReactNative项目中把任意二进制文件打包进APP的方法</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/React使用详解"><span title="React使用详解" class="linkLabel_WmDU">React使用详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/emsdk使用详解"><span title="emsdk使用详解" class="linkLabel_WmDU">emsdk使用详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/js比ts更好用"><span title="js比ts更好用" class="linkLabel_WmDU">js比ts更好用</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/nodec使用详解"><span title="nodec使用详解" class="linkLabel_WmDU">nodec使用详解</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/Python/Python使用详解"><span title="Python" class="categoryLinkLabel_W154">Python</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/翻墙/Clash使用详解"><span title="翻墙" class="categoryLinkLabel_W154">翻墙</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/配置管理/Git/GitLab使用详解"><span title="配置管理" class="categoryLinkLabel_W154">配置管理</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Video/PyTorch使用详解"><span title="Video" class="categoryLinkLabel_W154">Video</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/画/Ai/fastsdcpu使用详解"><span title="画" class="categoryLinkLabel_W154">画</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/g/docs/i主观的体验方式/t快乐的体验/行/杭州老和山游步道、杭州乐园2日游"><span title="行" class="categoryLinkLabel_W154">行</span></a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/g/docs/t客观的存在原理/i人体内部的存在/t肉体/现代医学的哲学理念"><span title="t客观的存在原理" class="categoryLinkLabel_W154">t客观的存在原理</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/g/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">i主观的体验方式</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">t快乐的体验</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">电信</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tool</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">编程语言</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JavaScript</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">JavaScript编码规范</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>JavaScript编码规范</h1></header><p>Li Zheng <a href="mailto:flyskywhy@gmail.com" target="_blank" rel="noopener noreferrer">flyskywhy@gmail.com</a></p>
<p>大部分编码规范可以用 Sublime Text 编辑器的 SublimeLinter-contrib-eslint 插件来自动完成，详见 <a href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/文档编辑/SublimeText/SublimeText使用详解">Sublime Text 使用详解</a> 中的“ SublimeLinter-eslint ”小节和“ JsPrettier ”小节，以及参照既有项目代码的格式，其它未尽事宜则记录在本文。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="变量">变量<a href="#变量" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量" translate="no">​</a></h2>
<p>申明变量时必须加 var (或 let)关键字。虽然 JavaScript 允许不加 var 关键字而成为全局变量，但这经常会引发 BUG 。</p>
<p>对于不需要变动的变量或者对象，统一使用 const 关键字，而不是 let (或 var)，let (或 var)因为可以修改，如果在其他地方无意中修改了该变量或者对象而导致 BUG ，需要花大量时间查找 BUG ， const 因为不能修改所以没有这个烦恼。</p>
<p>需要变动的变量或者对象，建议使用 let 代替 var 。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="对象">对象<a href="#对象" class="hash-link" aria-label="Direct link to 对象" title="Direct link to 对象" translate="no">​</a></h2>
<p>使用对象展开运算符 ... 复制对象:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// bad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const original = { a: 1, b: 2 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const copy = Object.assign(original, { c: 3 });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const original = { a: 1, b: 2 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const copy = { ...original, c: 3 };</span><br></span></code></pre></div></div>
<p>值得注意的是，不要在函数定义时在参数中直接使用空对象如 <code>function foobar({}) {}</code> ，否则有可能出现 <code>undefined is not a function(evaluating &#x27;babel Helpers.objectDestructuringEmpty(_ref5)&#x27;)</code> ，解决的办法是修改为：</p>
<p>function foobar(query = <!-- -->) </p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="数组">数组<a href="#数组" class="hash-link" aria-label="Direct link to 数组" title="Direct link to 数组" translate="no">​</a></h2>
<p>使用数组展开运算符 ... 复制数组:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// bad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const len = items.length;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const itemsCopy = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (i = 0; i &lt; len; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  itemsCopy[i] = items[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const itemsCopy = [...items];</span><br></span></code></pre></div></div>
<p>将类似数组的对象转换成一个数组，使用 Array.from :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const foo = document.querySelectorAll(&#x27;.foo&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const nodes = Array.from(foo)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="条件表达式">条件表达式<a href="#条件表达式" class="hash-link" aria-label="Direct link to 条件表达式" title="Direct link to 条件表达式" translate="no">​</a></h2>
<p>条件表达式例如 if 语句通过抽象方法 ToBoolean 强制计算它们的表达式并且总是遵守下面的规则：</p>
<ul>
<li>对象 被计算为 true</li>
<li>Undefined 被计算为 false</li>
<li>Null 被计算为 false</li>
<li>布尔值 被计算为 布尔的值</li>
<li>数字 如果是 +0、-0 或 NaN 被计算为 false，否则为 true</li>
<li>字符串 如果是空字符串 &#x27;&#x27; 被计算为 false，否则为 true</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if ([0]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 一个数组就是一个对象，对象被计算为 true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="循环体">循环体<a href="#循环体" class="hash-link" aria-label="Direct link to 循环体" title="Direct link to 循环体" translate="no">​</a></h2>
<p>循环体 for( in ) 的性能损失是 for( of ) 或者 for(;;) 的 10 倍，性能最好的是 for(;;) ，基本上 for( of ) 和 for(;;) 的性能比是 2:3 的样子，考虑到 for( of ) 写起来比 for(;;) 方便因而不容易手误，所以尽量使用 for( of ) ，如果需要 index 的才使用 for(;;) 。</p>
<p>Object 无法 .length ，所以不能改成相应的 for(;;) ，只能用 for( in ) 。</p>
<p>Array 是可以 .length 的，所以使用 for( of ) 或者 for(;;) 皆可。</p>
<p>可以使用 <a href="http://www.linuxeden.com/a/3359" target="_blank" rel="noopener noreferrer">无循环 JavaScript</a> 一文中提到的 Array 自带的 map() 等方法来替代耦合较大的 for 语句，并提高代码可读性。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="数字">数字<a href="#数字" class="hash-link" aria-label="Direct link to 数字" title="Direct link to 数字" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符串转成数字的有效方法">字符串转成数字的有效方法<a href="#字符串转成数字的有效方法" class="hash-link" aria-label="Direct link to 字符串转成数字的有效方法" title="Direct link to 字符串转成数字的有效方法" translate="no">​</a></h3>
<p>如 <a href="http://blog.csdn.net/ufo2910628/article/details/40735691" target="_blank" rel="noopener noreferrer">js 字符串转换成数字的三种方法</a> 之类的文章所说，</p>
<p>&#x27;2&#x27; - 0</p>
<p>的结果是</p>
<p>数字 2</p>
<p>但复杂情况下，比如下面的代码会有问题：</p>
<p>&#x27;2&#x27; + &#x27;2&#x27; - 0</p>
<p>其结果是</p>
<p>数字 22</p>
<p>就算是</p>
<p>&#x27;2&#x27;- 0 + &#x27;2&#x27; - 0</p>
<p>其结果也还是</p>
<p>数字 22</p>
<p>解决的方法是：</p>
<p>&#x27;2&#x27; * 1 + &#x27;2&#x27; * 1</p>
<p>上面的 * 1 也可以用 / 1 代替，或者用 parseInt() 也是另一种标准做法。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="浮点数运行不精确问题">浮点数运行不精确问题<a href="#浮点数运行不精确问题" class="hash-link" aria-label="Direct link to 浮点数运行不精确问题" title="Direct link to 浮点数运行不精确问题" translate="no">​</a></h3>
<p>由 JS 浮点数内部表示导致的计算不准确现象，如：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var a = 0.14;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = a * 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var b = 1.13;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = b * 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var c = 0.1 + 0.2</span><br></span></code></pre></div></div>
<p>a 、 b 和 c 的打印结果分别为</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">14.0000000000000002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">112.99999999999999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.30000000000000004</span><br></span></code></pre></div></div>
<p>若需要比较数值是否相等，直接比较很容易出问题。最好使用 toFixed() 函数先作处理，如</p>
<p>a = a.toFixed(2);</p>
<p>结果为 14.00</p>
<p>toFixed() 括号内参数为保留的小数位数。0为整数。支持四舍五入。</p>
<p>注： toFixed() 函数只能作用于数值型数据，字符串型数据不可调用该函数，且返回值为字符串类型数据。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hasownproperty">hasOwnProperty<a href="#hasownproperty" class="hash-link" aria-label="Direct link to hasOwnProperty" title="Direct link to hasOwnProperty" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let a = {b: undefined};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(a.hasOwnProperty(&#x27;b&#x27;); // true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(a.hasOwnProperty(&#x27;c&#x27;); // false</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="npm">npm<a href="#npm" class="hash-link" aria-label="Direct link to npm" title="Direct link to npm" translate="no">​</a></h2>
<p>避免将 package-lock.json 放入 git 仓库中，而仍然通过去掉 package.json 中的 ^ 或 ~ 符号的方式来固定版本，原因如下：</p>
<ul>
<li>node8.x 自带的 npm （比如 npm5.5.1）存在无法配合 package-lock.json 完成 <code>npm install</code> 的情况，参见 <a href="https://stackoverflow.com/questions/46619949/npm-cannot-read-property-0-of-undefined" target="_blank" rel="noopener noreferrer">NPM Cannot read property &#x27;0&#x27; of undefined</a> 。</li>
<li>有的项目成员会使用 npm 自带的仓库，有的会使用淘宝的镜像仓库，导致 package-lock.json 这个同时也记录着仓库地址的巨大文件实际上难以解决合并冲突，而且会使 ~/.npm 目录中存在大量重复的缓存文件而白白占用硬盘空间。</li>
<li>不使用 yarn 及其 yarn.lock 的原因，是因为每次运行 yarn 命令就会将 node_modules 干干净净地重置一遍，的确很 lock ，但是实际项目开发过程中项目成员常常会实验性地修改 node_modules 中的某个第三方组件，有时也会用 <code>npm postinstall</code> 对一些第三方组件打补丁，而且有时因为中国网络环境的原因，需要手动到第三方组件中添加一些自动安装过程中没有从比如亚马逊网站上下载的压缩包，所以 yarn 的这个“干净”功能反而会带来很多繁琐的重复操作。</li>
</ul>
<p>如果在 <code>npm install</code> 时加上 <code>--no-package-lock</code> 参数，就可以直接避免生成 package-lock.json 文件。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="react">React<a href="#react" class="hash-link" aria-label="Direct link to React" title="Direct link to React" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="方法顺序">方法顺序<a href="#方法顺序" class="hash-link" aria-label="Direct link to 方法顺序" title="Direct link to 方法顺序" translate="no">​</a></h3>
<p>继承 React.Component 的类的方法遵循下面的顺序：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">optional static methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getChildContext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillMount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentDidMount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillReceiveProps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shouldComponentUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentDidUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillUnmount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clickHandlers or eventHandlers like onClickSubmit() or onChangeDescription()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getter methods for render like getSelectReason() or getFooterContent()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Optional render methods like renderNavigation() or renderProfilePicture()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">render</span><br></span></code></pre></div></div>
<p>使用 require(&#x27;create-react-class&#x27;).createClass 时，方法顺序如下：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">displayName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">propTypes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contextTypes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">childContextTypes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mixins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">statics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">defaultProps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getDefaultProps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getInitialState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getChildContext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillMount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentDidMount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillReceiveProps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shouldComponentUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentDidUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">componentWillUnmount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clickHandlers or eventHandlers like onClickSubmit() or onChangeDescription()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getter methods for render like getSelectReason() or getFooterContent()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Optional render methods like renderNavigation() or renderProfilePicture()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">render</span><br></span></code></pre></div></div>
<p>eslint rules: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/sort-comp.md" target="_blank" rel="noopener noreferrer">react/sort-comp</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fiber-架构">Fiber 架构<a href="#fiber-架构" class="hash-link" aria-label="Direct link to Fiber 架构" title="Direct link to Fiber 架构" translate="no">​</a></h3>
<p>从 react-native 0.44.0 开始使用了 react 16 ，计算机系统架构中 Fiber 是比线程还要精细的纤程(或者说协程)， react 16 中的 Fiber 和系统架构中的 Fiber 不一样，指的是对渲染过程精细的调整，类似于操作系统中进程调度的分片，据说大大提高了性能，不过 Fiber 会导致 render 之前的生命周期可能被调用数次，参考 <a href="https://zhuanlan.zhihu.com/p/26027085" target="_blank" rel="noopener noreferrer">React Fiber是什么</a> 中所说“只剩下componentWillMount和componentWillUpdate这两个函数往往包含副作用，所以当使用React Fiber的时候一定要重点看这两个函数的实现”，因此编写代码时也要注意保证这两个函数被重复调用时不会产生副作用。</p>
<p>Fiber 架构是为了解决之前 React 存在的问题而提出来：</p>
<ul>
<li>问题1，之前 React 渲染是一个同步的动作，当组件庞大时，渲染时间比较长，因为是同步的，无法被打断，所以在这过程中的其他操作都是没有反应的。</li>
<li>问题2，之前 React 所有的渲染没有优先级可言，导致 React 逮住哪个组件就渲染哪个。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setstate">setState<a href="#setstate" class="hash-link" aria-label="Direct link to setState" title="Direct link to setState" translate="no">​</a></h3>
<p>不应在 render() 中调用比如 <code>this.setState({foo: bar})</code> ，而只是在 render() 中使用别的地方设置好的数据比如 this.state.foo ，否则会出现 “Warning: Cannot update during an existing state transition (such as within <code>render</code> or another component&#x27;s constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to <code>componentWillMount</code>.”</p>
<p>还有就是要注意 <a href="http://www.cnblogs.com/libin-1/p/6667442.html" target="_blank" rel="noopener noreferrer">在React组件unmounted之后setState的报错处理</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addlistener">addListener<a href="#addlistener" class="hash-link" aria-label="Direct link to addListener" title="Direct link to addListener" translate="no">​</a></h3>
<p>设置监听器去监听事件比如 addListener() 的时间点需要在触发事件之前。这个倒不是 React 所独有而是所有编程语言或框架都应如此。这里以一个 react-native 的用于管理阿里云 oss 中文件的第三方组件的一个提交点为例子 <a href="https://github.com/flyskywhy/react-native-aliyun-oss/commit/eb68565636f4e0276cdd8a234a44d962e46481ed" target="_blank" rel="noopener noreferrer">解决 iOS 无法上传的问题，虽然有些编译出来的应用能够上传，但只是凑巧罢了，因为设置监听时间按正常流程必须要 早于触发事件</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="keyboard">Keyboard<a href="#keyboard" class="hash-link" aria-label="Direct link to Keyboard" title="Direct link to Keyboard" translate="no">​</a></h3>
<p>当键盘出现时，可以调整一下页面布局以更美观。参考 <a href="https://github.com/soliury/noder-react-native/blob/master/src/layouts/Comment.js" target="_blank" rel="noopener noreferrer">Comment.js</a> 中如下语句调整组件高度的方式：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Keyboard.addListener(&#x27;keyboardDidShow&#x27;, this.updateKeyboardSpace.bind(this))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  updateKeyboardSpace (e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LayoutAnimation.configureNext(animations.keyboard.layout.spring)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.commentsView &amp;&amp; this.commentsView.setNativeProps({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      style: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        height: commentsHeight - e.endCoordinates.height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="touchable-系列组件">Touchable 系列组件<a href="#touchable-系列组件" class="hash-link" aria-label="Direct link to Touchable 系列组件" title="Direct link to Touchable 系列组件" translate="no">​</a></h3>
<p>使用 Touchable 系列组件，如果进行 setState 时发现卡顿严重或者需要进行大量掉帧操作，可以使用以下方式解决卡顿问题：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    onPress =　() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        requestAnimationFrame(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // todo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="无状态组件">无状态组件<a href="#无状态组件" class="hash-link" aria-label="Direct link to 无状态组件" title="Direct link to 无状态组件" translate="no">​</a></h3>
<p>无状态组件是一个 render 方法，并没有组件类的实例过程，也没有实例返回。没有状态，没有生命周期，只有简单接受 props 渲染成 DOM 结构，有简单、便捷、高效等诸多优点，如果可能，尽量使用无状态组件。</p>
<p>构造方法1：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    const HiTitle = (props) =&gt; (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {props.title}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span></code></pre></div></div>
<p>构造方法2：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    const HiTitle = (props) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            title</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } = props;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {title}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>无状态组件既然可以接收 props ，那么也就可以设置 propTypes 和 defaultProps</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    HiTitle.propTypes = {title: PropTypes.string}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HiTitle.defaultProps = {title: &#x27;stateless component&#x27;}</span><br></span></code></pre></div></div>
<p>使用：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;HiTitle /&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="react-v16-render-可以返回数组和字符串">react-v16 render 可以返回数组和字符串<a href="#react-v16-render-可以返回数组和字符串" class="hash-link" aria-label="Direct link to react-v16 render 可以返回数组和字符串" title="Direct link to react-v16 render 可以返回数组和字符串" translate="no">​</a></h3>
<ul>
<li>返回数组</li>
</ul>
<p>例子：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    const RenderMultiple = () =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt; 11111&lt;/Text&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt; 22222&lt;/Text&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt; 33333&lt;/Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span></code></pre></div></div>
<p>使用：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;RenderMultiple /&gt;</span><br></span></code></pre></div></div>
<ul>
<li>返回字符串</li>
</ul>
<p>例子:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    const RenderString = () =&gt; &#x27;Hello world&#x27;;</span><br></span></code></pre></div></div>
<p>使用：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;RenderString /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Text&gt;</span><br></span></code></pre></div></div>
<ul>
<li>返回字符串数组</li>
</ul>
<p>例子:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    const RenderArrayOfString = () =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;A&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;B&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;C&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span></code></pre></div></div>
<p>调用:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;RenderArrayOfString /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Text&gt;</span><br></span></code></pre></div></div>
<ul>
<li>返回数组的数组(二维数组)</li>
</ul>
<p>例子:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    const RenderArrayOfArray = () =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt;S1&lt;/Text&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt;S2&lt;/Text&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt;What&lt;/Text&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Text&gt;Ever&lt;/Text&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span></code></pre></div></div>
<p>调用:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;RenderArrayOfArray /&gt;</span><br></span></code></pre></div></div>
<ul>
<li>如果返回数组时报警告说需要一个不相等的 key ，则要么在 props 中添加 key ，要么通过以下代码避免这个警告</li>
</ul>
<p>例子:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    const Wrap = (props) =&gt; props.children;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const WrapContainer = () =&gt; (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Wrap&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;Text&gt;hello&lt;/Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;Text&gt;world&lt;/Text&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Wrap&gt;</span><br></span></code></pre></div></div>
<p>使用:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;WrapContainer /&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shouldcomponentupdate">shouldComponentUpdate<a href="#shouldcomponentupdate" class="hash-link" aria-label="Direct link to shouldComponentUpdate" title="Direct link to shouldComponentUpdate" translate="no">​</a></h3>
<p>自定义 Test组件</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 1 ： &lt;Test style={styles.test}/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 2 ： &lt;Test style={{backgroundColor: &#x27;red&#x27;, width: 20, height: 20}}/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 3 ： &lt;Test style={[{backgroundColor: &#x27;red&#x27;}, {width: 20, height: 20}]}/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 4 ： const style = {backgroundColor: &#x27;red&#x27;, width: 20, height: 20}; 写在 render 方法内部， &lt;Test style={styles}/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 5 ： const style = {backgroundColor: &#x27;red&#x27;, width: 20, height: 20}; 写在 class 类外部， &lt;Test style={styles}/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 6 ： const this.style = {backgroundColor: &#x27;red&#x27;, width: 20, height: 20}; 写在 render 方法内部， &lt;Test style={this.styles}/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 7 ： const this.style = {backgroundColor: &#x27;red&#x27;, width: 20, height: 20}; 写在 constructor 方法内部， &lt;Test style={this.style}/&gt;</span><br></span></code></pre></div></div>
<p>情景 1 ： Test 组件继承自 PureComponent</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 1 ：父组件重新 render，不会触发 Test 组件重新 render</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 2 ：父组件重新 render，会触发 Test 组件重新 render</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 3 ：父组件重新 render，会触发 Test 组件重新 render</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 4 ：父组件重新 render，会触发 Test 组件重新 render</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 5 ：父组件重新 render，不会触发 Test 组件重新 render</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 6 ：父组件重新 render，会触发 Test 组件重新 render</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    调用情况 7 ：父组件重新 render，不会触发 Test 组件重新 render</span><br></span></code></pre></div></div>
<p>情景 2 ： Test 组件继承自 Component</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    上述 7 种调用情况，父组件重新 render，都会触发 Test 组件重新 render</span><br></span></code></pre></div></div>
<p>情景 3 ： Test 组件继承自 BaseComponent</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import React, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} from &#x27;react&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import Immutable from &#x27;immutable&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class BaseComponent extends Component {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shouldComponentUpdate(nextProps, nextState = {}) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return !Immutable.is(Immutable.fromJS(this.props), Immutable.fromJS(nextProps))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        || !Immutable.is(Immutable.fromJS(this.state), Immutable.fromJS(nextState));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default BaseComponent;</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    上述 7 种调用情况，父组件重新 render，都不会触发 Test 组件重新 render</span><br></span></code></pre></div></div>
<p>总结： shouldComponentUpdate 返回 true ，表示该组件需要重新 render ，反之不需要。 PureComponent 中重写了 shouldComponentUpdate ，内部实现是一个浅比较——普通数据类型比较内容、 object 类型数据比较地址。 BaseComponent 中重写了 shouldComponentUpdate ，利用 Immutable 实现每个字段值的比较。</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/JavaScript精选包"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">JavaScript精选包</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/g/docs/i主观的体验方式/t快乐的体验/电信/Tool/编程语言/JavaScript/ReactNative优化"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ReactNative优化</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#变量" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#对象" class="table-of-contents__link toc-highlight">对象</a></li><li><a href="#数组" class="table-of-contents__link toc-highlight">数组</a></li><li><a href="#条件表达式" class="table-of-contents__link toc-highlight">条件表达式</a></li><li><a href="#循环体" class="table-of-contents__link toc-highlight">循环体</a></li><li><a href="#数字" class="table-of-contents__link toc-highlight">数字</a><ul><li><a href="#字符串转成数字的有效方法" class="table-of-contents__link toc-highlight">字符串转成数字的有效方法</a></li><li><a href="#浮点数运行不精确问题" class="table-of-contents__link toc-highlight">浮点数运行不精确问题</a></li></ul></li><li><a href="#hasownproperty" class="table-of-contents__link toc-highlight">hasOwnProperty</a></li><li><a href="#npm" class="table-of-contents__link toc-highlight">npm</a></li><li><a href="#react" class="table-of-contents__link toc-highlight">React</a><ul><li><a href="#方法顺序" class="table-of-contents__link toc-highlight">方法顺序</a></li><li><a href="#fiber-架构" class="table-of-contents__link toc-highlight">Fiber 架构</a></li><li><a href="#setstate" class="table-of-contents__link toc-highlight">setState</a></li><li><a href="#addlistener" class="table-of-contents__link toc-highlight">addListener</a></li><li><a href="#keyboard" class="table-of-contents__link toc-highlight">Keyboard</a></li><li><a href="#touchable-系列组件" class="table-of-contents__link toc-highlight">Touchable 系列组件</a></li><li><a href="#无状态组件" class="table-of-contents__link toc-highlight">无状态组件</a></li><li><a href="#react-v16-render-可以返回数组和字符串" class="table-of-contents__link toc-highlight">react-v16 render 可以返回数组和字符串</a></li><li><a href="#shouldcomponentupdate" class="table-of-contents__link toc-highlight">shouldComponentUpdate</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/g/docs">Docs</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/g/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/flyskywhy/g" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>